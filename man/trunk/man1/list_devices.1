'\" te
.\" CDDL HEADER START
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").  
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\" CDDL HEADER END
.\"  Copyright 2006 Sun Microsystems, Inc. All Rights Reserved
.TH list_devices 1 "16 Mar 2006" "SunOS 5.11" "User Commands"
.SH NAME
list_devices \- list allocatable devices
.SH SYNOPSIS
.LP
.nf
\fBlist_devices\fR [\fB-s\fR] [\fB-U\fR \fIuid\fR] [\fB-z\fR \fIzonename\fR] [\fB-a\fR] 
    [\fB-l\fR | \fB-n\fR | \fB-u\fR] [\fIdevice\fR]
.fi

.LP
.nf
\fBlist_devices\fR [\fB-s\fR] \fB-d\fR \fIdev-type\fR
.fi

.SH DESCRIPTION
.LP
The \fBlist_devices\fR utility lists the allocatable devices in the system according to specified qualifications.
.LP
The \fIdevice\fR and all device special files associated with the device are listed. The device argument is optional and, if it is not present, all relevant devices are listed.
.SH OPTIONS
.LP
The following options are supported:
.sp
.ne 2
.mk
.na
\fB\fB-l\fR [\fIdevice\fR]\fR
.ad
.RS 15n
.rt  
Lists the pathname(s) of the device special files associated with the device that are allocatable to the current process. If \fIdevice\fR is given, lists only the files associated
with the specified device.
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR [\fIdevice\fR]\fR
.ad
.RS 15n
.rt  
Lists the pathname(s) of device special files associated with the device that are allocatable to the current process but are not currently allocated. If \fIdevice\fR is given, lists only
the files associated with that device.
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fR
.ad
.RS 15n
.rt  
Silent. Suppresses any diagnostic output.
.RE

.sp
.ne 2
.mk
.na
\fB\fB-u\fR [\fIdevice\fR]\fR
.ad
.RS 15n
.rt  
Lists the pathname(s) of device special files, associated with the device that are allocated to the owner of the current process. If \fIdevice\fR is given, list only the files associated
with that device.
.RE

.sp
.ne 2
.mk
.na
\fB\fB-U\fR \fIuid\fR\fR
.ad
.RS 15n
.rt  
Uses the user \fBID\fR \fIuid\fR instead of the real user \fBID\fR of the current process when performing the \fBlist_devices\fR operation. Only a user
with the \fBsolaris.device.revoke\fR authorization can use this option.
.RE

.LP
The following options are supported if the system is configured with Trusted Extensions:
.sp
.ne 2
.mk
.na
\fB\fB-a\fR\fR
.ad
.RS 15n
.rt  
Lists attributes like authorizations, cleaning programs and labels associated with a device.
.RE

.sp
.ne 2
.mk
.na
\fB\fB-d\fR\fR
.ad
.RS 15n
.rt  
Displays the system-supplied default attributes for the device types managed by device allocation. If \fIdev-type\fR is specified, it lists the default attributes for only that device type.
.RE

.sp
.ne 2
.mk
.na
\fB\fB-z\fR \fIzonename\fR\fR
.ad
.RS 15n
.rt  
When specified with the \fB-l\fR option, lists only those non-allocated devices whose label range includes the label of the zonename, and of the allocated devices, only those that are allocated at
the same label as that of \fIzonename\fR.
.sp
When specified with the \fB-n\fR option, lists only those non-allocated devices whose label range includes the label of the \fIzonename\fR.
.sp
When specified with the \fB-u\fR option, lists only those devices that are allocated at the same label as that of \fIzonename\fR.
.RE

.SH EXIT STATUS
.LP
The following exit values are returned:
.sp
.ne 2
.mk
.na
\fBnon\(emzero\fR
.ad
.RS 15n
.rt  
An error occurred.
.RE

.SH FILES
.LP
\fB/etc/security/device_allocate\fR
.LP
\fB/etc/security/device_maps\fR
.LP
\fB/etc/security/dev/*\fR
.LP
\fB/usr/security/lib/*\fR
.SH ATTRIBUTES
.LP
See \fBattributes\fR(5) for descriptions of the following attributes:
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
ATTRIBUTE TYPEATTRIBUTE VALUE
_
AvailabilitySUNWcsu
_
Interface StabilitySee below.
.TE

.LP
The invocation is Evolving. The options are Evolving. The output is unstable.
.SH SEE ALSO
.LP
\fBallocate\fR(1), \fBdeallocate\fR(1), \fBbsmconv\fR(1M), \fBdminfo\fR(1M), \fBmkdevalloc\fR(1M), \fBmkdevmaps\fR(1M), \fBdevice_allocate\fR(4), \fBdevice_maps\fR(4), \fBattributes\fR(5)
.LP
\fIControlling Access to Devices\fR
.SH NOTES
.LP
The functionality described in this man page is available only if the Basic Security Module (BSM) has been enabled. See \fBbsmconv\fR(1M) for more information.
.LP
On systems configured with Trusted Extensions, the functionality is enabled by default.
.LP
\fB/etc/security/dev\fR, \fBmkdevalloc\fR(1M), and \fBmkdevmaps\fR(1M) might not be supported in a future release of the Solaris Operating Environment.
