<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting
Up Mail Services (Task Map) - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p72.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p72.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p74.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="mailadmin-263"></a><h3>Setting
Up Mail Services (Task Map)</h3>
<p><a name="indexterm-1132"></a>The following table describes
the procedures for setting up mail
services.</p>
<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>Setting up a mail server</p>
</td><td><p>Steps to enable a server to
route mail</p>
</td><td><p><a href="p73.html#mailadmin-15">How to Set Up a Mail Server</a></p>
</td></tr>
<tr><td><p>Setting up a mail client</p>
</td><td><p>Steps to enable a user to receive
mail</p>
</td><td><p><a href="p74.html">How to Set Up a Mail Client</a></p>
</td></tr>
<tr><td><p>Setting up a mail host</p>
</td><td><p>Steps to establish a mail host
that can resolve email addresses</p>
</td><td><p><a href="p74.html#mailadmin-29">How to Set Up a Mail Host</a></p>
</td></tr>
<tr><td><p>Setting up a mail gateway</p>
</td><td><p>Steps to manage communication
with networks outside your domain</p>
</td><td><p><a href="p75.html">How to Set Up a Mail Gateway</a></p>
</td></tr>
<tr><td><p>Using DNS with <tt>sendmail</tt></p>
</td><td><p>Steps to enable DNS host lookups</p>
</td><td><p><a href="p75.html#mailadmin-122">How to Use DNS With <tt>sendmail</tt></a></p>
</td></tr>
<tr><td><p>Setting up a virtual host</p>
</td><td><p>Steps to assign more than one
IP address to a host</p>
</td><td><p><a href="p75.html#mailadmin-268">Setting Up a Virtual Host</a></p>
</td></tr>
</table><a name="mailadmin-13"></a><h3>Setting
Up Mail Services</h3>
<p>You can readily set up a mail
service if your site does not provide
connections to email services outside
your company or if your company is
in a single domain.</p>
<p>Mail requires two types of configurations
for local mail. Refer to <a href="p72.html#mailadmin-fig-4">Figure 13-1</a> in <a href="p72.html#mailadmin-3">Local Mail Only</a> for a representation
of these configurations. Mail requires
two more configurations for communication
with networks outside your domain.
Refer to <a href="p71.html#mailintro-fig-18">Figure 12-1</a> in <a href="p71.html#mailintro-17">Overview of the Hardware Components</a> or <a href="p72.html#mailadmin-fig-8">Figure 13-2</a> in <a href="p72.html#mailadmin-7">Local Mail and a Remote Connection</a> for
a representation of these configurations.
You can combine these configurations
on the same system or provide these
configurations on separate systems.
For example, if your mail host and
mail server functions are on the same
system, follow the directions in this
section for setting up that system
as a mail host. Then, follow the directions
in this section for setting up the
same system as a mail server.</p>
<hr>
<p><b>Note - </b><a name="indexterm-1133"></a>The following procedures
for setting up a mail server and mail
client apply when mailboxes are NFS
mounted. However, mailboxes typically
are maintained in locally mounted <tt>/var/mail</tt> directories, which
eliminates the need for the following
procedures.</p>
<hr>
<p>Refer to the following:</p>
<ul><li><p><a href="p73.html#mailadmin-15">How to Set Up a Mail Server</a></p>
</li>
<li><p><a href="p74.html">How to Set Up a Mail Client</a></p>
</li>
<li><p><a href="p74.html#mailadmin-29">How to Set Up a Mail Host</a></p>
</li>
<li><p><a href="p75.html">How to Set Up a Mail Gateway</a></p>
</li>
<li><p><a href="p75.html#mailadmin-122">How to Use DNS With <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p75.html#mailadmin-268">Setting Up a Virtual Host</a></p>
</li>
</ul>
<a name="mailadmin-15"></a><h4><img src="graphics/procedure.gif"> How
to Set Up a Mail Server</h4>
<p>No special steps are required
to set up a mail server that is only
serving mail for local users. The
user must have an entry in the password
file or in the namespace. Also, for
mail to be delivered, the user should
have a local home directory for checking
the <tt>~/.forward</tt> file.
For this reason, home directory servers
are often set up as the mail server. <a href="p90.html#mailrefer-68">Hardware Components</a> in <a href="p87.html">Chapter&nbsp;14, Mail Services (Reference)</a> provides
more information about the mail server.</p>
<p>The mail server can route mail
for many mail clients. This type of
mail server must have adequate spooling
space for client mailboxes.</p>
<hr>
<p><b>Note - </b>The <tt>mail.local</tt> program
automatically creates mailboxes in
the <tt>/var/mail</tt> directory
the first time a message is delivered.
You do not need to create individual
mailboxes for your mail clients.</p>
<p>For clients to access their
mailboxes, the <tt>/var/mail</tt> directory
should be available for remote mounting.
Alternately, a service such as Post
Office Protocol (POP) or Internet
Message Access Protocol (IMAP) should
be available from the server. The
following task shows you how to set
up a mail server by using the <tt>/var/mail</tt> directory. To provide
configuration guidelines for POP or
IMAP is beyond the scope of this document.</p>
<hr>
<p>For the following task, ensure
that the <tt>/etc/dfs/dfstab</tt> file
shows that the <tt>/var/mail</tt> directory
is exported.</p>
<ol><li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information
about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>. To configure
a role with the Primary Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="mailadmin-step-273"></a><b>Stop <tt>sendmail</tt>.</b><pre># <tt><b>svcadm -t disable network/smtp:sendmail</b></tt></pre></li><li><a name="mailadmin-step-17"></a><b><a name="indexterm-1134"></a>Check if the <tt>/var/mail</tt> directory is available
for remote access.</b><pre># <tt><b>share</b></tt></pre><p>If the <tt>/var/mail</tt> directory
is listed, proceed to step 5.</p><p>If the <tt>/var/mail</tt> directory
is not listed or if no list appears,
continue with the appropriate substep.</p><ol><li><a name="mailadmin-step-230"></a>(Optional) <b>If no
list appears, start NFS services.</b><p>Follow the procedure, <a href="p15.html#rfsadmin-57">How to Set Up Automatic File-System Sharing</a>,
to use the <tt>/var/mail</tt> directory
to start NFS services.</p></li><li><a name="mailadmin-step-231"></a>(Optional) <b>If the <tt>/var/mail</tt> directory is
not included in the list, add the
directory to <tt>/etc/dfs/dfstab</tt>.</b><p>Add the following command
line to the <tt>/etc/dfs/dfstab</tt> file.</p><pre><tt><b>share -F nfs -o rw /var/mail</b></tt></pre></li></ol></li><li><a name="mailadmin-step-19"></a><b>Make
the file system available for mounting.</b><pre># <tt><b>shareall</b></tt></pre></li><li><a name="mailadmin-step-274"></a><b>Ensure
that your name service has been started.</b><ol><li><a name="mailadmin-step-232"></a>(Optional) <b>If you
are running NIS, use this command.</b><pre># <tt><b>ypwhich</b></tt></pre><p>For more information, refer
to the <tt>ypwhich</tt>(1) man
page.</p></li><li><a name="mailadmin-step-233"></a>(Optional) <b>If you
are running NIS+, use this command.</b><pre># <tt><b>nisls</b></tt></pre><p>For more information, refer
to the <tt>nisls</tt>(1) man
page.</p></li><li><a name="mailadmin-step-234"></a>(Optional) <b>If you
are running DNS, use this command.</b><pre># <tt><b>nslookup </tt><i>hostname</i><tt></b></tt></pre><dl><dt><i>hostname</i></dt>
<dd><p>Use your host name.</p>
</dd>
</dl>
<p>For more information, refer
to the <tt>nslookup</tt>(1M) man
page.</p></li><li><a name="mailadmin-step-235"></a>(Optional) <b>If you
are running LDAP, use this command.</b><pre># <tt><b>ldaplist</b></tt></pre><p>For more information, refer
to the <tt>ldaplist</tt>(1) man
page.</p></li></ol></li><li><a name="mailadmin-step-276"></a><b>Restart <tt>sendmail</tt>.</b><pre># <tt><b>svcadm enable network/smtp:sendmail</b></tt></pre></li></ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p72.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p74.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

