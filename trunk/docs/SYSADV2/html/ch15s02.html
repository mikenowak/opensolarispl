<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Ways to Automatically Execute System Tasks</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="ch15.html" title="Chapter 15. Scheduling System Tasks (Tasks)"><link rel="prev" href="ch15.html" title="Chapter 15. Scheduling System Tasks (Tasks)"><link rel="next" href="ch15s03.html" title="Scheduling a Repetitive System Task (cron)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Ways to Automatically Execute System Tasks</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch15.html">Prev</a> </td><th width="60%" align="center">Chapter 15. Scheduling System Tasks (Tasks)</th><td width="20%" align="right"> <a accesskey="n" href="ch15s03.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sysrescron-68"></a>Ways to Automatically Execute System Tasks</h2></div></div></div>

<p>
<a class="indexterm" name="sysresconcepts-ix1996"></a>You can set up many system tasks to execute automatically. Some of these
tasks should occur at regular intervals. Other tasks need to run only once, perhaps
during off hours such as evenings or weekends. </p>
<p>
<a class="indexterm" name="sysresconcepts-ix1999"></a>
<a class="indexterm" name="sysresconcepts-ix2001"></a>This section contains overview information about two commands, <span><strong class="command">crontab</strong></span> and <span><strong class="command">at</strong></span>, which enable you to schedule routine
tasks to execute automatically. The <span><strong class="command">crontab</strong></span>  command schedules
repetitive commands. The <span><strong class="command">at</strong></span> command schedules tasks that execute
once.   </p>
<p>
<a class="indexterm" name="sysrescron-ix2465"></a>
<a class="indexterm" name="sysrescron-ix2466"></a>
<a class="indexterm" name="sysrescron-ix2474"></a>
<a class="indexterm" name="sysrescron-ix2475"></a>
<a class="indexterm" name="sysrescron-ix2476"></a>
<a class="indexterm" name="sysrescron-ix2477"></a>
<a class="indexterm" name="sysrescron-ix2478"></a>
<a class="indexterm" name="sysrescron-ix2479"></a>
<a class="indexterm" name="sysrescron-ix2483"></a>The following table summarizes <span><strong class="command">crontab</strong></span> and <span><strong class="command">at</strong></span> commands, as well as the files that enable you to control access to these
commands.</p>
<div class="table"><a name="sysrescron-20472"></a><p class="title"><b>Table 15.1. Command Summary: Scheduling System
Tasks</b></p>


<table summary="Command Summary: Scheduling System
Tasks" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
<p>Command</p>
</th><th>
<p>What It Schedules</p>
</th><th>
<p>Location of Files</p>
</th><th>
<p>Files That Control Access</p>
</th></tr></thead><tbody><tr><td>
<p>
<span><strong class="command">crontab</strong></span> </p>
</td><td>
<p>Multiple system tasks at regular intervals</p>
</td><td>
<p>
<code class="filename">/var/spool/cron/crontabs</code>
</p>
</td><td>
<p>
<code class="filename">/etc/cron.d/cron.allow</code> and <code class="filename">/etc/cron.d/cron.deny</code>
</p>
</td></tr><tr><td>
<p>
<span><strong class="command">at</strong></span> </p>
</td><td>
<p>A single system task </p>
</td><td>
<p>
<code class="filename">/var/spool/cron/atjobs</code>
</p>
</td><td>
<p>
<code class="filename">/etc/cron.d/at.deny</code>
</p>
</td></tr></tbody></table>
</div>
<p>You can also use the Solaris Management Console's Scheduled Jobs tool to schedule
routine tasks. For information on using and starting the Solaris Management Console,
see <span class="olink">Chapter 2, <em class="citetitle">Working With the Solaris Management Console (Tasks),</em> in <em class="citetitle">System Administration Guide: Basic Administration</em>
</span>.</p>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="sysrescron-95"></a>For Scheduling Repetitive Jobs: <span><strong class="command">crontab</strong></span>
</h3></div></div></div>

<p>You can schedule routine system administration tasks to execute daily, weekly,
or monthly by using the <span><strong class="command">crontab</strong></span> command. </p>
<p>
<a class="indexterm" name="sysresconcepts-ix2003"></a>
<a class="indexterm" name="sysresconcepts-ix2004"></a>
<a class="indexterm" name="indexterm-182"></a>
<a class="indexterm" name="indexterm-183"></a>
<a class="indexterm" name="indexterm-184"></a>
<a class="indexterm" name="indexterm-185"></a>Daily <span><strong class="command">crontab</strong></span> system administration tasks might include
the following:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Removing files more than a few days old from temporary directories</p>
</li><li>
<p>Executing accounting summary commands</p>
</li><li>
<p>Taking snapshots of the system by using the <span><strong class="command">df</strong></span> and <span><strong class="command">ps</strong></span> commands</p>
</li><li>
<p>Performing daily security monitoring</p>
</li><li>
<p>Running system backups</p>
</li></ul></div>
<p>
<a class="indexterm" name="sysresconcepts-ix2005"></a>Weekly <span><strong class="command">crontab</strong></span> system administration tasks might include
the following:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Rebuilding the <code class="filename">catman</code> database for use by the <span><strong class="command">man -k</strong></span> command </p>
</li><li>
<p>
<a class="indexterm" name="sysresconcepts-ix2007"></a>Running the <span><strong class="command">fsck -n</strong></span> command to list any disk problems </p>
</li></ul></div>
<p>
<a class="indexterm" name="sysresconcepts-ix2008"></a>Monthly <span><strong class="command">crontab</strong></span> system administration tasks might include
the following:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Listing files not used during a specific month</p>
</li><li>
<p>Producing monthly accounting reports</p>
</li></ul></div>
<p>
<a class="indexterm" name="sysresconcepts-ix2010"></a>
<a class="indexterm" name="sysresconcepts-ix2015"></a>Additionally, users can schedule <span><strong class="command">crontab</strong></span> commands to
execute other routine system tasks, such as sending reminders and removing backup
files.   </p>
<p>For step-by-step instructions on scheduling <span><strong class="command">crontab</strong></span> jobs,
see <span class="olink">How to Create or Edit a <code class="filename">crontab</code> File</span>.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="sysresconcepts-1"></a>For Scheduling a Single Job: <span><strong class="command">at</strong></span>
</h3></div></div></div>

<p>
<a class="indexterm" name="sysresconcepts-ix2016"></a>
<a class="indexterm" name="sysresconcepts-ix2017"></a>
<a class="indexterm" name="sysresconcepts-ix2019"></a>The <span><strong class="command">at</strong></span> command allows you to schedule a job for execution
at a later time. The job can consist of a single command or a script.</p>
<p>
<a class="indexterm" name="sysresconcepts-ix2021"></a>Similar to <span><strong class="command">crontab</strong></span>, the <span><strong class="command">at</strong></span> command
allows you to schedule the automatic execution of routine tasks. However, unlike <span><strong class="command">crontab</strong></span> files, <span><strong class="command">at</strong></span> files execute their tasks once. Then,
they are removed from their directory. Therefore, the <span><strong class="command">at</strong></span> command
is most useful for running simple commands or scripts that direct output into separate
files for later examination. </p>
<p>Submitting an <span><strong class="command">at</strong></span> job involves typing a command and following
the <span><strong class="command">at</strong></span> command syntax to specify options to schedule the time your
job will be executed. For more information about submitting <span><strong class="command">at</strong></span> jobs,
see <span class="olink">Description of the <span><strong class="command">at</strong></span> Command</span>. </p>
<p>
<a class="indexterm" name="sysresconcepts-ix2024"></a>
<a class="indexterm" name="sysresconcepts-ix2027"></a>The <span><strong class="command">at</strong></span> command stores the command or script you ran,
along with a copy of your current environment variable, in the <code class="filename">/var/spool/cron/atjobs</code> directory. Your <span><strong class="command">at</strong></span> job file name is given a long number
that specifies its location in the <span><strong class="command">at</strong></span> queue, followed by the <code class="filename">.a</code> extension, such as <code class="filename">793962000.a</code>.  </p>
<p>The <span><strong class="command">cron</strong></span> daemon checks for <span><strong class="command">at</strong></span> jobs at
startup and listens for new jobs that are submitted. After the <span><strong class="command">cron</strong></span> daemon
executes an <span><strong class="command">at</strong></span> job, the <span><strong class="command">at</strong></span> job's file is removed
from the <code class="filename">atjobs</code> directory. For more information, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">at</span>
(
1
)
</span>
</span> man page.<a class="indexterm" name="sysresconcepts-ix2031"></a> </p>
<p>For step-by-step instructions on scheduling <span><strong class="command">at</strong></span> jobs, see <span class="olink">How to Create an <span><strong class="command">at</strong></span> Job</span>.</p>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch15.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch15.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch15s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 15. Scheduling System Tasks (Tasks) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Scheduling a Repetitive System Task (<span><strong class="command">cron</strong></span>)</td></tr></table></div></body></html>
