<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Resource Management
in the Solaris Operating System - Solaris Containers: Resource Management and Solaris Zones Developer's Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >Solaris Containers: Resource Management and Solaris Zones Developer's Guide<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p3.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p5.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="concepts-2"></a>Chapter&nbsp;1<h3>Resource Management
in the Solaris Operating System</h3><p>The purpose of this manual is to help developers who are writing either
utility applications for managing computer resources or self-monitoring applications
that can check their own usage and adjust accordingly. This chapter provides
an introduction to resource management in the Solaris Operating System (OS).
The following topics are included:</p>
<ul><li><p><a href="p4.html#concepts-3">Understanding Resource Management in the Solaris OS</a></p>
</li>
<li><p><a href="p4.html#concepts-6">Writing Resource Management Applications</a></p>
</li>
</ul>
<a name="concepts-3"></a><h3>Understanding Resource Management in the Solaris
OS</h3>
<p>The main concept behind resource management is that workloads on a server
need to be balanced for the system to work efficiently. Without good resource
management, faulty runaway workloads can bring progress to a halt, causing
unnecessary delays to priority jobs. An additional benefit is that efficient
resource management enables organizations to economize by consolidating servers.
To enable the management of resources, the Solaris OS provides a structure
for organizing workloads and resources, and provides controls for defining
the quantity of resources that a particular unit of workload can consume.
For an in-depth discussion of resource management from the system administrator's
viewpoint, see Chapter 1, Introduction to Solaris Resource Manager, in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i>.</p>
<a name="gackx"></a><h4>Workload Organization</h4>
<p>The basic unit of workload is the <b>process</b>. Process
IDs (PIDs) are numbered sequentially throughout the system. By default, each
user is assigned by the system administrator to a <b>project</b>,
which is a network&ndash;wide administrative identifier. Each successful login
to a project creates a new <b>task</b>, which is a grouping
mechanism for processes. A task contains the login process as well as subsequent
child processes. </p>
<p>For more information on projects and tasks, see Chapter 2, Projects and Tasks (Overview), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i> for
the system administrator's perspective or <a href="p5.html">Chapter&nbsp;2, Projects and Tasks</a> for the developer's point of view.</p>
<p>Processes can optionally be grouped into <b>non-global zones</b>,
which are set up by system administrators for security purposes and to isolate
processes. A zone can be thought of as a box in which one or more applications
run isolated from all other applications on the system. Non-global zones are
discussed thoroughly in Part&nbsp;II, Zones, in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i>.
To learn more about special precautions for writing resource management applications
that run in zones, see <a href="p24.html">Chapter&nbsp;7, Design Considerations for Resource Management Applications in Solaris Zones</a></p>
<a name="gacky"></a><h4>Resource Organization</h4>
<p>The system administrator can assign workloads to specific CPUs or defined
groups of CPUs in the system. CPUs can be grouped into <b>processor
sets</b>, otherwise known as <b>psets</b>. A <tt>pset</tt> in
turn can be coupled with one or more thread scheduling classes, which define
CPU priorities, into a <b>resource pool</b>. Resource pools
provide a convenient mechanism for a system administrator to make system resources
available to users. Chapter 12, Resource Pools (Overview), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i> covers resource pools for system administrators.
Programming considerations are described in <a href="p19.html">Chapter&nbsp;6, Resource Pools</a>.</p>
<p>The following diagram illustrates how workload and computer resources
are organized in the Solaris OS.</p>
<a name="fxxtf"></a>Figure 1-1 Workload and Resource Organization in the Solaris
Operating System<img src="figures/overview.resmgt.gif" alt=""></img><a name="gaclj"></a><h4>Resource Controls</h4>
<p>Simply assigning a workload unit to a resource unit is insufficient
for managing the quantity of resources that users consume. To manage resources,
the Solaris OS provides a set of flags, actions, and signals that are referred
to collectively as <b>resource controls</b>. Resource controls
are stored in the <tt>/etc/project</tt> file or in a zone's configuration
through the <tt>zonecfg</tt> command described in <tt>zonecfg</tt>(1M). The Fair Share Scheduler
(FSS), for example, can allocate shares of CPU resources among workloads based
on the specified importance factor for the workloads. With these resource
controls, a system administrator can set privilege levels and limit definitions
for a specific zone, project, task, or process. To learn how a system administrator
uses resource controls, see Chapter 6, Resource Controls (Overview), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i>. For programming considerations, see <a href="p14.html">Chapter&nbsp;5, Resource Controls</a>.</p>
<a name="gaclg"></a><h4>Extended Accounting Facility</h4>
<p>In addition to the workload and resource organization, the Solaris OS
provides the <b>extended accounting facility</b> for monitoring
and recording system resource usage. The extended accounting facility provides
system administrators with a detailed set of resource consumption statistics
on processes and tasks.</p>
<p>The facility is described in depth for system administrators in Chapter 4, Extended Accounting (Overview), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i>.
The Solaris OS provides developers with both a C interface and a Perl interface
to the extended accounting facility. Refer to <a href="p8.html">Chapter&nbsp;3, Using the C Interface to Extended Accounting</a> for the C interface or <a href="p10.html">Chapter&nbsp;4, Using the Perl Interface to Extended Accounting</a> for the Perl interface.</p>
<a name="concepts-6"></a><h3>Writing Resource Management Applications</h3>
<p>This manual focuses on resource management from the developer's point
of view and presents information for writing the following kinds of applications:</p>
<ul><li><p>Resource administration applications &ndash; Utilities to
perform such tasks as allocating resources, creating partitions, and scheduling
jobs.</p>
</li>
<li><p>Resource monitoring applications &ndash; Applications that
check system statistics through <tt>kstats</tt> to determine resource
usage by systems, workloads, processes, and users.</p>
</li>
<li><p>Resource accounting utilities &ndash; Applications that provide
accounting information for analysis, billing, and capacity planning.</p>
</li>
<li><p>Self-adjusting applications &ndash; Applications that can
determine their use of resources and can adjust consumption as necessary.</p>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p3.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p5.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

