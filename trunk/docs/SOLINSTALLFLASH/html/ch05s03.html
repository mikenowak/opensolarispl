<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Solaris Flash flar Command</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)"><link rel="up" href="ch05.html" title="Chapter 5. Solaris Flash (Reference)"><link rel="prev" href="ch05s02.html" title="Solaris Flash Keywords"><link rel="next" href="go01.html" title="Glossary"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Solaris Flash <span><strong class="command">flar</strong></span> Command</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s02.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Solaris Flash (Reference)</th><td width="20%" align="right"> <a accesskey="n" href="go01.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="flash-52"></a>Solaris Flash <span><strong class="command">flar</strong></span> Command</h2></div></div></div>

<p>Use the Solaris Flash <span><strong class="command">flar</strong></span> command to create a Solaris Flash archive
and administer the archive</p>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="flash-53"></a>The <span><strong class="command">flar</strong></span> Command</h3></div></div></div>

<a class="indexterm" name="indexterm-75"></a>
<a class="indexterm" name="indexterm-76"></a>
<p>The flar command
can be used with the following options: </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>
<span><strong class="command">flarcreate</strong></span> creates an archive</p>
</li><li>
<p>
<span><strong class="command">flar combin</strong></span> merges two archives</p>
</li><li>
<p>
<span><strong class="command">flar split</strong></span> breaks an archive into sections</p>
</li><li>
<p>
<span><strong class="command">flar info</strong></span> checks the structure of an archive</p>
</li></ul></div>
<p>Use the <span><strong class="command">flarcreate</strong></span> command to create
a Solaris Flash archive from a master system. You can use this command when the
master system is running in multiuser mode or single-user mode.  You can also use <span><strong class="command">flarcreate</strong></span> when the master system is
booted from the following media.</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Solaris Operating System DVD</p>
</li><li>
<p>Solaris Software - 1  CD</p>
</li><li>
<p>An image of the Solaris Software CDs and Solaris Languages CD</p>
</li></ul></div>
<p>The master system should be in as stable a state as possible when you create
a Solaris Flash archive. </p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>You can create
a Solaris Flash archive by using either of these command options:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>As two words: <span><strong class="command">flar</strong></span> with the <span><strong class="command">create</strong></span> subcommand</p>
</li><li>
<p>As one word: <span><strong class="command">flarcreate</strong></span>
</p>
</li></ul></div>
</div>
<p>The syntax of
the command is as follows:</p>
<p>
<span><strong class="command">flarcreate <code class="option">
n</code> <em class="replaceable"><code>archive_name</code></em> [<code class="option">
R</code> <em class="replaceable"><code>root</code></em>] [<code class="option">
A</code> <em class="replaceable"><code>unchanged_master_image_dir</code></em>]
[<code class="option">
H</code>][<code class="option">
I</code>][<code class="option">
M</code>][[<code class="option">
S</code>]<code class="option">
c</code>][<code class="option">
t</code> [<code class="option">
p</code> <em class="replaceable"><code>posn</code></em>]
[<code class="option">
b</code> <em class="replaceable"><code>blocksize</code></em>]][<code class="option">
i</code> <em class="replaceable"><code>date</code></em>][<code class="option">
u</code> <em class="replaceable"><code>section</code></em> ...][<code class="option">
m</code> <em class="replaceable"><code>master</code></em>][<code class="option">
f</code> [<em class="replaceable"><code>list_filename</code></em>| -] [<code class="option">
F</code>][<code class="option">
a</code> <em class="replaceable"><code>author</code></em>][<code class="option">
e</code> <em class="replaceable"><code>descr</code></em>|<code class="option">
E</code> <em class="replaceable"><code>descr_file</code></em>][<code class="option">
L</code> cpio][<code class="option">
T</code> <em class="replaceable"><code>type</code></em>][<code class="option">
U</code> <em class="replaceable"><code>key=val</code></em> ...][<code class="option">
x</code> <em class="replaceable"><code>exclude_dir/filename</code></em>]
[<code class="option">
y</code> <em class="replaceable"><code>include_dir/filename</code></em>] [<code class="option">
z</code> <em class="replaceable"><code>list_filename</code></em>] [<code class="option">
X</code> <em class="replaceable"><code>list_filename</code></em>]<em class="replaceable"><code>path/filename</code></em>
</strong></span>
</p>
<p>
<span><strong class="command">flar combine [<code class="option">
d</code> <em class="replaceable"><code>dir</code></em>] [<code class="option">
u</code> <em class="replaceable"><code>section...</code></em>] [<code class="option">
t</code> [<code class="option">
p</code> <em class="replaceable"><code>posn</code></em>] <em class="replaceable"><code>path/filename</code></em>
</strong></span>
</p>
<p>
<span><strong class="command">flar split [<code class="option">
d</code> <em class="replaceable"><code>dir</code></em>] [<code class="option">
u</code> <em class="replaceable"><code>section...</code></em>] [<code class="option">
f</code>]  [<code class="option">
S</code>  <em class="replaceable"><code>section</code></em>]  [<code class="option">
t</code> [<code class="option">
p</code> <em class="replaceable"><code>posn</code></em>] <em class="replaceable"><code>path/filename</code></em>
</strong></span>     </p>
<p>
<span><strong class="command">flar info [<code class="option">
l</code>]
[<code class="option">
k</code> <em class="replaceable"><code>keyword</code></em>] [<code class="option">
t</code> [<code class="option">
p</code> <em class="replaceable"><code>posn</code></em>] <em class="replaceable"><code>path/filename</code></em>
</strong></span>
</p>
<p>In the previous command lines, <em class="replaceable"><code>path</code></em> is the directory
in which you want the archive file to be saved. <em class="replaceable"><code>filename</code></em> is
the name of the archive file. If you do not specify a path, <span><strong class="command">flarcreate</strong></span> saves the archive file
in the current directory.</p>
<div class="table"><a name="flash-tbl-54"></a><p class="title"><b>Table 5.7. Command-Line Options for the <span>flar</span> Command</b></p>


<table summary="Command-Line Options for the flar Command" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Option</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td colspan="2">
<p>Required Options</p>
</td></tr><tr><td>
<p>
<code class="option">
n</code> <em class="replaceable"><code>archive_name</code></em>
</p>
</td><td>
<p>The value of this flag is the name of the archive.  The <em class="replaceable"><code>archive_name</code></em> you specify is the value of the <code class="filename">content_name</code> keyword.</p>
</td></tr><tr><td colspan="2">
<p>Option for Compression</p>
</td></tr><tr><td>
<p>
<code class="option">
c</code>
</p>
</td><td>
<p>Compresses the archive by using <span><strong class="command">compress(1)</strong></span>.</p>
</td></tr><tr><td colspan="2">
<p>Options for Directories and Sizes</p>
</td></tr><tr><td>
<p>
<code class="option">
R</code> <em class="replaceable"><code>root</code></em>
</p>
</td><td>
<p>Creates the archive from the file system tree that is rooted at <em class="replaceable"><code>root</code></em>.  If you do not specify this option, <span><strong class="command">flarcreate</strong></span> creates an archive from a
file system that is rooted at <code class="filename">/</code>.</p>
</td></tr><tr><td>
<p>
<code class="option">
S</code>
</p>
</td><td>
<p>Omits sizing information in the archive.</p>
</td></tr><tr><td>
<p>
<code class="option">
H</code>
</p>
</td><td>
<p>Does not generate the hash identifier.</p>
</td></tr><tr><td colspan="2">
<p>Options for Creating a Differential Archive</p>
</td></tr><tr><td>
<p>
<code class="option">
A</code> <em class="replaceable"><code>unchanged_master_image_dir</code></em>
</p>
</td><td>
<p>Creates a differential archive by comparing a new system image with the image
that is specified by the <em class="replaceable"><code>unchanged_master_image_dir</code></em> argument.
By default, the new system image is root (<code class="filename">/</code>). You can change
the default with the <code class="option">
R</code> option. <em class="replaceable"><code>unchanged_master_image_dir</code></em> is a directory where the unchanged master system image is stored or
mounted through UFS, NFS, or <span><strong class="command">lumount</strong></span>.</p>
<p>You can modify the effects of file selection for a differential archive by using
the options for contents selection described in the next section of the table.</p>
</td></tr><tr><td>
<p>
<code class="option">
M</code>
</p>
</td><td>
<p>Excludes the manifest file. When you use this option, no validation occurs on
the differential archive. When creating a differential archive, <span><strong class="command">flarcreate</strong></span> creates a long list of the
files in the system that are unchanged, are changed, and are to be deleted from the
archive. This list is stored in the manifest section of the archive. When the differential
archive is deployed, the software uses this list to perform a file-by-file check,
ensuring the integrity of the clone system. Use of this option avoids such a check
and saves the space that is used by the manifest section in a differential archive.
However, you must consider the savings in time and disk space against the loss of
an integrity check upon installation. Because no validation occurs, avoid using this
option.</p>
</td></tr><tr><td colspan="2">
<p>Options for Contents Selection</p>
</td></tr><tr><td colspan="2">
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3>

<p>Use the <span><strong class="command">flarcreate</strong></span> file-exclusion options with caution. If you exclude some directories, others
that you were unaware of might be left in the archive, such as system configuration
files. The system would then be inconsistent and the installation would not work.
Excluding directories and files is best used with data that can easily be removed
without disrupting the system, such as large data files.</p>
</div>
</td></tr><tr><td>
<p>
<code class="option">
y</code> <em class="replaceable"><code>include_dir/filename</code></em> </p>
</td><td>
<p>Adds to the archive those files and directories that are specified on the command
line. This option is used when you have excluded a directory, but want to restore
individual subdirectories or files.</p>
<p>
<em class="replaceable"><code>include_dir/filename</code></em> is the name of the subdirectory
or file to be included. </p>
</td></tr><tr><td>
<p>
<code class="option">
f</code> <em class="replaceable"><code>list_filename</code></em> </p>
</td><td>
<p>Adds files and directories from a list to the archive. </p>
<p>
<em class="replaceable"><code>list_filename</code></em> is the full path to a file that contains
a list. The contents of the file are added to the file list unless <code class="option">
F</code> is
specified. </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The <em class="replaceable"><code>list_filename</code></em> file must contain one
file per line.  </p>
</li><li>
<p>If you specify a file system with <code class="option">
R</code> <em class="replaceable"><code>root</code></em>, the path to each file must be relative to the alternate <code class="filename">root</code> directory or an absolute path.</p>
</li><li>
<p>If <em class="replaceable"><code>filename</code></em> is &#8220;-&#8221;, <span><strong class="command">flarcreate</strong></span> reads  standard input  as
the list of files.  When you use the value &#8220;-&#8221;, the archive size is not
calculated.</p>
</li></ul></div>
</td></tr><tr><td>
<p>
<code class="option">
F</code> </p>
</td><td>
<p>Uses only the files in <code class="option">
f</code> <em class="replaceable"><code>list_filename</code></em> to
create the archive. This option makes the <code class="option">
f</code> <em class="replaceable"><code>list_filename</code></em> the absolute list, rather than a list that is appended to the normal
file list.</p>
</td></tr><tr><td>
<p>
<code class="option">
x</code> <em class="replaceable"><code>exclude_dir/filename</code></em> </p>
</td><td>
<p>Excludes  files and directories from the archive. These files and directories
are specified at the command line. You can use multiple instances of this option to
exclude more than one file or directory.</p>
<p>
<em class="replaceable"><code>exclude_dir/filename</code></em> is the name of the directory
or file to be excluded. </p>
</td></tr><tr><td>
<p>
<code class="option">
X</code> <em class="replaceable"><code>list_filename</code></em> </p>
</td><td>
<p>Excludes a list of files or directories from the archive. </p>
<p>
<em class="replaceable"><code>list_filename</code></em> is the full path to a file that contains
the list. </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The <em class="replaceable"><code>list_filename</code></em> file must contain one
file per line.  </p>
</li><li>
<p>If you specify a file system with <code class="option">
R</code> <em class="replaceable"><code>root</code></em>, the path to each file must be relative to the alternate <code class="filename">root</code> directory or an absolute path.</p>
</li><li>
<p>If <em class="replaceable"><code>list_filename</code></em> is &#8220;-&#8221;, <span><strong class="command">flarcreate</strong></span> reads standard input  as the
list of files.  When you use the value &#8220;-&#8221;, the archive size is not calculated.</p>
</li></ul></div>
</td></tr><tr><td>
<p>
<code class="option">
z</code> <em class="replaceable"><code>list_filename</code></em> </p>
</td><td>
<p>Excludes or includes a list of files or directories from the archive. Each file
or directory in the list is noted with a plus &#8220;+&#8221; or minus &#8220;-&#8221;.
A plus indicates an included file or directory and the minus indicates an excluded
file or directory.</p>
<p>
<em class="replaceable"><code>list_filename</code></em> is the full path to a file that contains
the list. </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The <em class="replaceable"><code>list_filename</code></em> file must contain one
file per line.  </p>
</li><li>
<p>If you specify a file system with <code class="option">
R</code> <em class="replaceable"><code>root</code></em>, the path to each file must be relative to the alternate <code class="filename">root</code> directory or an absolute path.</p>
</li></ul></div>
</td></tr><tr><td>
<p>
<code class="option">
I</code>
</p>
</td><td>
<p>Override the integrity check. To prevent you from excluding important system
files from an archive, <span><strong class="command">flarcreate</strong></span> runs an integrity check. This check examines all files that are registered
in a system package database and stops archive creation if any of them are excluded.
Use of this option overrides this integrity check. Therefore, avoid the use of the <code class="option">
I</code> option.</p>
</td></tr><tr><td colspan="2">
<p>Options for Splitting and
Merging Archives</p>
</td></tr><tr><td>
<p>
<code class="option">
d</code> <em class="replaceable"><code>dir</code></em>
</p>
</td><td>
<p>Retrieves the sections to copy from <em class="replaceable"><code>dir</code></em>, rather than
from the current directory.</p>
</td></tr><tr><td>
<p>
<code class="option">
u</code> <em class="replaceable"><code>section</code></em>
</p>
</td><td>
<div class="itemizedlist"><ul type="disc"><li>
<p>If you use this option, <span><strong class="command">flar</strong></span> copies the cookie, identification, archive, and <em class="replaceable"><code>section</code></em> sections.  You can specify a single section name or a space-separated
list of section names.</p>
</li><li>
<p>If you do <span class="emphasis"><em>not</em></span> use this option, <span><strong class="command">flar</strong></span> copies the cookie, ldentification, and archive sections only.</p>
</li></ul></div>
</td></tr><tr><td>
<p>
<code class="option">
f</code> archive</p>
</td><td>
<p>Extracts the archive section into a directory that is named <code class="filename">archive</code>, rather than placing it in a file with the name <code class="filename">archive</code>. Used for splitting an archive</p>
</td></tr><tr><td>
<p>
<code class="option">
S</code> <em class="replaceable"><code>section</code></em>
</p>
</td><td>
<p>Only copies the section that is named <em class="replaceable"><code>section</code></em> from
the archive. This section is user defined.
Used for splitting an archive.</p>
</td></tr><tr><td colspan="2">
<p>Option Used To Copy Files
(Archive)</p>
</td></tr><tr><td>
<p>
<code class="option">
L cpio</code> </p>
</td><td>
<p>The <span><strong class="command">pax</strong></span> utility
is the default copy method. For backward compatibility issues, you can create
a <span><strong class="command">cpio</strong></span> archive with the <code class="option">
L cpio</code> option. A <span><strong class="command">cpio</strong></span> archive cannot contain Individual file sizes  over 4 Gbytes.</p>
</td></tr><tr><td colspan="2">
<p>Options Used With User-Defined Sections</p>
</td></tr><tr><td>
<p>
<code class="option">
u</code> <em class="replaceable"><code>section</code></em>
</p>
</td><td>
<p>Includes <em class="replaceable"><code>section</code></em> as a user-defined section.  To include
more than one user-defined section, <em class="replaceable"><code>section</code></em> must be a space-separated
list of section names.</p>
</td></tr><tr><td>
<p>
<code class="option">
d</code> <em class="replaceable"><code>dir</code></em>
</p>
</td><td>
<p>Retrieves the section file that is specified with <code class="option">
u</code> from <em class="replaceable"><code>dir</code></em>.</p>
</td></tr><tr><td colspan="2">
<p>Options Used With Tape Archives</p>
</td></tr><tr><td>
<p>
<code class="option">
t</code> </p>
</td><td>
<p>Creates an archive on a tape device.  The <em class="replaceable"><code>filename</code></em> argument
is the name of the tape device. </p>
</td></tr><tr><td>
<p>
<code class="option">
p</code> <em class="replaceable"><code>posn</code></em>
</p>
</td><td>
<p>Use only with the <code class="option">
t</code> option. Specifies the position on the tape
device for <span><strong class="command">flarcreate</strong></span> to store the
archive.  If you do not use this option, <span><strong class="command">flarcreate</strong></span> places the archive at the current position of the tape. </p>
</td></tr><tr><td>
<p>
<code class="option">
b</code> <em class="replaceable"><code>blocksize</code></em>
</p>
</td><td>
<p>Specifies the block size <span><strong class="command">flarcreate</strong></span> uses when creating the archive.  If you do not specify a block size, <span><strong class="command">flarcreate</strong></span> uses the default block size
of 64 KB.</p>
</td></tr><tr><td colspan="2">
<p>Options for Archive Identification</p>
<p>These keywords and values appear in the archive identification
section of the archive.</p>
</td></tr><tr><td>
<p>
<code class="option">
U</code> <em class="replaceable"><code>key=val</code></em>
</p>
</td><td>
<p>Includes user-defined keywords and values in the archive identification section.</p>
</td></tr><tr><td>
<p>
<code class="option">
i</code> <em class="replaceable"><code>date</code></em>
</p>
</td><td>
<p>Uses <em class="replaceable"><code>date</code></em> as the value for the <code class="filename">creation_date</code> keyword. If you do not specify a date, <span><strong class="command">flarcreate</strong></span> uses the current system time and date.</p>
</td></tr><tr><td>
<p>
<code class="option">
m</code> <em class="replaceable"><code>master</code></em>
</p>
</td><td>
<p>Uses <em class="replaceable"><code>master</code></em> as the name of the master system on which
you created the archive. <em class="replaceable"><code>master</code></em> is the value for the <code class="filename">creation_master</code> keyword. If you do not specify <em class="replaceable"><code>master</code></em>, <span><strong class="command">flarcreate</strong></span> uses the system name that
is reported by <span><strong class="command">uname -n</strong></span>. </p>
</td></tr><tr><td>
<p>
<code class="option">
e</code> <em class="replaceable"><code>descr</code></em>
</p>
</td><td>
<p>Uses <em class="replaceable"><code>descr</code></em> for the value of the <code class="filename">content_description</code> keyword.  You cannot use this option when you use the <code class="option">
E</code> option.</p>
</td></tr><tr><td>
<p>
<code class="option">
E</code> <em class="replaceable"><code>descr_file</code></em>
</p>
</td><td>
<p>Retrieves the value for the <code class="filename">content_description</code> keyword
from the <em class="replaceable"><code>descr_file</code></em> file.   You cannot use this option
when you use the <code class="option">
e</code> option.</p>
</td></tr><tr><td>
<p>
<code class="option">
a</code> <em class="replaceable"><code>author</code></em>
</p>
</td><td>
<p>Uses <em class="replaceable"><code>author</code></em> as the author name in the archive identification section. <em class="replaceable"><code>author</code></em> is the value for the <code class="literal">content_author</code> keyword.
 If you do not specify an author, <span><strong class="command">flarcreate</strong></span> does not include the <code class="literal">content_author</code> keyword in the archive identification section.</p>
</td></tr><tr><td>
<p>
<code class="option">
T</code> <em class="replaceable"><code>type</code></em>
</p>
</td><td>
<p>Uses <em class="replaceable"><code>type</code></em> as the value for the <code class="filename">content_type</code> keyword. <em class="replaceable"><code>type</code></em> is user defined. If you do not
specify a type, <span><strong class="command">flarcreate</strong></span> does not include the <code class="filename">content_type</code> keyword.</p>
</td></tr></tbody></table>
</div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="go01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Solaris Flash Keywords </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Glossary</td></tr></table></div></body></html>
