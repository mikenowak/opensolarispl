<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Transitioning From NIS to LDAP (Overview/Tasks) - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-09-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p54.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p56.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="nis2ldap-34"></a>Chapter&nbsp;15<h3>Transitioning From NIS to LDAP (Overview/Tasks)</h3><a name="indexterm-527"></a><a name="indexterm-528"></a><a name="indexterm-529"></a><a name="indexterm-530"></a><a name="indexterm-531"></a><p>This chapter describes how to enable support of NIS clients that use naming information stored
in the LDAP directory. By following the procedures in this chapter, you can transition from using an NIS naming service to using LDAP naming services.</p>
<p>To determine the benefits of transitioning to LDAP, see <a href="p32.html#overview-9">LDAP Naming Services Compared to Other Naming Services</a>.</p>
<p>The following information is included in this chapter.</p>
<ul><li><p><a href="p55.html#nis2ldap-35">NIS-to-LDAP Service Overview</a></p>
</li>
<li><p><a href="p56.html#nis2ldap-6">Transitioning From NIS to LDAP (Task Map)</a></p>
</li>
<li><p><a href="p56.html#nis2ldap-15">Prerequisites for the NIS-to-LDAP Transition</a></p>
</li>
<li><p><a href="p56.html#nis2ldap-2">Setting Up the NIS-to-LDAP Service</a></p>
</li>
<li><p><a href="p58.html#nis2ldap-16">NIS-to-LDAP Best Practices With Sun Java System Directory Server</a></p>
</li>
<li><p><a href="p59.html">NIS-to-LDAP Restrictions</a></p>
</li>
<li><p><a href="p59.html#nis2ldap-58">NIS-to-LDAP Troubleshooting</a></p>
</li>
<li><p><a href="p60.html#nis2ldap-42">Reverting to NIS</a></p>
</li>
</ul>
<a name="nis2ldap-35"></a><h3>NIS-to-LDAP Service Overview</h3>
<p><a name="indexterm-532"></a><a name="indexterm-533"></a><a name="indexterm-534"></a><a name="indexterm-535"></a>The NIS&ndash;to&ndash;LDAP transition service (<b>N2L service</b>) replaces existing NIS daemons on the NIS master server with NIS&ndash;to&ndash;LDAP transition daemons. The N2L service also creates an NIS&ndash;to&ndash;LDAP
mapping file on that server. The mapping file specifies the mapping between NIS map entries and equivalent Directory Information Tree (DIT) entries in LDAP. An NIS master server that has gone through this transition is referred to as an <b>N2L server</b>. The slave servers do not have an <tt>NISLDAPmapping</tt> file, so they continue to function in the usual manner. The slave servers periodically update their data from the N2L server as if it were a regular NIS master.</p>
<p>The behavior of the N2L service is controlled by the <tt>ypserv</tt> and <tt>NISLDAPmapping</tt> configuration files. A script, <tt>inityp2l</tt>, assists with the initial setup of these configuration files. Once the N2L server has been established, you can maintain N2L by directly editing the configuration files.</p>
<p>The N2L service supports the following:</p>
<ul><li><p>Import of NIS maps into the LDAP Directory Information Tree (DIT)</p>
</li>
<li><p>Client access to DIT information with the speed and extensibility of NIS</p>
</li>
</ul>
<p>In any naming system, only one source of information can be the authoritative source. In traditional NIS, NIS sources are the authoritative information. When using the N2L service, the source of authoritative data is the LDAP directory. The directory is managed by using directory management tools, as described in <a href="p34.html">Chapter&nbsp;9, LDAP Basic Components and Concepts (Overview)</a>.</p>
<p>NIS sources are retained for emergency backup or backout only. After using the N2L service, you can gradually phase out NIS clients. Eventually, all NIS clients can be replaced by Solaris LDAP naming services clients.</p>
<p>Additional overview information is provided in the following subsections:</p>
<ul><li><p><a href="p55.html#nis2ldap-30">NIS-to-LDAP Audience Assumptions</a></p>
</li>
<li><p><a href="p55.html#nis2ldap-3">When Not to Use the NIS-to-LDAP Service</a></p>
</li>
<li><p><a href="p55.html#nis2ldap-36">Effects of the NIS-to-LDAP Service on Users</a></p>
</li>
<li><p><a href="p56.html">NIS-to-LDAP Transition Terminology</a></p>
</li>
<li><p><a href="p56.html#nis2ldap-31">NIS-to-LDAP Commands, Files, and Maps</a></p>
</li>
<li><p><a href="p56.html#nis2ldap-5">Supported Standard Mappings</a></p>
</li>
</ul>
<a name="nis2ldap-48"></a><h4>NIS-to-LDAP Tools and the Service Management Facility</h4>
<a name="indexterm-536"></a><a name="indexterm-537"></a><a name="indexterm-538"></a><p>The NIS and LDAP services are managed by the Service Management Facility.
Administrative actions on these services, such as enabling, disabling, or restarting, can be performed by using the <tt>svcadm</tt> command. You can query the status of services by using the <tt>svcs</tt> command. For more information about using SMF with LDAP and NIS, see <a href="p45.html#clientsetup-95">LDAP and the Service Management Facility</a> and <a href="p16.html#cnis1-55">NIS and the Service Management Facility</a>. For an overview of SMF, refer to Chapter 14, Managing Services (Overview), in <i>System Administration Guide: Basic Administration</i>. Also refer to the <tt>svcadm</tt>(1M) and <tt>svcs</tt>(1) man pages for more details.</p>
<a name="nis2ldap-30"></a><h4>NIS-to-LDAP Audience Assumptions</h4>
<p>You need to be familiar with NIS and LDAP concepts, terminology, and IDs to perform the procedures in this chapter. For more information about the NIS and LDAP naming services, see the following sections of this book.</p>
<ul><li><p><a href="p13.html">Chapter&nbsp;4, Network Information Service (NIS) (Overview)</a>, for an overview of NIS</p>
</li>
<li><p><a href="p32.html">Chapter&nbsp;8, Introduction to LDAP Naming Services (Overview/Reference)</a>, for an overview of LDAP</p>
</li>
</ul>
<a name="nis2ldap-3"></a><h4>When Not to Use the NIS-to-LDAP Service</h4>
<p><a name="indexterm-539"></a>Do not use the N2L service in these situations:</p>
<ul><li><p>In an environment where there is no plan to share data between NIS and LDAP naming services clients</p>
<p>In such an environment, an N2L server would serve as an excessively complex NIS master server.</p>
</li>
<li><p>In an environment where NIS maps are managed by tools that modify the NIS source files (other than <tt>yppasswd</tt>)</p>
<p>Regeneration of NIS sources from DIT maps is an imprecise task that requires manual checking of the resulting maps. Once the N2L service is used, regeneration of NIS sources is provided only for backout or reverting to NIS.</p>
</li>
<li><p>In an environment with no NIS clients</p>
<p>In such an environment, use Solaris LDAP naming services clients and their corresponding tools.</p>
</li>
</ul>
<a name="nis2ldap-36"></a><h4>Effects of the NIS-to-LDAP Service on Users</h4>
<p><a name="indexterm-540"></a><a name="indexterm-541"></a>Simply installing the files that are related to the N2L service does not change the NIS server's default behavior. At installation, the administrator will see some changes to NIS man pages and the addition of N2L helper scripts, <tt>inityp2l</tt> and <tt>ypmap2src</tt>, on the servers. But as long as <tt>inityp2l</tt>
is not run or the N2L configuration files are not created manually on the NIS server, the NIS components continue to start in traditional NIS mode and function as usual.</p>
<p>After <tt>inityp2l</tt> is run, users see some changes in server and client behavior. Following is a list of NIS and LDAP user types and a description of what each type of user should notice after the N2L service is deployed.</p>
<table><tr><th><p>User Type</p>
</th><th><p>Effect of N2L Service</p>
</th></tr>
<tr><td><p>NIS master server administrators</p>
</td><td><p>The NIS master server is converted to an N2L server. The <tt>NISLDAPmapping</tt> and <tt>ypserv</tt> configuration files are installed on the N2L server. After the N2L server is established, you can use LDAP commands to administer your naming information. </p>
</td></tr>
<tr><td><p>NIS slave server administrators</p>
</td><td><p>After the N2L transition, an NIS slave server continues to run NIS in the usual manner. The N2L server pushes updated NIS maps to the slave server when <tt>yppush</tt> is called by <tt>ypmake</tt>. See the <tt>ypmake</tt>(1M) man page.</p>
</td></tr>
<tr><td><p>NIS clients</p>
</td><td><p>NIS read operations are no different than traditional NIS. When a Solaris LDAP naming services client changes information in the DIT, the information is copied into the NIS maps. The copy operation is complete after a configurable timeout expires. Such behavior is similar to the behavior of a normal NIS client when the client is connected to an NIS slave server.</p>
<p>If an N2L server cannot bind to the LDAP server for a read, the N2L server returns the information from its own cached copy. Alternatively, the N2L server can return an internal server error. You can configure the N2L server to respond either way. See the <tt>ypserv</tt>(1M) man page for more details.</p>
</td></tr>
<tr><td><p>All users</p>
</td><td><p>When an NIS client makes a password change request, the change is immediately visible on the N2L master server and to native LDAP clients.</p>
<p>If you attempt to change a password on the NIS client, and the LDAP server is unavailable, then the change is refused and the N2L server returns an internal server error. This behavior prevents incorrect information from being written into the cache.</p>
</td></tr>
</table>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p54.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p56.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

