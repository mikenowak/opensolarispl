<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Up LDAP Clients
(Tasks) - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-09-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p44.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p46.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="clientsetup-1"></a>Chapter&nbsp;12<h3>Setting Up LDAP Clients
(Tasks)</h3><p>This chapter describes how to set up a Solaris LDAP naming services
client.</p>
<p>This chapter covers the following topics.</p>
<ul><li><p><a href="p45.html#clientsetup-48">Prerequisites to LDAP Client Setup</a></p>
</li>
<li><p><a href="p46.html">Initializing an LDAP Client</a></p>
</li>
<li><p><a href="p46.html#clientsetup-50">Using Profiles to Initialize a Client</a></p>
</li>
<li><p><a href="p46.html#gdzpf">Using Per-User Credentials</a></p>
</li>
<li><p><a href="p47.html">Using Proxy Credentials</a></p>
</li>
<li><p><a href="p47.html#clientsetup-51">Initializing a Client Manually</a></p>
</li>
<li><p><a href="p47.html#clientsetup-78">Modifying a Manual Client Configuration</a></p>
</li>
<li><p><a href="p47.html#clientsetup-71">Uninitializing a Client</a></p>
</li>
<li><p><a href="p47.html#clientsetup-57">Setting Up TLS Security</a></p>
</li>
<li><p><a href="p47.html#clientsetup-89">Configuring PAM</a></p>
</li>
</ul>
<a name="clientsetup-48"></a><h3>Prerequisites to LDAP Client Setup</h3>
<p>In order for a Solaris client to use LDAP as a naming service the following
needs to be in place.</p>
<ul><li><p>The client's domain name must be served by the LDAP server</p>
</li>
<li><p>The <tt>nsswitch.conf</tt> file needs to point
to LDAP for the required services</p>
</li>
<li><p>The client needs to be configured with all the given parameters
that define its behavior</p>
</li>
<li><p><tt>ldap_cachemgr</tt> needs to be running on the
client</p>
</li>
<li><p>At least one server for which a client is configured must
be up and running</p>
</li>
</ul>
<p>The <tt>ldapclient</tt> utility is the key to setting up an
LDAP client, as it performs all of the above steps, except for starting the
server.  The rest of this chapter will show examples of how to use the <tt>ldapclient</tt> utility to set up an LDAP client and use the various other LDAP
utilities to get information about, and check the status of, an LDAP client.</p>
<a name="clientsetup-95"></a><h3>LDAP and the Service Management Facility</h3>
<a name="indexterm-501"></a><a name="indexterm-502"></a><a name="indexterm-503"></a><p>The LDAP client service is managed by using the Service Management Facility.
For an overview of SMF, refer to Chapter 14, Managing Services (Overview), in <i>System Administration Guide: Basic Administration</i>. Also refer to the<tt>svcadm</tt>(1M) and <tt>svcs</tt>(1) man pages for more details.</p>
<ul><li><p>Administrative actions on this service, such as enabling,
disabling, or restarting, can be performed by using the <tt>svcadm</tt> command.</p>
<hr>
<p><b>Tip - </b><a name="indexterm-504"></a>Temporarily disabling a service by using the <tt>-t</tt> option
provides some protection for the service configuration. If the service is
disabled with the <tt>-t</tt> option, the original settings would be
restored for the service after a reboot. If the service is disabled without <tt>-t</tt>, the service will remain disabled after reboot.</p>
<hr>
</li>
<li><p>The Fault Managed Resource Identifier (FMRI) for the LDAP
client service is <tt>svc:/network/ldap/client:</tt><i>&lt;instance></i><tt></tt>.</p>
</li>
<li><p>You can query the status of the LDAP client and <tt>ldap_cachemgr</tt> by using the <tt>svcs</tt> command.</p>
<ul><li><p>Example of <tt>svcs</tt> command and output.</p>
<pre># <tt><b>svcs \*ldap\*</b></tt>
STATE         STIME     FMRI
online        15:43:46  svc:/network/ldap/client:default</pre></li>
<li><p>Example of <tt>svcs</tt> <tt>-l</tt> command
and output. To get the output shown below, you must use the instance name
in the FMRI.</p>
<pre># <tt><b>svcs</b></tt> <tt>-l</tt> <tt><b>network/ldap/client:default</b></tt>
fmri         svc:/network/ldap/client:default
enabled      true
state        online
next_state   none
restarter    svc:/system/svc/restarter:default
contract_id  1598 
dependency   require_all/none file://localhost/var/ldap/ldap_client_file (-)
dependency   require_all/none svc:/network/initial (online)
dependency   require_all/none svc:/system/filesystem/minimal (online)</pre></li>
</ul>
</li>
<li><p>You can check a daemon's presence by using the <tt>ps</tt> command.</p>
<pre># <tt><b>ps</b></tt> <tt>-e</tt> <tt><b>| grep slapd</b></tt>
  root 23320     1   0   Aug 27 ?       16:30 ./ns-slapd -D \
  /usr/iplanet/ds5/slapd-lastrev -i /usr/iplanet/ds5/slapd-lastrev/
  root 25367 25353   0 15:35:19 pts/1     0:00 grep slapd</pre><hr>
<p><b>Note - </b>Do not use the <tt>-f</tt> option with <tt>ps</tt> because
this option attempts to translate user IDs to names, which causes more naming
service lookups that might not succeed.</p>
<hr>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p44.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p46.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

