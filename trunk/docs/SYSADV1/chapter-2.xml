<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML//EN" "docbook.dtd"[
	<!ENTITY % xinclude SYSTEM "xinclude.mod">
	%xinclude;
]>

<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="smcover-1">



<title>Working With the Solaris Management Console
(Tasks)</title>
<toc>
<para>This chapter describes the Solaris management tools that are used to
perform system administration tasks. Topics include starting the Solaris Management
Console (console), setting up role-based access control (RBAC) to use with
the console, and working with the Solaris management tools in a name service
environment.</para>
<para>For information on the procedures associated with performing system
management tasks by using the Solaris Management Console, see these task maps:</para>
<itemizedlist>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-95">Using the Solaris Management Tools With RBAC (Task Map)</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-21">Using the Solaris Management Tools in a Name Service Environment (Task Map)</olink>
</para>
</listitem>
</itemizedlist>
<para>For information on troubleshooting Solaris Management Console problems,
see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-119">Troubleshooting the Solaris Management Console</olink>.</para>
</toc>
<sect1 xml:id="smcover-3">
<title>Solaris Management Console (Overview)</title>
<para>The following sections provide information about the Solaris Manager
Console.</para>
<sect2 xml:id="smcover-50">
<title>What Is the Solaris Management Console?</title>
<para>
<indexterm xml:id="indexterm-1">
<primary>Solaris Management Console</primary>
<secondary>description</secondary>
</indexterm>The Solaris Management Console is a container for GUI-based management
tools that are stored in collections referred to as <emphasis>toolboxes</emphasis>.
The console includes a default toolbox with many basic management tools, including
tools for managing the following:</para>
<itemizedlist>
<listitem>
<para>Users</para>
</listitem>
<listitem>
<para>Projects</para>
</listitem>
<listitem>
<para>
<command>cron</command> jobs for mounting and sharing file
systems</para>
</listitem>
<listitem>
<para>
<command>cron</command> jobs for managing disks and serial
ports</para>
</listitem>
</itemizedlist>
<para>For a brief description of each Solaris management tool, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-tbl-20">Table 2–1</olink>.</para>
<para>You can add tools to the existing toolbox, or you can create new toolboxes.</para>
<para>The Solaris Management Console has three primary components:</para>
<itemizedlist>
<listitem>
<para>
<emphasis role="strong">The Solaris Management Console client</emphasis>
</para>
<para>Called the <emphasis>console</emphasis>, this component is the visible
interface and contains the GUI tools used to perform management tasks.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">The Solaris Management Console server</emphasis>
</para>
<para>This component is located either on the same machine as the console
or remotely. This component provides all the <emphasis>back-end</emphasis> functionality
that allows management through the console.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">The Solaris Management Console toolbox
editor</emphasis>
</para>
<para>This application, which looks similar to the
console, is used to add or modify toolboxes, to add tools to a toolbox, or
to extend the scope of a toolbox. For example, you could add a toolbox to
manage a name service domain.</para>
</listitem>
</itemizedlist>
<para>The default toolbox is visible when you start the console.</para>
</sect2>
<sect2 xml:id="smcover-19">
<title>Solaris Management Console Tools</title>
<para>
<indexterm xml:id="indexterm-2">
<primary>Solaris Management Console</primary>
<secondary>description of tools</secondary>
</indexterm>This table describes the tools included in the default Solaris
Management Console toolbox. Cross-references to background information for
each tool are provided.</para>
<table frame="topbot" xml:id="smcover-tbl-20">

<title>Solaris Management Console
Tool Suite</title>
<tgroup cols="4" colsep="0" rowsep="0">
<colspec colname="colspec3" colwidth="18.08*"/>
<colspec colname="colspec0" colwidth="19.33*"/>
<colspec colname="colspec1" colwidth="27.80*"/>
<colspec colname="colspec2" colwidth="60.78*"/>
<thead>
<row rowsep="1">
<entry>
<para>Category</para>
</entry>
<entry>
<para>Tool</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For More Information</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>
<emphasis role="strong">System Status</emphasis>
</para>
</entry>
<entry>
<para>System Information</para>
</entry>
<entry>
<para>Monitors and manages system information such as date, time, and time
zone</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2380" targetptr="sysressysinfo-75169">Chapter 12, <citetitle remap="chapter">Displaying and Changing System Information (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
</para>
</entry>
<entry>
<para>Log Viewer</para>
</entry>
<entry>
<para>Monitors and manages the Solaris Management Console tools log and system
logs</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2380" targetptr="tsoverview-10750">Chapter 21, <citetitle remap="chapter">Troubleshooting Software Problems (Overview),</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
</para>
</entry>
<entry>
<para>Processes </para>
</entry>
<entry>
<para>Monitors and manages system processes</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2380" targetptr="spconcepts-30492">
<citetitle remap="section">Processes and System Performance</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
</para>
</entry>
<entry>
<para>Performance</para>
</entry>
<entry>
<para>Monitors system performance</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2380" targetptr="spconcepts-21354">Chapter 18, <citetitle remap="chapter">Managing System Performance (Overview),</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
<emphasis role="strong">System Configuration</emphasis>
</para>
</entry>
<entry>
<para>Users</para>
</entry>
<entry>
<para>Manages users, rights, roles, groups, and mailing lists</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="chapter-4.xml" targetptr="userconcept-36940">What Are User Accounts and Groups?</olink> and <olink remap="external" targetdoc="819-3321" targetptr="rbac-1">
<citetitle remap="section">Role-Based Access Control (Overview)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
</para>
</entry>
<entry>
<para>Projects</para>
</entry>
<entry>
<para>Creates and manages entries in the <filename>/etc/project</filename> database</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2450" targetptr="rmtaskproj-1">Chapter 2, <citetitle remap="chapter">Projects and Tasks (Overview),</citetitle> in <citetitle remap="book">System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
</para>
</entry>
<entry>
<para>Computers and Networks</para>
</entry>
<entry>
<para>Creates and monitors computer and network information</para>
</entry>
<entry>
<para>Solaris Management Console online help</para>
</entry>
</row>
<row>
<entry>
<para>
</para>
</entry>
<entry>
<para>Patches</para>
</entry>
<entry>
<para>Manages patches</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="chapter-21.xml" targetptr="swmgrpatchconcepts-30492">Chapter 21, Managing Solaris Patches and Updates (Overview)</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
<emphasis role="strong">Services</emphasis>
</para>
</entry>
<entry>
<para>Scheduled Jobs</para>
</entry>
<entry>
<para>Creates and manages scheduled <command>cron</command> jobs</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2380" targetptr="sysrescron-68">
<citetitle remap="section">Ways to Automatically Execute System Tasks</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
<emphasis role="strong">Storage</emphasis>
</para>
</entry>
<entry>
<para>Mounts and Shares </para>
</entry>
<entry>
<para>Mounts and shares file systems</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2723" targetptr="fsmount-42780">Chapter 19, <citetitle remap="chapter">Mounting and Unmounting File Systems (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Devices and File Systems</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
</para>
</entry>
<entry>
<para>Disks</para>
</entry>
<entry>
<para>Creates and manages disk partitions</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2723" targetptr="disksconcepts-29477">Chapter 11, <citetitle remap="chapter">Managing Disks (Overview),</citetitle> in <citetitle remap="book">System Administration Guide: Devices and File Systems</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
</para>
</entry>
<entry>
<para>Enhanced Storage</para>
</entry>
<entry>
<para>Creates and manages volumes, hot spare pools, state database replicas,
and disk sets</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2789">
<citetitle remap="book">Solaris Volume Manager Administration Guide</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>
<emphasis role="strong">Devices and Hardware</emphasis>
</para>
</entry>
<entry>
<para>Serial Ports</para>
</entry>
<entry>
<para>Sets up terminals and modems</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2380" targetptr="modconcepts-20809">Chapter 8, <citetitle remap="chapter">Managing Terminals and Modems (Overview),</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
<para>Context–sensitive help is available after you start a tool. For
broader, more in-depth online information than the context help provides,
see the expanded help topics. You can access these help topics from the console
Help menu.</para>
</sect2>
<sect2 xml:id="smcover-51">
<title>Why Use the Solaris Management Console?</title>
<para>
<indexterm xml:id="indexterm-3">
<primary>Solaris Management Console</primary>
<secondary>reasons for using</secondary>
</indexterm>The console provides a set of tools with many benefits for administrators.
The console does the following:</para>
<itemizedlist>
<listitem>
<para>
<emphasis role="strong">Supports all experience levels</emphasis>
</para>
<para>Inexperienced administrators can complete tasks by using the GUI, which includes dialog boxes, wizards, and context help. Experienced
administrators find that the console provides a convenient, secure alternative
to using <command>vi</command> to manage hundreds of configuration parameters
spread across dozens or hundreds of systems.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">Controls user access to the system</emphasis>
</para>
<para>Although any user can access the console by default, only superuser
can make changes in the initial configuration. As described in <olink remap="external" targetdoc="819-3321" targetptr="rbac-1">
<citetitle remap="section">Role-Based Access Control (Overview)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>, it is possible to create special
user accounts called <emphasis>roles</emphasis> can be created and assigned
to users, typically administrators, who are permitted to make specific system
changes. </para>
<para>The key benefit of RBAC is that roles can be limited
so that users have access to only those tasks that are necessary for doing
their jobs. RBAC is <emphasis>not</emphasis> required for using the Solaris
management tools. You can run all tools as superuser without making any changes.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">Provides a command line interface</emphasis>
</para>
<para>If preferred, administrators can operate the Solaris management tools
through a command-line interface (CLI). Some commands are written specifically
to mimic the GUI tool functions,  such as the commands for managing users.
These new commands are listed in <olink remap="external" targetdoc="chapter-1.xml" targetptr="saroadmap-tbl-4">Table 1–7</olink>, which includes the names and brief descriptions of each
command. There is also a man page for each command.</para>
<para>For Solaris
management tools that have no special commands, such as the Mounts and Shares
tool, use the standard UNIX commands.</para>
</listitem>
</itemizedlist>
<para>For in-depth information about how RBAC works, its benefits, and how
to apply those benefits to your site, see <olink remap="external" targetdoc="819-3321" targetptr="rbac-1">
<citetitle remap="section">Role-Based Access Control (Overview)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
<para>To learn more about using RBAC with the Solaris management tools, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-95">Using the Solaris Management Tools With RBAC (Task Map)</olink>.</para>
</sect2>
<sect2 xml:id="smcover-52">
<title>Organization of the Solaris Management Console</title>
<para>In the following figure, the console is shown with the Users tool open.</para>
<figure xml:id="smcover-fig-145">

<title>Solaris Management Console – Users
Tool</title>
<mediaobject>
<imageobject>
<imagedata fileref="figures/smConsole.gif"/>
</imageobject>
<textobject>
<simpara>Simple screen capture shows the Users tool icon selected
in the Solaris Management Console. Shows the Navigation, View, and Information
panes.</simpara>
</textobject>
</mediaobject>
</figure>
<para>The main part of the console consists of three panes:</para>
<itemizedlist>
<listitem>
<para>
<emphasis role="strong">Navigation pane</emphasis> (at the
left) – For accessing tools (or sets of tools), folders, or other toolboxes.
Icons in the navigation pane are called <indexterm xml:id="indexterm-4">
<primary>nodes</primary>
<secondary>Navigation pane of Solaris Management Console</secondary>
</indexterm>
<indexterm xml:id="indexterm-5">
<primary>Navigation pane of Solaris Management Console</primary>
<secondary>nodes</secondary>
</indexterm>
<emphasis>nodes</emphasis> and  are expandable if they are folders
or toolboxes.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">View pane</emphasis> (at the right) –
For viewing information related to the node selected in the navigation pane.
The view pane shows either the contents of the selected folder, subordinate
tools, or the data associated with the selected tool.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">Information pane</emphasis> (at the
bottom) – For displaying context-sensitive help or console events.</para>
</listitem>
</itemizedlist>
</sect2>
<sect2 xml:id="smcover-53">
<title>Changing the Solaris Management Console Window</title>
<para>The layout of the console window is highly configurable. You can use
the following features to change the console window layout:</para>
<itemizedlist>
<listitem>
<para>
<emphasis role="strong">View menu</emphasis> – Use the
Show option in the View menu to hide or display the optional bars and panes.
The other options in the View menu control the display of nodes in the view
pane.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">Console menu</emphasis> – Use
the Preferences option to set the following: the initial toolbox, the orientation
of panes, clicking or double-clicking for selection, text or icons in the
tool bar, fonts, default tool loading, authentication prompts, and advanced
logins.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">Context Help or Console Events toggles</emphasis> –
Use the icons at the bottom of the information pane to toggle between the
display of context-sensitive help and console events.</para>
</listitem>
</itemizedlist>
</sect2>
<sect2 xml:id="smcover-54">
<title>Solaris Management Console Documentation</title>
<para>The main source of documentation for using the console and its tools
is the online help system. Two forms of online help are available: context-sensitive
help and expanded help topics.</para>
<itemizedlist>
<listitem>
<para>
<emphasis role="strong">Context-sensitive help responds to
your use of the console tools.</emphasis>
</para>
<para>Clicking the cursor
on tabs, entry fields, radio buttons, and so forth, causes the appropriate
help to appear in the Information pane. You can close, or reopen the Information
pane by clicking the question mark button on dialog boxes and wizards.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">Expanded help topics are available
from the Help menu or by clicking cross reference links in some context-sensitive
help.</emphasis>
</para>
<para>These topics appear in a separate viewer and
contain more in-depth information than is provided by the context help. Topics
include overviews of each tool, explanations of how each tool  works, files
used by a specific tool, and troubleshooting.</para>
</listitem>
</itemizedlist>
<para>For a brief overview of each tool, refer to <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-tbl-20">Table 2–1</olink>.</para>
</sect2>
<sect2 xml:id="smcover-16">
<title>How Much Role-Based Access Control?</title>
<para>As described in <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-51">Why Use the Solaris Management Console?</olink>, a major advantage of using the Solaris management tools
is the ability to use Role-Based Access Control (RBAC). RBAC provides administrators
with access to just the tools and commands they need to perform their jobs.</para>
<para>Depending on your security needs, you can use varying degrees of RBAC.</para>
<informaltable frame="all">
<tgroup cols="3" colsep="0" rowsep="0">
<colspec colname="colspec3" colwidth="19.87*"/>
<colspec colname="colspec4" colwidth="23.25*"/>
<colspec colname="colspec5" colwidth="55.91*"/>
<thead>
<row>
<entry colsep="1" rowsep="1">
<para>RBAC Approach</para>
</entry>
<entry colsep="1" rowsep="1">
<para>Description</para>
</entry>
<entry colsep="1" rowsep="1">
<para>For More Information</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry colsep="1" rowsep="1">
<para>No RBAC</para>
</entry>
<entry colsep="1" rowsep="1">
<para>Allows you to perform all tasks as superuser. You can log in as yourself.
When you select a Solaris management tool, you specify <literal>root</literal> as
the user and the <literal>root</literal> password.</para>
</entry>
<entry colsep="1" rowsep="1">
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-147">How to Become Superuser (root) or Assume a Role</olink>
</para>
</entry>
</row>
<row>
<entry colsep="1" rowsep="1">
<para>
<literal>root</literal> as a role</para>
</entry>
<entry colsep="1" rowsep="1">
<para>Eliminates anonymous <literal>root</literal> logins and prevents users
from logging in as <literal>root</literal>. This approach requires users to
log in as themselves before they assume the <literal>root</literal> role. </para>
<para>Note that you can apply this approach whether or not you are using other
roles.</para>
</entry>
<entry colsep="1" rowsep="1">
<para>
<olink remap="external" targetdoc="819-3321" targetptr="rbactask-16">
<citetitle remap="section">How to Plan Your RBAC Implementation</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry colsep="1" rowsep="1">
<para>Single role only</para>
</entry>
<entry colsep="1" rowsep="1">
<para>Uses the Primary Administrator role, which is roughly equivalent to
having <literal>root</literal> access only.</para>
</entry>
<entry colsep="1" rowsep="1">
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-61">Creating the Primary Administrator Role</olink>
</para>
</entry>
</row>
<row>
<entry colsep="1" rowsep="1">
<para>Suggested roles</para>
</entry>
<entry colsep="1" rowsep="1">
<para>Uses three roles that are easily configured: Primary Administrator,
System Administrator, and Operator. These roles are appropriate for organizations
with administrators at different levels of responsibility whose job capabilities
roughly fit the suggested roles.</para>
</entry>
<entry colsep="1" rowsep="1">
<para>
<olink remap="external" targetdoc="819-3321" targetptr="rbac-1">
<citetitle remap="section">Role-Based Access Control (Overview)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry colsep="1" rowsep="1">
<para>Custom roles</para>
</entry>
<entry colsep="1" rowsep="1">
<para>You can add your own roles, depending on your organization's security
needs.</para>
</entry>
<entry colsep="1" rowsep="1">
<para>
<olink remap="external" targetdoc="819-3321" targetptr="rbactask-4">
<citetitle remap="section">Managing RBAC</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink> and <olink remap="external" targetdoc="819-3321" targetptr="rbactask-16">
<citetitle remap="section">How to Plan Your RBAC Implementation</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect2>
</sect1>
<sect1 xml:id="smcover-149">
<title>Becoming Superuser (<literal>root</literal>)
or Assuming a Role</title>
<para>Most administration tasks, such as adding users, file systems, or printers,
require that you first log in as <literal>root</literal> (UID=0) or assume
a role if you are using RBAC. The <literal>root</literal> account, also known
as the <emphasis>superuser</emphasis> account, is used to make system changes
and can override user file protection in emergency situations.</para>
<para>The superuser account and roles should be used only to perform administrative
tasks to prevent indiscriminate changes to the system. The security problem
associated with the superuser account is that a user has complete access to
the system even when performing minor tasks.</para>
<para>In a non-RBAC environment, you can either log in to the system as superuser
or use the <command>su</command> command to change to the superuser account.
If RBAC is implemented, you can assume roles through the console or use <command>su</command> and specify a role.</para>
<para>When you use the console to perform administration tasks, you can do
one of the following:</para>
<itemizedlist>
<listitem>
<para>Log in to the console as yourself and then supply the <literal>root</literal> user name and password</para>
</listitem>
<listitem>
<para>Log in to the console as yourself and then assume a role</para>
</listitem>
</itemizedlist>
<para>A major benefit of RBAC is that roles can be created to give limited
access to specific functions only. If you are using RBAC, you can run restricted
applications by assuming a role rather than by becoming superuser.</para>
<para>For step-by-step instructions on creating the Primary Administrator
role, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-96">How to Create the First Role (Primary Administrator)</olink>. For an overview on using RBAC, see <olink remap="external" targetdoc="819-3321" targetptr="rbactask-1">Chapter 9, <citetitle remap="chapter">Using Role-Based Access Control (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
<sect2>
<title/>
<task id="smcover-147">

<title>How to Become Superuser (root) or Assume a Role</title>
<tasksummary>
<para>Become superuser or assume a role by using one of the following methods.
Each method requires that you know either the superuser password or the role
password.</para>
</tasksummary>
<procedure>
<step>
<para>Become superuser. Select one of the following methods to become
superuser:</para>
<itemizedlist>
<listitem>
<para>Log in as a user, start the Solaris Management Console, select
a Solaris management tool, and then log in as <literal>root</literal>.</para>
<para>This method enables to you perform any management task from the console.</para>
<para>For information on starting the Solaris Management Console, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-23">How to Start the Solaris Management Console in a Name Service Environment</olink>.</para>
</listitem>
<listitem>
<para>Log in as superuser on the system console.</para>
<screen>
<replaceable>hostname</replaceable> console: <userinput>root</userinput>
Password: <replaceable>root-password</replaceable>
#</screen>
<para>The pound sign (#) is the Bourne shell prompt for the superuser account.</para>
<para>This method provides complete access to all system commands and tools.</para>
</listitem>
<listitem>
<para>Log in as a user, and then change to the superuser account
by using the <command>su</command> command at the command line.</para>
<screen>% <userinput>su</userinput>
Password: <replaceable>root-password</replaceable>
#</screen>
<para>This method provides complete access to all system commands and tools.</para>
</listitem>
<listitem>
<para>Log in remotely as superuser.</para>
<para>This method is not
enabled by default. You must modify the <filename>/etc/default/login</filename> file
to remotely log in as superuser on the system console. For information on
modifying this file, see <olink remap="external" targetdoc="819-3321" targetptr="secsys-1">Chapter 3, <citetitle remap="chapter">Controlling Access to Systems (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
<para>This method provides complete access to all system commands and tools.</para>
</listitem>
</itemizedlist>
</step>
<step xml:id="smcover-step-150">
<para>Assume a role. Select one of the following
methods to assume a role:</para>
<itemizedlist>
<listitem>
<para>Log in as user, and then change to a role by using the <command>su</command> command at the command line. </para>
<screen>% <userinput>su</userinput> <replaceable>role</replaceable>
Password: <replaceable>role-password</replaceable>
$</screen>
<para>This method provides access to all the commands and tools that the role
has access to.</para>
</listitem>
<listitem>
<para>Log in as a user, start the Solaris Management Console, select
a Solaris management tool, and then assume a role.</para>
<para>For information
on starting the Solaris Management Console, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-42573">How to Start the Console as Superuser or as a Role</olink>.</para>
<para>This
method provides access to the Solaris management tools that the role has access
to.</para>
</listitem>
</itemizedlist>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="smcover-95">
<title>Using the Solaris Management Tools With RBAC
(Task Map)</title>
<para>
<indexterm xml:id="indexterm-6">
<primary>Solaris Management Console</primary>
<secondary>using with RBAC</secondary>
</indexterm>This task map describes the tasks to do if you want to use the
RBAC security features rather than the superuser account to perform administration
tasks.</para>
<note>

<para>The information in this chapter describes how to use the console
with RBAC. RBAC overview and task information is included to show you how
to initially set up RBAC with the console.</para>
<para>For detailed information
on RBAC and how to use it with other applications, see <olink remap="external" targetdoc="819-3321" targetptr="rbac-1">
<citetitle remap="section">Role-Based Access Control (Overview)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
</note>
<informaltable frame="all">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="20.47*"/>
<colspec colwidth="26.51*"/>
<colspec colwidth="52.03*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>1. Start the console.</para>
</entry>
<entry>
<para>If your user account is already set up, start the console as yourself.
Then, log in to the console as <literal>root</literal>. If you do not have
a user account set up, become superuser first, and then start the console.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-42573">How to Start the Console as Superuser or as a Role</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>2. Add a user account for yourself.</para>
</entry>
<entry>
<para>Add a user account for yourself, if you do not have an account already.</para>
</entry>
<entry>
<para>Solaris Management Console online help</para>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-14">If You Are the First to Log in to the Console</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>3. Create the Primary Administrator role</para>
</entry>
<entry>
<para>Create the Primary Administrator role. Then, add yourself to this role.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-96">How to Create the First Role (Primary Administrator)</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>4. Assume the Primary Administrator role.</para>
</entry>
<entry>
<para>Assume the Primary Administrator role after you have created this role.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-66">How to Assume the Primary Administrator Role</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>5. (Optional) Make <literal>root</literal> a role.</para>
</entry>
<entry>
<para>Make <literal>root</literal> a role and add yourself to the root role
so that no other user can use the <command>su</command> command to become <literal>root</literal>.</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-3321" targetptr="rbactask-16">
<citetitle remap="section">How to Plan Your RBAC Implementation</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>6. (Optional) Create other administrative roles.</para>
</entry>
<entry>
<para>Create other administrative roles and grant the appropriate rights to
each role. Then, add the appropriate users to each role.</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-3321" targetptr="rbactask-1">Chapter 9, <citetitle remap="chapter">Using Role-Based Access Control (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<para>The following sections provide overview information and step-by-step
instructions for using the Solaris Management Console and the RBAC security
features.</para>
<sect2 xml:id="smcover-14">
<title>If You Are the First to Log in to the Console</title>
<para>If you are the first administrator to log in to the console, start the
console as a user (yourself). Then, log in as superuser. This method gives
you complete access to all the console tools.</para>
<para>Here are the general steps, depending on whether you are using RBAC:</para>
<itemizedlist>
<listitem>
<para>
<emphasis>Without RBAC</emphasis> – If you choose not
to use RBAC, continue working as superuser. All other administrators will
also need <literal>root</literal> access to perform their jobs.</para>
</listitem>
<listitem>
<para>
<emphasis>With RBAC</emphasis> – You'll need to do the
following:</para>
<itemizedlist>
<listitem>
<para>Set up your user account, if you do not already have an account.</para>
</listitem>
<listitem>
<para>Create the role called Primary Administrator.</para>
</listitem>
<listitem>
<para>Assign the Primary Administrator right to the role that you
are creating.</para>
</listitem>
<listitem>
<para>Assign your user account to this role.</para>
<para>For step-by-step
instructions on creating the Primary Administrator role, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-96">How to Create the First Role (Primary Administrator)</olink>.</para>
<para>For an overview on using RBAC, see <olink remap="external" targetdoc="819-3321" targetptr="rbactask-1">Chapter 9, <citetitle remap="chapter">Using Role-Based Access Control (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</sect2>
<sect2 xml:id="smcover-61">
<title>Creating the Primary Administrator Role</title>
<para>An <emphasis>administrator role</emphasis> is a special user account.
Users who assume a role are permitted to perform a predefined set of administrative
tasks.</para>
<para>The Primary Administrator role is permitted to perform all administrative
functions, similar to superuser. <indexterm xml:id="indexterm-7">
<primary>primary administrator role</primary>
<secondary>granting rights</secondary>
</indexterm>
</para>
<para>If you are superuser, or a user assuming the Primary Administrator role,
you can define which tasks other administrators are permitted to perform.
With the help of the Add Administrative Role wizard, you can create a role,
grant rights to the role, and then specify which users are permitted to assume
that role. A <emphasis>right</emphasis> is a named collection of commands,
or authorizations, for using specific applications. A right enables you to
perform specific functions within an application. The use of rights can be
granted or denied by an administrator.</para>
<para>
<indexterm xml:id="indexterm-8">
<primary>primary administrator role</primary>
<secondary>creating (overview)</secondary>
</indexterm>You are prompted for the following information when you create
the Primary Administrator role.</para>
<table frame="topbot" xml:id="smcover-tbl-110">

<title>Field Descriptions for Adding
a Role by Using the Solaris Management Console</title>
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colname="colspec0" colwidth="32.34*"/>
<colspec colname="colspec1" colwidth="67.66*"/>
<thead>
<row rowsep="1">
<entry>
<para>Field name</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Role name</para>
</entry>
<entry>
<para>Selects the name an administrator uses to log in to a specific role.</para>
</entry>
</row>
<row>
<entry>
<para>Full name</para>
</entry>
<entry>
<para>Provides a full, descriptive name of this role. (Optional)</para>
</entry>
</row>
<row>
<entry>
<para>Description</para>
</entry>
<entry>
<para>Provides further description of this role.</para>
</entry>
</row>
<row>
<entry>
<para>Role ID number</para>
</entry>
<entry>
<para>Selects the identification number assigned to this role. This number
is the same as the set of identifiers for UIDs.</para>
</entry>
</row>
<row>
<entry>
<para>Role shell</para>
</entry>
<entry>
<para>Selects the shell that runs when a user logs in to a terminal or console
window and assumes a role in that window.</para>
</entry>
</row>
<row>
<entry>
<para>Create a role mailing list</para>
</entry>
<entry>
<para>Creates a mailing list with the same name as the role, if checked. You
can use this list to send email to everyone assigned to the role.</para>
</entry>
</row>
<row>
<entry>
<para>Role password and confirm Password</para>
</entry>
<entry>
<para>Sets and confirms the role password.</para>
</entry>
</row>
<row>
<entry>
<para>Available rights and granted Rights</para>
</entry>
<entry>
<para>Assigns rights to this role by choosing from the list of Available Rights
and adding them to the list of Granted Rights.</para>
</entry>
</row>
<row>
<entry>
<para>Select a home directory</para>
</entry>
<entry>
<para>Selects the home directory server where this role's private files will
be stored.</para>
</entry>
</row>
<row>
<entry>
<para>Assign users to this role</para>
</entry>
<entry>
<para>Adds specific users to the role so that they can assume the role to
perform specific tasks.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
<para>For detailed information about role-based access control, and instructions
on how to use roles to create a more secure environment, see <olink remap="external" targetdoc="819-3321" targetptr="rbac-1">
<citetitle remap="section">Role-Based Access Control (Overview)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
</sect2>
<sect2>
<title/>
<task id="smcover-96">

<title>How to Create the First Role (Primary Administrator)</title>
<tasksummary>
<para>This procedure describes how to create the Primary Administrator role
and then assign it to your user account. This procedure assumes that your
user account is already created.</para>
</tasksummary>
<procedure>
<step xml:id="smcover-step-97">
<para>Start the console as yourself.</para>
<screen>% <userinput>/usr/sadm/bin/smc &amp;</userinput>
</screen>
<para>For additional information on starting the console, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-42573">How to Start the Console as Superuser or as a Role</olink>.</para>
<para>The console online help provides more information about creating
a user account for yourself.</para>
</step>
<step xml:id="smcover-step-98">
<para>Click on the This Computer icon in the Navigation
pane.</para>
</step>
<step xml:id="smcover-step-63">
<para>Click on System Configuration-&gt;Users -&gt; Administrative
Roles.</para>
</step>
<step xml:id="smcover-step-64">
<para>Click Action-&gt;Add Administrative Role.</para>
<para>The Add Administrative Role wizard opens.</para>
</step>
<step xml:id="smcover-step-65">
<para>Create the Primary Administrator role with
the Administrative Role wizard by following these steps. </para>
<substeps>
<step xml:id="smcover-step-103">
<para>Identify the role name, full role name,
description, role ID number, role shell, and whether you want to create a
role mailing list. Click Next.</para>
</step>
<step xml:id="smcover-step-104">
<para>Set and confirm the role password. Click
Next.</para>
</step>
<step xml:id="smcover-step-105">
<para>Select the Primary Administrator right from
the Available Rights column and add it to Granted Rights column. Click Next.</para>
</step>
<step xml:id="smcover-step-106">
<para>Select the home directory for the role.
Click Next.</para>
</step>
<step xml:id="smcover-step-17">
<para>Assign yourself to the list of users who
can assume the role. Click Next.</para>
</step>
</substeps>
<para>If necessary, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-tbl-110">Table 2–2</olink> for
a description of the role fields.</para>
</step>
<step xml:id="smcover-step-100">
<para>Click Finish.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="smcover-66">

<title>How to Assume the Primary Administrator Role</title>
<tasksummary>
<para>After you have created the Primary Administrator role, log in to the
console as yourself, and then assume the Primary Administrator role.</para>
<para>When you assume a role, you take on all the attributes of that role,
including the rights. At the same time, you relinquish all of your own user
properties.</para>
</tasksummary>
<procedure>
<step xml:id="smcover-step-68">
<para>Start the console.</para>
<screen>% <userinput>/usr/sadm/bin/smc &amp;</userinput>
</screen>
<para>For information on starting the console, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-42573">How to Start the Console as Superuser or as a Role</olink>.</para>
</step>
<step xml:id="smcover-step-69">
<para>Log in with your user name and password.</para>
<para>A list shows which roles you are permitted to assume.</para>
</step>
<step xml:id="smcover-step-70">
<para>Log in to the Primary Administrator role
and provide the role password.</para>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="smcover-18">
<title>Starting the Solaris Management Console</title>
<para>The following procedure describes how to start the console and gain
access to the Solaris management tools.</para>
<para>For instructions on what to do if you are the first user to log in to
the console, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-14">If You Are the First to Log in to the Console</olink>.</para>
<sect2>
<title/>
<task id="smcover-42573">

<title>How to Start the Console as Superuser or as
a Role</title>
<tasksummary>
<para>If you start the console as a user with your own user account, you have
limited access to the Solaris management tools. For greater access, you can
log in as yourself and then log in as one of the roles you are allowed to
assume. If you are permitted to assume the role of Primary Administrator,
you then have access to all the Solaris management tools. This role is equivalent
to that of superuser.</para>
</tasksummary>
<procedure>
<step xml:id="smcover-step-4">
<para>
<indexterm xml:id="indexterm-9">
<primary>Solaris Management Console</primary>
<secondary>starting (how to)</secondary>
</indexterm>Verify that you are in a window environment, such as the CDE environment.</para>
</step>
<step xml:id="smcover-step-12">
<para>Start the console in one of the following
ways:</para>
<itemizedlist>
<listitem>
<para>From the command line, type the following command:</para>
<screen>% <userinput>/usr/sadm/bin/smc &amp;</userinput>
</screen>
<para>It might take a minute or two for the console to come up the first time.</para>
</listitem>
<listitem>
<para>Start the console from the Tools menu of the CDE front panel.</para>
</listitem>
<listitem>
<para>Double-click the Solaris Management Console icon in CDE's
Applications Manager or File Manager.</para>
</listitem>
</itemizedlist>
<para>The Solaris Management Console window is displayed.</para>
<note>

<para>Open a console in your window environment to display the Solaris
Management Console startup messages. Do not attempt to start the Solaris Management
Console server manually before starting the Solaris Management Console. The
server starts automatically when you start the Solaris Management Console.
For information on troubleshooting console problems, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-119">Troubleshooting the Solaris Management Console</olink>.</para>
</note>
</step>
<step xml:id="smcover-step-1">
<para>Double-click the This Computer icon under
the Management Tools icon in the Navigation pane.</para>
<para>A list of categories
is displayed.</para>
</step>
<step xml:id="smcover-step-124">
<para>(Optional) Select the appropriate toolbox.</para>
<para>If you want to use a toolbox other than the default toolbox, select
the appropriate toolbox from the Navigation pane. Or, select Open Toolbox
from the console menu and load the toolbox you want.</para>
<para>For information
about using different toolboxes, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-17">How to Create a Toolbox for a Specific Environment</olink>.</para>
</step>
<step xml:id="smcover-step-2">
<para>Double-click the category icon to access a
particular tool.</para>
<para>Use the online help to identify how to perform
a specific task.</para>
</step>
<step xml:id="smcover-step-144">
<para>Double-click the tool icon.</para>
<para>A
pop-up Log-In window is displayed.</para>
</step>
<step xml:id="smcover-step-94">
<para>Decide if you want to use the tool as superuser
or as a role. If you are logging in a as superuser, enter the <literal>root</literal> password.</para>
</step>
<step xml:id="smcover-step-126">
<para>If you are logging in as yourself, backspace
over the <literal>root</literal> user name. Then supply your user ID and user
password.</para>
<para>A list of roles you can assume is displayed.</para>
</step>
<step xml:id="smcover-step-127">
<para>Select the Primary Administrator role, or
an equivalent role, and supply the role password.</para>
<para>For step-by-step
instructions on creating the Primary Administrator role, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-96">How to Create the First Role (Primary Administrator)</olink>.</para>
<para>The main tool menu is displayed.</para>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="smcover-21">
<title>Using the Solaris Management Tools in a Name
Service Environment (Task Map)</title>
<para>By default, the Solaris management tools are set up to operate in a
local environment. For example, the Mounts and Shares tool enables you to
mount and share directories on specific systems, but not in an NIS or NIS+
environment. However, you can manage information with the Users and Computers
and Networks tools in a name service environment.</para>
<para>To work with a console tool in a name service environment, you need
to create a name service toolbox, and then add the tool to that toolbox.</para>
<informaltable frame="all">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colname="colspec0" colwidth="33*"/>
<colspec colname="colspec1" colwidth="33*"/>
<colspec colname="colspec2" colwidth="33*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>1. Verify prerequisites.</para>
</entry>
<entry>
<para>Verify you have completed the prerequisites before attempting to use
the console in a name service environment.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-42">Prerequisites for Using the Solaris Management Console in a Name Service Environment</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>2. Create a toolbox for the name service.</para>
</entry>
<entry>
<para>Use the New Toolbox wizard to create a toolbox for your name service
tools.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-17">How to Create a Toolbox for a Specific Environment</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>3. Add a tool to the name service toolbox.</para>
</entry>
<entry>
<para>Add the Users tool, or any other name service tool, to your name service
toolbox.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-30">How to Add a Tool to a Toolbox</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>4. Select the toolbox that was just created.</para>
</entry>
<entry>
<para>Select the toolbox you just created to manage name service information.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-23">How to Start the Solaris Management Console in a Name Service Environment</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<sect2 xml:id="smcover-45">
<title>RBAC Security Files</title>
<para>The RBAC security files that work with the Solaris Management Console
are created when you upgrade to or install the Solaris 9 ,
Solaris 10, or Solaris Express release. If you do not install the Solaris
Management Console packages, the RBAC security files are installed without
the necessary data for using RBAC. For information on the Solaris Management
Console packages, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-119">Troubleshooting the Solaris Management Console</olink>.</para>
<para>The RBAC security files in the Solaris 9 ,
Solaris 10, or Solaris Express release are included in your name service
so that you can use the Solaris Management Console tools in a name service
environment. </para>
<para>The security files on a local server are populated into a name service
environment as part of a standard upgrade by the <filename>ypmake</filename>, <filename>nispopulate</filename>, or equivalent LDAP commands. The following name services
are supported:</para>
<itemizedlist>
<listitem>
<para>NIS</para>
</listitem>
<listitem>
<para>NIS+</para>
</listitem>
<listitem>
<para>LDAP</para>
</listitem>
<listitem>
<para>files</para>
</listitem>
</itemizedlist>
<note>

<para>The <literal>projects</literal> database is not supported in the
NIS+ environment.</para>
</note>
<para>The RBAC security files are created when you upgrade to or install the
Solaris 9, 
the Solaris 10, or the Solaris Express release. </para>
<para>This table briefly describes the predefined security files that are
installed on a Solaris 9 ,
the Solaris 10, or the Solaris Express release. </para>
<table frame="topbot" xml:id="smcover-tbl-8">

<title>RBAC Security Files</title>
<tgroup cols="3" colsep="0" rowsep="0">
<colspec colwidth="50.82*"/>
<colspec colname="colspec3" colwidth="45.16*"/>
<colspec colwidth="54.03*"/>
<thead>
<row rowsep="1">
<entry>
<para>Local File Name</para>
</entry>
<entry>
<para>Table or Map Name</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>
<filename>/etc/user_attr</filename>
</para>
</entry>
<entry>
<para>
<filename>user_attr</filename>
</para>
</entry>
<entry>
<para>Associates users and roles with authorizations and rights profiles</para>
</entry>
</row>
<row>
<entry>
<para>
<filename>/etc/security/auth_attr</filename>
</para>
</entry>
<entry>
<para>
<filename>auth_attr</filename>
</para>
</entry>
<entry>
<para>Defines authorizations and their attributes and identifies associated
help files</para>
</entry>
</row>
<row>
<entry>
<para>
<filename>/etc/security/prof_attr</filename>
</para>
</entry>
<entry>
<para>
<filename>prof_attr</filename>
</para>
</entry>
<entry>
<para>Defines rights profiles, lists the rights profiles assigned to the authorizations,
and identifies associated help files</para>
</entry>
</row>
<row>
<entry>
<para>
<filename>/etc/security/exec_attr</filename>
</para>
</entry>
<entry>
<para>
<filename>exec_attr</filename>
</para>
</entry>
<entry>
<para>Defines the privileged operations assigned to a rights profile</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
<para>For unusual upgrade cases, you might have to use the <filename>smattrpop</filename> command
to populate RBAC security files in the following instances: </para>
<itemizedlist>
<listitem>
<para>When creating or modifying rights profiles</para>
</listitem>
<listitem>
<para>When you need to include users and roles by customizing the <filename>usr_attr</filename> file</para>
</listitem>
</itemizedlist>
<para>For more information, see <olink remap="external" targetdoc="819-3321" targetptr="rbac-1">
<citetitle remap="section">Role-Based Access Control (Overview)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
</sect2>
<sect2 xml:id="smcover-42">
<title>Prerequisites for Using the Solaris Management
Console in a Name Service Environment</title>
<para>The following table identifies what you need to do before you can use
the Solaris Management Console in a name service environment.</para>
<informaltable frame="topbot">
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colname="colspec4" colwidth="50*"/>
<colspec colname="colspec5" colwidth="50*"/>
<thead>
<row rowsep="1">
<entry>
<para>Prerequisite</para>
</entry>
<entry>
<para>For More Information</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Install the Solaris 9 ,
Solaris 10, or Solaris Express release. </para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2393">
<citetitle remap="book">Solaris Express Installation Guide: Basic Installations</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Set up your name service environment.</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-3194">
<citetitle remap="book">System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Select your management scope.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-111">Management Scope</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Make sure your<filename>/etc/nsswitch.conf</filename> file is configured
so that you can access your name service data.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-24">
<filename>/etc/nsswitch.conf</filename> File</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect2>
<sect2 xml:id="smcover-111">
<title>Management Scope</title>
<para>The Solaris Management Console uses the term <emphasis>management scope</emphasis> to
refer to the name service environment that you want to use with the selected
management tool. The management scope choices for the Users tool and the Computers
and Networks tool are LDAP, NIS, NIS+, or files.</para>
<para>The management scope that you select during a console session should
correspond to the primary name service identified in the <filename>/etc/nsswitch.conf</filename> file.</para>
</sect2>
<sect2 xml:id="smcover-24">
<title>
<filename>/etc/nsswitch.conf</filename> File</title>
<para>The <filename>/etc/nsswitch.conf</filename> file on each system specifies
the policy for name service lookups (where data is read from) on that system.</para>
<note>

<para>You must make sure that the name service accessed from the console,
which you specify through the console Toolbox Editor, appears in the search
path of the <filename>/etc/nsswitch.conf</filename> file. If the specified
name service does not appear there, the tools might behave in unexpected ways,
resulting in errors or warnings.</para>
</note>
<para>When you use the Solaris management tools in a name service environment,
you might impact many users with a single operation. For example, if you delete
a user in the NIS name service, that user is deleted on all systems that are
using NIS.</para>
<para>If different systems in your network have different <filename>/etc/nsswitch.conf</filename> configurations, unexpected results might occur. So, all systems
to be managed with the Solaris management tools should have a consistent name
service configuration.</para>
</sect2>
<sect2>
<title/>
<task id="smcover-17">

<title>How to Create a Toolbox for a Specific Environment</title>
<tasksummary>
<para>Applications for administering the Solaris Operating System are called tools. Those
tools are stored in collections referred to as <emphasis>toolboxes</emphasis>.
A toolbox can be located on a local server, where the console is located,
or on a remote machine.</para>
<para>Use the Toolbox Editor to add a new toolbox, to add tools to an existing
toolbox, or to change the scope of a toolbox. For example, use this tool to
change the domain from local files to a name service.</para>
<note>

<para>You can start the Toolbox Editor as a normal user. However, if
you plan to make changes and save them to the default console toolbox, <filename>/var/sadm/smc/toolboxes</filename>, you must start the Toolbox Editor as <filename>root</filename>.</para>
</note>
</tasksummary>
<procedure>
<step xml:id="smcover-step-7">
<para>Start the Toolbox Editor.</para>
<screen># <userinput>/usr/sadm/bin/smc edit &amp;</userinput>
</screen>
</step>
<step xml:id="smcover-step-20">
<para>Select Open from the Toolbox menu.</para>
</step>
<step xml:id="smcover-step-15">
<para>Select the This Computer icon in the Toolboxes:
window.</para>
</step>
<step xml:id="smcover-step-16">
<para>Click Open.</para>
<para>The This Computer
toolbox opens in the window.</para>
</step>
<step xml:id="smcover-step-21">
<para>Select the This Computer icon again in the
Navigation pane.</para>
</step>
<step xml:id="smcover-step-42">
<para>Select Add Folder from the Action menu.</para>
</step>
<step xml:id="smcover-step-18">
<para>Use the Folder wizard to add a new toolbox
for your name service environment.</para>
<substeps>
<step xml:id="smcover-step-72">
<para>Name and Description – Provide a name
in the Full Name window. Click Next.</para>
<para>For example, provide “NIS
tools” for the NIS environment.</para>
</step>
<step xml:id="smcover-step-22">
<para>Provide a description in the Description
window. Click Next.</para>
<para>For example, “tools for NIS environment”
is an appropriate example.</para>
</step>
<step xml:id="smcover-step-23">
<para>Icons – Use the default value for the
Icons. Click Next.</para>
</step>
<step xml:id="smcover-step-26">
<para>Management Scope – Select Override.</para>
</step>
<step xml:id="smcover-step-45">
<para>Select your name service under the Management
Scope pull-down menu.</para>
</step>
<step xml:id="smcover-step-19">
<para>Add the name service master name in the Server
field, if necessary.</para>
</step>
<step xml:id="smcover-step-129">
<para>Add the domain managed by the server in
the Domain field.</para>
</step>
<step xml:id="smcover-step-29">
<para>Click Finish.</para>
<para>The new toolbox
appears in the left Navigation pane.</para>
</step>
</substeps>
</step>
<step xml:id="smcover-step-123">
<para>Select the new toolbox icon and select Save
As from the Toolbox menu.</para>
</step>
<step xml:id="smcover-step-121">
<para>Enter the toolbox path name in the Local
Toolbox Filename dialog box. Use the <filename>.tbx</filename> suffix.</para>
<screen>/var/sadm/smc/toolboxes/this_computer/<replaceable>toolbox-name</replaceable>.tbx</screen>
</step>
<step xml:id="smcover-step-122">
<para>Click Save.</para>
<para>The new toolbox
appears in the Navigation pane in the console window.</para>
</step>
</procedure>
<taskrelated role="see-also">

<para>After you have created a name service toolbox, you can put a name service
tool into it.  For more information, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-30">How to Add a Tool to a Toolbox</olink>.</para>
</taskrelated>
</task>
</sect2>
<sect2>
<title/>
<task id="smcover-30">

<title>How to Add a Tool to a Toolbox</title>
<tasksummary>
<para>In addition to the default tools that ship with the console, additional
tools that can be launched from the console are being developed. As these
tools become available, you can add one or more tools to an existing toolbox.</para>
<para>You can also create a new toolbox, for either local management or network
management. Then, you can add tools to the new toolbox.</para>
</tasksummary>
<procedure>
<step>
<para>Become superuser or assume an equivalent role.</para>
<para>Roles contain authorizations and privileged commands. For more information about roles,
see <olink remap="external" targetdoc="819-3321" targetptr="rbactask-15">
<citetitle remap="section">Configuring RBAC (Task Map)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
</step>
<step xml:id="smcover-step-73">
<para>Start the Toolbox Editor, if necessary.</para>
<screen># <userinput>/usr/sadm/bin/smc edit &amp;</userinput>
</screen>
</step>
<step xml:id="smcover-step-32">
<para>Select the toolbox.</para>
<para>If you want
to work in a name service, select the toolbox you just created in the Toolbox
Editor. For more information, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-17">How to Create a Toolbox for a Specific Environment</olink>.</para>
</step>
<step xml:id="smcover-step-48">
<para>Select Add Tool from the Action menu.</para>
</step>
<step xml:id="smcover-step-34">
<para>Use the Add Tool wizard to add the new tool.</para>
<substeps>
<step xml:id="smcover-step-74">
<para>Server Selection – Add the name service
master in the Server window. Click Next.</para>
</step>
<step xml:id="smcover-step-35">
<para>Tools Selection – Select the tool you
want to add from the Tools window. Click Next.</para>
<para>If this toolbox
is a name service toolbox, choose a tool you want to work in a name service
environment. For example, choose the Users tool.</para>
</step>
<step xml:id="smcover-step-36">
<para>Name and Description – Accept the default
values. Click Next.</para>
</step>
<step xml:id="smcover-step-37">
<para>Icons – Accept the default values,
unless you have created custom icons. Click Next.</para>
</step>
<step xml:id="smcover-step-38">
<para>Management Scope – Accept the default
value “Inherit from Parent.” Click Next.</para>
</step>
<step xml:id="smcover-step-39">
<para>Tool Loading – Accept the default “Load
tool when selected.” Click Finish.</para>
</step>
</substeps>
</step>
<step xml:id="smcover-step-40">
<para>Select Save from the Toolbox menu to save
the updated toolbox.</para>
<para>The Local Toolbox window is displayed.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="smcover-23">

<title>How to Start the Solaris Management Console in
a Name Service Environment</title>
<tasksummary>
<para>After you have created a name service toolbox and added tools to it,
you can start the Solaris Management Console and open that toolbox to manage
a name service environment.</para>
</tasksummary>
<taskprerequisites>

<para>Verify that the following prerequisites are met:</para>
<itemizedlist>
<listitem>
<para>Ensure that the system you are logged in to is configured
to work in a name service environment.</para>
</listitem>
<listitem>
<para>Verify that the <filename>/etc/nsswitch.conf</filename> file
is configured to match your name service environment.</para>
</listitem>
</itemizedlist>
</taskprerequisites>
<procedure>
<step xml:id="smcover-step-75">
<para>Start the Solaris Management Console.</para>
<para>For more information, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-42573">How to Start the Console as Superuser or as a Role</olink>.</para>
</step>
<step xml:id="smcover-step-28">
<para>Select the toolbox you created for the name
service, which appears in the Navigation pane.</para>
<para>For information
on creating a toolbox for a name service, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-17">How to Create a Toolbox for a Specific Environment</olink>.</para>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="smcover-118">
<title>Adding Tools to the Solaris Management Console</title>
<para>This section describes how to add legacy tools or unbundled tools to
the console. If you want to add authentication to these tools, see <olink remap="external" targetdoc="819-3321" targetptr="rbactask-4">
<citetitle remap="section">Managing RBAC</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
<sect2>
<title/>
<task id="smcover-76">

<title>How to Add a Legacy Tool to a Toolbox</title>
<tasksummary>
<para>A legacy tool is any application that was not designed specifically
as a Solaris management tool. You can add three types of legacy tool applications
to a console toolbox: X applications, command-line interface, and HTML. Each
tool you add to a toolbox can then be launched from the Solaris Management
Console.</para>
</tasksummary>
<procedure>
<step xml:id="smcover-step-130">
<para>Become superuser or assume an  equivalent
role. </para>
</step>
<step xml:id="smcover-step-78">
<para>Start the Solaris Management Console Toolbox
Editor, if necessary.</para>
<screen># <userinput>/usr/sadm/bin/smc edit &amp;</userinput>
</screen>
</step>
<step xml:id="smcover-step-79">
<para>Open the toolbox to which you want to add
the legacy application.</para>
<para>The toolbox selected is opened in the
Toolbox Editor.</para>
</step>
<step xml:id="smcover-step-80">
<para>Select the node in the toolbox to which you
want to add the legacy application.</para>
<para>A legacy application can be
added to the top node of a toolbox or to another folder.</para>
</step>
<step xml:id="smcover-step-81">
<para>Click Action-&gt;Add Legacy Application.</para>
<para>The first panel of the Legacy Application Wizard: General is displayed.</para>
</step>
<step xml:id="smcover-step-82">
<para>Follow the instructions in the wizard.</para>
</step>
<step xml:id="smcover-step-83">
<para>Save the toolbox in the Toolbox Editor.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="smcover-113">

<title>How to Install an Unbundled Tool</title>
<tasksummary>
<para>Follow this procedure if you want to add a new tool package that can
be launched from the Solaris Management Console.</para>
</tasksummary>
<procedure>
<step xml:id="smcover-step-141">
<para>Become superuser or assume an equivalent
role.</para>
</step>
<step xml:id="smcover-step-115">
<para>Install the new tool package.</para>
<screen># <userinput>pkgadd ABCDtool</userinput>
</screen>
</step>
<step xml:id="smcover-step-90">
<para>Restart the console so that it recognizes
the new tool.</para>
<substeps>
<step xml:id="smcover-step-5">
<para>Stop the console server.</para>
<screen># <userinput>/etc/init.d/init.wbem stop</userinput>
</screen>
</step>
<step xml:id="smcover-step-6">
<para>Start the console server.</para>
<screen># <userinput>/etc/init.d/init.wbem start</userinput>
</screen>
</step>
</substeps>
</step>
<step xml:id="smcover-step-117">
<para>Start the console to verify that the new
tool is displayed.</para>
<para>For more information, see <olink remap="internal" targetdoc="chapter-2.xml" targetptr="smcover-42573">How to Start the Console as Superuser or as a Role</olink>.</para>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="smcover-119">
<title>Troubleshooting the Solaris Management Console</title>
<para>Before using this troubleshooting procedure, make sure that the following
packages are installed:</para>
<itemizedlist>
<listitem>
<para>
<literal>SUNWmc</literal> – Solaris Management Console
2.1 (Server Components)</para>
</listitem>
<listitem>
<para>
<literal>SUNWmcc</literal> – Solaris Management Console
2.1 (Client Components)</para>
</listitem>
<listitem>
<para>
<literal>SUNWmccom</literal> – Solaris Management Console
2.1 (Common Components)</para>
</listitem>
<listitem>
<para>
<literal>SUNWmcdev</literal> – Solaris Management Console
2.1 (Development Kit)</para>
</listitem>
<listitem>
<para>
<literal>SUNWmcex</literal> – Solaris Management Console
2.1 (Examples)</para>
</listitem>
<listitem>
<para>
<literal>SUNWwbmc</literal> – Solaris Management Console
2.1 (WBEM Components)</para>
</listitem>
</itemizedlist>
<para>These packages provide the basic Solaris Management Console launcher.
You must install the <literal>SUNWCprog</literal> cluster to use the Solaris
Management Console and all of its tools.</para>
<sect2>
<title/>
<task id="smcover-84">

<title>How to Troubleshoot the Solaris Management Console</title>
<tasksummary>
<para>The client and the server are started automatically when you start the
Solaris Management Console.</para>
<para>If the console is visible and you are having trouble running the tools,
it might be that the server might not be running. Or, the server might be
in a problem state that can be resolved by stopping and restarting it.</para>
</tasksummary>
<procedure>
<step xml:id="smcover-step-88">
<para>Become superuser or assume an equivalent
role.</para>
</step>
<step xml:id="smcover-step-142">
<para>Determine whether the console server is
running.</para>
<screen># /<userinput>etc/init.d/init.wbem status</userinput>
</screen>
<para>If the console server is running, you should see a message similar the
following:</para>
<screen>SMC server version 2.1.0 running on port 898.</screen>
</step>
<step xml:id="smcover-step-89">
<para>If the console server is not running, start
it.</para>
<screen># <userinput>/etc/init.d/init.wbem start</userinput>
</screen>
<para>After a short time, you should see a message similar to the following:</para>
<screen>SMC server is ready.</screen>
</step>
<step xml:id="smcover-step-8">
<para>If the server is running and you are still
having problems, stop the console server. Then, restart it.</para>
<substeps>
<step xml:id="smcover-step-143">
<para>Stop the console server.</para>
<screen># <userinput>/etc/init.d/init.wbem stop</userinput>
</screen>
<para>You should see a message similar to the following:</para>
<screen>Shutting down SMC server on port 898.</screen>
</step>
<step xml:id="smcover-step-91">
<para>Start the console server.</para>
<screen># <userinput>/etc/init.d/init.wbem start</userinput>
</screen>
</step>
</substeps>
</step>
</procedure>
</task>
</sect2>
</sect1>
</chapter>
