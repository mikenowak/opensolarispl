<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>PAM Subsystem - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage> > <a href="p6.html">2.&nbsp;&nbsp;Projects and Tasks (Overview)</a> > <a href="p6.html#rmtaskproj-6">Project Identifiers</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p6.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p8.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="rmtaskproj-10"></a><h4>PAM Subsystem</h4>
<p><a name="indexterm-11"></a><a name="indexterm-12"></a>Operations that change
or set identity include logging in to the system, invoking an <tt>rcp</tt> or <tt>rsh</tt> command, using <tt>ftp</tt>, or using <tt>su</tt>.
When an operation involves changing or setting an identity, a set of configurable
modules is used to provide authentication, account management, credentials
management, and session management.</p>
<p>The account management PAM module for projects is documented in the <tt>pam_projects</tt>(5) man page.
For an overview of PAM, see Chapter
16, Using PAM, in <i>System Administration Guide: Security Services</i>.</p>
<a name="rmtaskproj-11"></a><h4>Naming Services Configuration</h4>
<p>Resource management supports naming service <tt>project</tt> databases.
The location where the <tt>project</tt> database is stored is
defined in the <tt>/etc/nsswitch.conf</tt> file. By default, <tt>files</tt> is listed first, but the sources can be listed in any order.</p>
<pre>project: files [nis] [ldap]</pre><p>If more than one source for project information is listed, the <tt>nsswitch.conf</tt> file directs the routine to start searching for the information
in the first source listed, and then search subsequent sources.</p>
<p>For more information about the <tt>/etc/nsswitch.conf</tt> file,
see Chapter 2, The Name Service Switch (Overview), in <i>System Administration Guide: Naming and Directory Services (DNS,
NIS, and LDAP)</i> and <tt>nsswitch.conf</tt>(4).</p>
<a name="rmtaskproj-12"></a><h4>Local <tt>/etc/project</tt> File
Format</h4>
<p><a name="indexterm-13"></a><a name="indexterm-14"></a>If you
select <tt>files</tt> as your <tt>project</tt> database
source in the <tt>nsswitch.conf</tt> file, the login process searches
the <tt>/etc/project</tt> file for project information. See the <tt>projects</tt>(1) and <tt>project</tt>(4) man pages for more information.</p>
<p>The <tt>project</tt> file contains a one-line entry of the
following form for each project recognized by the system:</p>
<pre>projname:projid:comment:user-list:group-list:attributes</pre><p>The fields are defined as follows:</p>
<dl><dt><i>projname</i></dt>
<dd><p>The name of the project. The name must be a string that consists
of alphanumeric characters, underline (_) characters, hyphens (-), and periods
(.).  The period, which is reserved for projects with special meaning to the
operating system, can only be used in the names of default projects for users. <i>projname</i> cannot contain colons (:) or newline characters.</p>
</dd>
<dt><i>projid</i></dt>
<dd><p>The project's unique numerical ID (PROJID) within the system.
The maximum value of the <i>projid</i> field is <tt>UID_MAX</tt> (<tt>2147483647</tt>).</p>
</dd>
<dt><i>comment</i></dt>
<dd><p>A description of the project.</p>
</dd>
<dt><i>user-list</i></dt>
<dd><p>A comma-separated list of users who are allowed in the project.</p>
<p>Wildcards can be used in this field. An asterisk (*) allows all users
to join the project. An exclamation point followed by an asterisk (!*) excludes
all users from the project. An exclamation mark (!) followed by a user name
excludes the specified user from the project.</p>
</dd>
<dt><i>group-list</i></dt>
<dd><p>A comma-separated list of groups of users who are allowed
in the project.</p>
<p>Wildcards can be used in this field. An asterisk (*) allows all groups
to join the project. An exclamation point followed by an asterisk (!*) excludes
all groups from the project. An exclamation mark (!) followed by a group name
excludes the specified group from the project.</p>
</dd>
<dt><i>attributes</i></dt>
<dd><p>A semicolon-separated list of name-value pairs, such as resource
controls (see <a href="p16.html">Chapter&nbsp;6, Resource Controls (Overview)</a>). <i>name</i> is an arbitrary string
that specifies the object-related attribute, and <i>value</i> is
the optional value for that attribute.</p>
<pre>name[=<i>value</i>]</pre><p>In the name-value pair, names are restricted to letters, digits, underscores,
and periods. A period is conventionally used as a separator between the categories
and subcategories of the resource control (rctl). The first character of an
attribute name must be a letter. The name is case sensitive.</p>
<p>Values can be structured by using commas and parentheses to establish
precedence.</p>
<p>A semicolon is used to separate name-value pairs. A semicolon cannot
be used in a value definition. A colon is used to separate project fields.
A colon cannot be used in a value definition.</p>
</dd>
</dl>
<hr>
<p><b>Note - </b>Routines that read this file halt if they encounter a malformed
entry. Any projects that are specified after the incorrect entry are not assigned.</p>
<hr>
<p>This example shows the default <tt>/etc/project</tt> file:</p>
<pre>system:0:System:::
user.root:1:Super-User:::
noproject:2:No Project:::
default:3::::
group.staff:10::::</pre><p>This example shows the default <tt>/etc/project</tt> file
with project entries added at the end:</p>
<pre>system:0:System:::
user.root:1:Super-User:::
noproject:2:No Project:::
default:3::::
group.staff:10::::
user.ml:2424:Lyle Personal:::
booksite:4113:Book Auction Project:ml,mp,jtd,kjh::</pre><p>You can also add resource controls and attributes to the <tt>/etc/project</tt> file:</p>
<ul><li><p>To add resource controls for a project, see <a href="p19.html#rmctrls.task-2">Setting Resource Controls</a>.</p>
</li>
<li><p>To define a physical memory resource cap for a project using
the resource capping daemon described in <tt>rcapd</tt>(1M), see <a href="p27.html#rm.rcapd-4">Attribute to Limit Physical Memory Usage</a>.</p>
</li>
<li><p>To add a <tt>project.pool</tt> attribute to a project's
entry, see <a href="p48.html#rmconfig-4">Creating the Configuration</a>.</p>
</li>
</ul>
<a name="rmtaskproj-4"></a><h4>Project Configuration for NIS</h4>
<p>If you are using NIS, you can specify in the <tt>/etc/nsswitch.conf</tt> file
to search the NIS project maps for projects:</p>
<pre>project: nis files </pre><p>The NIS maps, either <tt>project.byname</tt> or <tt>project.bynumber</tt>, have the same form as the <tt>/etc/project</tt> file:</p>
<pre>projname:projid:comment:user-list:group-list:attributes</pre><p>For more information, see Chapter 4, Network Information
Service (NIS) (Overview), in <i>System Administration
Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i>.</p>
<a name="rmtaskproj-5"></a><h4>Project Configuration for LDAP</h4>
<p>If you are using LDAP, you can specify in the <tt>/etc/nsswitch.conf</tt> file
to search the LDAP <tt>project</tt> database for projects:</p>
<pre>project: ldap files</pre><p>For more information about LDAP, see Chapter 8, Introduction
to LDAP Naming Services (Overview/Reference), in <i>System Administration Guide: Naming and Directory Services (DNS,
NIS, and LDAP)</i>. For more information about the schema
for project entries in an LDAP database, see Solaris Schemas in <i>System Administration Guide: Naming and Directory Services (DNS,
NIS, and LDAP)</i>.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p6.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p8.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

