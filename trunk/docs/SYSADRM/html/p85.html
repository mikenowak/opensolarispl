<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>About Packages and Zones - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage> > <a href="p84.html">24.&nbsp;&nbsp;About Packages and Patches on a Solaris System With Zones Installed (Overview)</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p84.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p86.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="z.pkginst.ov-10"></a><h3>About Packages and Zones</h3>
<p>Only a subset of the Solaris packages installed on the global zone are
completely replicated when a non-global zone is installed. For example, many
packages that contain the Solaris kernel are not needed in a non-global zone.
All non-global zones implicitly share the same Solaris kernel from the global
zone. However, even if a package's data is not required or is not of use in
a non-global zone, the knowledge that a package is installed in the global
zone might be required in a non-global zone. The information allows package
dependencies from the non-global zones to be properly resolved with the global
zone.</p>
<p>Packages have parameters that control how their content is distributed
and made visible on a system with non-global zones installed. The <tt>SUNW_PKG_ALLZONES</tt>, <tt>SUNW_PKG_HOLLOW</tt>, and <tt>SUNW_PKG_THISZONE</tt> package
parameters define the characteristics of packages on a system with zones installed.
If desired, system administrators can check these package parameter settings
to verify the package's applicability when applying or removing a package
in a zone environment. The <tt>pkgparam</tt> command can be used
to view the values for these parameters. For more information on parameters,
see <a href="p88.html">Package Parameter Information</a>.
See <a href="p94.html">Checking Package Parameter Settings on a System with Zones Installed</a> for usage instructions.</p>
<a name="gcded"></a><h4>Patches Generated for Packages</h4>
<p><a name="indexterm-299"></a>When
a patch is generated for any package, the parameters  must be set to the same
values as the original package.</p>
<a name="gcddu"></a><h4>Interactive Packages</h4>
<p><a name="indexterm-300"></a><a name="indexterm-301"></a>Any
package that must be interactive, which means that it has a request script,
is added to the current zone only. The package is not propagated to any other
zone. If an interactive package is added to the global zone, the package is
treated as though it is being added by using the <tt>pkgadd</tt> command
with the <tt>-G</tt> option. For more information about this option,
see <a href="p86.html#z.pkginst.ov-14">About Adding Packages in Zones</a>.</p>
<a name="z.pkginst.ov-11"></a><h3>Keeping Zones in Sync</h3>
<p><a name="indexterm-302"></a><a name="indexterm-303"></a>It
is best to keep the software installed in the non-global zones in sync with
the software installed in the global zone to the maximum extent possible.
This practice minimizes the difficulty in administering a system with multiple
installed zones.</p>
<p>To achieve this goal, the package tools enforce the following rules
when adding or removing packages in the global zone.</p>
<a name="z.pkginst.ov-38"></a><h4>Package Operations Possible in the Global
Zone</h4>
<p>If the package is not currently installed in the global zone and not
currently installed in any non-global zone, the package can be installed:</p>
<ul><li><p>Only in the global zone, if <tt>SUNW_PKG_ALLZONES=false</tt></p>
</li>
<li><p>In the current zone only, which is the global zone in this
case, if <tt>SUNW_PKG_THISZONE=true</tt></p>
</li>
<li><p>In the global zone and all non-global zones</p>
</li>
</ul>
<p>If the package is currently installed in the global zone only:</p>
<ul><li><p>The package can be installed in all non-global zones.</p>
</li>
<li><p>The package can be removed from the global zone.</p>
</li>
</ul>
<p>If a package is currently installed in the global zone and currently
installed in only a subset of the non-global zones:</p>
<ul><li><p><tt>SUNW_PKG_ALLZONES</tt> must be set to <tt>false</tt>.</p>
</li>
<li><p>The package can be installed in all non-global zones. Existing
instances in any non-global zone are updated to the revision being installed.</p>
</li>
<li><p>The package can be removed from the global zone.</p>
</li>
<li><p>The package can be removed from the global zone and from all
non-global zones.</p>
</li>
</ul>
<p>If a package is currently installed in the global zone and currently
installed in all non-global zones, the package can be removed from the global
zone and from all non-global zones.</p>
<p>These rules ensure the following:</p>
<ul><li><p>Packages installed in the global zone are either installed
in the global zone only, or installed in the global zone and all non-global
zones.</p>
</li>
<li><p>Packages installed in the global zone and also installed in
any non-global zone are the same across all zones.</p>
</li>
</ul>
<a name="z.pkginst.ov-39"></a><h4>Package Operations Possible in a Non-Global
Zone</h4>
<p>The package operations possible in any non-global zone are:</p>
<ul><li><p>If a package is not currently installed in the non-global
zone, the package can be installed only if <tt>SUNW_PKG_ALLZONES=false</tt>.</p>
</li>
<li><p>The package can be installed in the current zone, which is
the non-global zone in this case, if <tt>SUNW_PKG_THISZONE=true</tt>.</p>
</li>
<li><p>If a package is currently installed in the non-global zone:</p>
<ul><li><p>The package can be installed over the existing instance of
the package only if <tt>SUNW_PKG_ALLZONES=false</tt>.</p>
</li>
<li><p>The package can be removed from the non-global zone only if <tt>SUNW_PKG_ALLZONES=false</tt>.</p>
</li>
</ul>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p84.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p86.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

