<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>About Installing, Halting, Cloning, and
Uninstalling Non-Global Zones (Overview) - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p66.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p68.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="z.inst.ov-1"></a>Chapter&nbsp;19<h3>About Installing, Halting, Cloning, and
Uninstalling Non-Global Zones (Overview)</h3><p>This chapter discusses zone installation on your Solaris system. It
also describes the two processes that manage the virtual platform and the
application environment, <tt>zoneadmd</tt> and <tt>zsched</tt>.
Information about halting, rebooting, cloning, and uninstalling zones is also
provided.</p>
<p>The following topics are addressed in this chapter:</p>
<ul><li><p><a href="p67.html#z.inst.ov-2">Zone Installation and Administration Concepts</a></p>
</li>
<li><p><a href="p67.html#z.inst.ov-3">Zone Construction</a></p>
</li>
<li><p><a href="p68.html">The <tt>zoneadmd</tt> Daemon</a></p>
</li>
<li><p><a href="p68.html#z.inst.ov-13">The <tt>zsched</tt> Zone Scheduler</a></p>
</li>
<li><p><a href="p68.html#z.inst.ov-4">Zone Application Environment</a></p>
</li>
<li><p><a href="p68.html#z.inst.ov-6">About Halting, Rebooting, and Uninstalling Zones</a></p>
</li>
<li><p><a href="p69.html#gcrsy">About Cloning Non-Global Zones</a></p>
</li>
</ul>
<p>To clone a non-global zone, install and boot a non-global zone, or to
halt or uninstall a non-global zone, see <a href="p70.html">Chapter&nbsp;20, Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a>.</p>
<p>For information about <tt>lx</tt> branded zone installation,
see <a href="p125.html">Chapter&nbsp;32, About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a> and <a href="p128.html">Chapter&nbsp;33, Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a>.</p>
<a name="z.inst.ov-2"></a><h3>Zone Installation and Administration Concepts</h3>
<p><a name="indexterm-234"></a><a name="indexterm-235"></a>The <tt>zoneadm</tt> command described in the <tt>zoneadm</tt>(1M) man page is the primary tool
used to install and administer non-global zones. Operations using the <tt>zoneadm</tt> command must be run from the global zone. The following tasks can
be performed using the <tt>zoneadm</tt> command:</p>
<ul><li><p>Verify a zone</p>
</li>
<li><p>Install a zone</p>
</li>
<li><p>Change the state of an installed zone to incomplete</p>
</li>
<li><p>Boot a zone, which is similar to booting a regular Solaris
system</p>
</li>
<li><p>Display information about a running zone</p>
</li>
<li><p>Halt a zone</p>
</li>
<li><p>Reboot a zone</p>
</li>
<li><p>Uninstall a zone</p>
</li>
<li><p>Relocate a zone from one point on a system to another point
on the same system</p>
</li>
<li><p>Provision a new zone based on the configuration of an existing
zone on the same system</p>
</li>
<li><p>Migrate a zone, used with the <tt>zonecfg</tt> command</p>
</li>
</ul>
<p>For zone installation and verification procedures, see <a href="p70.html">Chapter&nbsp;20, Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a> and the <tt>zoneadm</tt>(1M) man page. Also refer to the <tt>zoneadm</tt>(1M) man
page for supported options to the <tt>zoneadm</tt> <tt>list</tt> command.
For zone configuration procedures, see <a href="p61.html">Chapter&nbsp;18, Planning and Configuring Non-Global Zones (Tasks)</a> and the <tt>zonecfg</tt>(1M) man page.  Zone
states are described in <a href="p52.html#zones.intro-12">Non-Global Zone State Model</a>.</p>
<p>If you plan to produce Solaris auditing records for zones, read <a href="p101.html#z.admin.ov-20">Using Solaris Auditing in Zones</a> before you
install non-global zones.</p>
<a name="z.inst.ov-3"></a><h3>Zone Construction</h3>
<p>This section applies to initial zone construction, and not to the cloning
of existing zones.</p>
<p><a name="indexterm-236"></a><a name="indexterm-237"></a>After
you have configured a non-global zone, you should verify that the zone can
be installed safely on your system's configuration. You can then install the
zone. The files needed for the zone's root file system are installed by the
system under the zone's root path.</p>
<p>A non-global zone is installed with the limited networking configuration
(<tt>generic_limited_net.xml</tt>). Network configuration types
are described in Chapter 15, Managing Services (Tasks), in <i>System Administration Guide: Basic Administration</i>. The
zone administrator can switch the zone to the open, traditional networking
configuration (<tt>generic_open.xml</tt>) by using the <tt>netservices</tt> command. Specific services can be enabled or disabled  by using
SMF commands. For more information, see <a href="p79.html#gdpau">Switching the Non-Global Zone to a Different Networking Service Configuration</a>.</p>
<p>A successfully installed zone is ready for booting and initial login.</p>
<p>The method used to initially install packages in a Solaris installation
is also the method used to populate a non-global zone.</p>
<p>The global zone must contain all the data necessary to populate a non-global
zone. Populating a zone includes creating directories, copying files, and
providing configuration information.</p>
<p>Only the information or data that was created in the global zone from
packages is used to populate the zone from the global zone. For more information,
see the <tt>pkgparam</tt>(1) and <tt>pkginfo</tt>(4) man pages.</p>
<p>Data from the following are not referenced or copied when a zone is
installed:</p>
<ul><li><p>Non-installed packages</p>
</li>
<li><p>Patches</p>
</li>
<li><p>Data on CDs and DVDs</p>
</li>
<li><p>Network installation images</p>
</li>
<li><p>Any prototype or other instance of a zone</p>
</li>
</ul>
<p>In addition, the following types of information, if present in the global
zone, are not copied into a zone that is being installed:</p>
<ul><li><p>New or changed users in the <tt>/etc/passwd</tt> file</p>
</li>
<li><p>New or changed groups in the <tt>/etc/group</tt> file</p>
</li>
<li><p>Configurations for networking services such as DHCP address
assignment</p>
</li>
<li><p>Customizations for networking services such as UUCP or sendmail</p>
</li>
<li><p>Configurations for network services such as naming services</p>
</li>
<li><p>New or changed <tt>crontab</tt>, printer, and mail
files</p>
</li>
<li><p>System log, message, and accounting files</p>
</li>
</ul>
<p>If Solaris auditing is used, modifications to auditing files copied
from the global zone might be required. For more information, see <a href="p101.html#z.admin.ov-20">Using Solaris Auditing in Zones</a>.</p>
<p>The following features cannot be configured in a non-global zone:</p>
<ul><li><p>Solaris Live Upgrade boot environments</p>
</li>
<li><p>Solaris Volume Manager metadevices</p>
</li>
<li><p>DHCP address assignment</p>
</li>
<li><p>SSL proxy server</p>
</li>
</ul>
<p>The resources specified in the configuration file are added when the
zone transitions from installed to ready. A unique zone ID is assigned by
the system. File systems are mounted, network interfaces are set up, and devices
are configured. Transitioning into the ready state prepares the virtual platform
to begin running user processes. In the ready state, the <tt>zsched</tt> and <tt>zoneadmd</tt> processes are started to manage the virtual platform.</p>
<ul><li><p><tt>zsched</tt>, a system scheduling process similar
to <tt>sched</tt>, is used to track kernel resources associated
with the zone.</p>
</li>
<li><p><tt>zoneadmd</tt> is the zones administration daemon.</p>
</li>
</ul>
<p>A zone in the ready state does not have any user processes executing
in it. The primary difference between a ready zone and a running zone is that
at least one process is executing in a running zone. See the <tt>init</tt>(1M) man page for more information.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p66.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p68.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

