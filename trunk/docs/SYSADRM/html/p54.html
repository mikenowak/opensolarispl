<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Non-Global Zone Configuration (Overview) - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p53.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p55.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="z.config.ov-1"></a>Chapter&nbsp;17<h3>Non-Global Zone Configuration (Overview)</h3><p>This chapter provides an introduction to non-global zone configuration.</p>
<p>The following topics are covered in this chapter:</p>
<ul><li><p><a href="p54.html#gejut">About Resources in Zones</a></p>
</li>
<li><p><a href="p54.html#z.config.ov-2">Pre-Installation Configuration Process</a></p>
</li>
<li><p><a href="p54.html#z.config.ov-3">Zone Components</a></p>
</li>
<li><p><a href="p57.html">Using the <tt>zonecfg</tt> Command</a></p>
</li>
<li><p><a href="p57.html#z.config.ov-10"><tt>zonecfg</tt> Modes</a></p>
</li>
<li><p><a href="p58.html#z.config.ov-12">Zone Configuration Data</a></p>
</li>
<li><p><a href="p60.html">Tecla Command-Line Editing Library</a></p>
</li>
</ul>
<p>After you have learned about zone configuration, go to <a href="p61.html">Chapter&nbsp;18, Planning and Configuring Non-Global Zones (Tasks)</a> to configure non-global zones for installation on your
system.</p>
<p>For information about <tt>lx</tt> branded zone configuration,
see <a href="p117.html">Chapter&nbsp;30, Planning the <tt>lx</tt> Branded Zone Configuration (Overview)</a> and <a href="p123.html">Chapter&nbsp;31, Configuring the <tt>lx</tt> Branded Zone (Tasks)</a>.</p>
<a name="gejut"></a><h3>About Resources in Zones</h3>
<p>A zone that includes resource management features is called a container.
Resources that can be controlled in a container include the following:</p>
<ul><li><p>Resource pools or assigned CPUs, which are used for partitioning
machine resources.</p>
</li>
<li><p>Resource controls, which provide a mechanism for the constraint
of system resources.</p>
</li>
<li><p>Scheduling class, which enables you to control the allocation
of available CPU resources among zones, based on their importance. This importance
is expressed by the number of shares of CPU resources that you assign to each
zone.</p>
</li>
</ul>
<a name="z.config.ov-2"></a><h3>Pre-Installation Configuration Process</h3>
<p><a name="indexterm-155"></a><a name="indexterm-156"></a>Before you can install a non-global zone and use it
on your system, the zone must be configured.</p>
<p>The <tt>zonecfg</tt> command is used to create the configuration
and to determine whether the specified resources and properties are valid
on a hypothetical system. The check performed by <tt>zonecfg</tt> for
a given configuration verifies the following:</p>
<ul><li><p>Ensures that a zone path is specified</p>
</li>
<li><p>Ensures that all of the required properties for each resource
are specified</p>
</li>
</ul>
<p>For more information about the <tt>zonecfg</tt> command, see
the <tt>zonecfg</tt>(1M) man
page.</p>
<a name="z.config.ov-3"></a><h3>Zone Components</h3>
<p>This section covers the required and optional zone components that can
be configured. Additional information is provided in <a href="p58.html#z.config.ov-12">Zone Configuration Data</a>.</p>
<a name="z.config.ov-9"></a><h4>Zone Name and Path</h4>
<p>You must choose a name and a path for your zone.</p>
<a name="gdagb"></a><h4>Zone Autoboot</h4>
<p>The <tt>autoboot</tt> property setting determines whether
the zone is automatically booted when the global zone is booted. The zones
service, <tt>svc:/system/zones:default</tt> must also be enabled.</p>
<a name="gdafs"></a><h4>Resource Pool Association</h4>
<p>If you have configured resource pools on your system as described in <a href="p42.html">Chapter&nbsp;13, Creating and Administering Resource Pools (Tasks)</a>, you can use the <tt>pool</tt> property to
associate the zone with one of the resource pools when you configure the zone.</p>
<p>If you do not have resource pools configured, you can still specify
that a subset of the system's processors be dedicated to a non-global zone
while it is running by using the <tt>dedicated-cpu</tt> resource.
The system will dynamically create a temporary pool for use while the zone
is running.</p>
<hr>
<p><b>Note - </b>A zone configuration using a persistent pool set through the <tt>pool</tt> property is incompatible with a temporary pool configured through
the <tt>dedicated-cpu</tt> resource. You can set only one of these
two properties.</p>
<hr>
<a name="gejlw"></a><h4><tt>dedicated-cpu</tt> Resource</h4>
<p><a name="indexterm-157"></a><a name="indexterm-158"></a>The <tt>dedicated-cpu</tt> resource specifies that a
subset of the system's processors should be dedicated to a non-global zone
while it is running. When the zone boots, the system will dynamically create
a temporary pool for use while the zone is running.</p>
<p>The <tt>dedicated-cpu</tt> resource sets limits for <tt>ncpus</tt>, and optionally, <tt>importance</tt>. </p>
<dl><dt><tt>ncpus</tt></dt>
<dd><p>Specify the number of CPUs or specify a range, such as 2&ndash;4
CPUs. If you specify a range because you want dynamic resource pool behavior,
also do the following:</p>
<ul><li><p>Set the <tt>importance</tt> property.</p>
</li>
<li><p>Enable the <tt>poold</tt> service. For instructions,
see <a href="p42.html#gbvdw">How to Enable the Dynamic Resource Pools Service Using <tt>svcadm</tt></a>.</p>
</li>
</ul>
</dd>
<dt><tt>importance</tt></dt>
<dd><p>If you are using a CPU range to achieve dynamic behavior,
also set the <tt>importance</tt> property, The <tt>importance</tt> property,
which is <b>optional</b>, defines the relative importance of
the pool. This property is only needed when you specify a range for <tt>ncpus</tt> and are using dynamic resource pools managed by <tt>poold</tt>.
If <tt>poold</tt> is not running, then <tt>importance</tt> is
ignored. If <tt>poold</tt> is running and <tt>importance</tt> is
not set, <tt>importance</tt> defaults to <tt>1</tt>. For
more information, see <a href="p36.html#gbvhv"><tt>pool.importance</tt> Property Constraint</a>.</p>
</dd>
</dl>
<hr>
<p><b>Note - </b>The <tt>capped-cpu</tt> resource and the <tt>dedicated-cpu</tt> resource are incompatible. The <tt>cpu-shares</tt> rctl
and the <tt>dedicated-cpu</tt> resource are incompatible.</p>
<hr>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p53.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p55.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

