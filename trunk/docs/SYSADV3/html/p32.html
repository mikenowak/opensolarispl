<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p25.html#fwawf">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p31.html#gduew">Configuring and Communicating Over WiFi Interfaces</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p31.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p33.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="gdwrw"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How
to Monitor the WiFi Link</h3>
<p><A NAME="indexterm-709"></A>This procedure shows how to monitor the status of a WiFi link
through standard networking tools, and change link properties through the <tt>linkprop</tt> subcommand.</p>
<ol><li><p><b>Assume the Primary Administrator role, or become superuser.</b></p><p>The Primary Administrator role includes the Primary Administrator profile.
To create the role and assign the role to a user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<li><p><b>Connect to the WiFi network, as described in <A HREF="p31.html#gdwra">How to Connect to a WiFi Network</A>.</b></p></li>
<li><p><b>View the properties of the link.</b></p><p>Use the following
syntax:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm show-linkprop</b></tt> <i>interface</i></pre>
</td></table><br><p>For example, you would use the following syntax to show the status of
the connection established over the <tt>ath0</tt> link:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm show-linkprop ath0</b></tt>
PROPERTY        VALUE           DEFAULT         POSSIBLE
channel         5               --              -- 
powermode       off             off             off,fast,max
radio           ?               on              on,off 
speed           36               --              1,2,5.5,6,9,11,12,18,24,36,48,54</pre>
</td></table><br></li>
<li><p><b>Set a fixed speed for the link.</b></p><hr size="1" noshade><p><IMG ALT="Caution" src="graphics/caution.gif">  <b>Caution - </b>The Solaris OS automatically chooses the optimal speed for
the WiFi connection. Modifying the initial speed of the link might cause reduced
performance or prevent the establishment of certain WiFi connections.</p><hr size="1" noshade><p>You can modify the link speed to one of the possible values for speed
that is listed in the <tt>show-linkprop</tt> output.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm set-linkprop -p speed=</b></tt><i>value link</i></pre>
</td></table><br></li>
<li><p><b><A NAME="indexterm-710"></A>Check the packet flow over the link.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>netstat -I ath0 -i 5</b></tt>
   input   ath0      output       input  (Total)    output
packets errs  packets errs  colls  packets errs  packets errs  colls
317     0     106     0     0      2905    0     571     0     0
14      0     0       0     0      20      0     0       0     0
7       0     0       0     0      16      0     1       0     0
5       0     0       0     0      9       0     0       0     0
304     0     10      0     0      631     0     316     0     0
338     0     9       0     0      722     0     381     0     0
294     0     7       0     0      670     0     371     0     0
306     0     5       0     0      649     0     338     0     0
289     0     5       0     0      597     0     301     0     0</pre>
</td></table><br></li>
</ol><A NAME="gdygw"></A><h5>Example 6-9 &nbsp;&nbsp;Set the Speed of a Link</h5>
<p><A NAME="indexterm-711"></A>This example shows how to set the speed of a link after you have
connected to a WiFi network</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm show-linkprop -p speed ath0</b></tt>
PROPERTY        VALUE           DEFAULT         POSSIBLE
speed           24               --              1,2,5,6,9,11,12,18,24,36,48,54
# <tt><b>dladm set-linkprop -p speed=36 ath0</b></tt>

# <tt><b>dladm show-linkprop -p speed ath0</b></tt>
PROPERTY        VALUE           DEFAULT         POSSIBLE
speed           36               --              1,2,5,6,9,11,12,18,24,36,48,54</pre>
</td></table><br><A NAME="gdxqy"></A><h3>WiFi Networks and Security</h3>
<p><A NAME="indexterm-712"></A><A NAME="indexterm-713"></A>Radio wave technology makes WiFi networks readily available and
often freely accessible to users in many locations. As a result, connecting
to a WiFi network can be an insecure undertaking. However, certain types of
WiFi connections are more secure:</p>
<ul><li><p>Connecting to a private, restricted-access WiFi network</p>
<p>Private networks, such as internal networks established by corporations
or universities, restrict access to their networks to users who can provide
the correct security challenge. Potential users must supply a key during the
connection sequence or log in to the network through a secure VPN.</p>
</li>
<li><p>Encrypting your connection to the WiFi network</p>
<p>You
can encrypt communications between your system and a WiFi network by using
a secure key. Your access point to the WiFi network must be a router in your
home or office with a secure key-generating feature. Your system and the router
establish and then share the key before creating the secure connection.</p>
</li>
</ul>
<p>The <tt>dladm</tt> command can use a Wired Equivalent Privacy
(WEP) key for encrypting connections through the access point. The WEP protocol
is defined in IEEE 802.11 specifications for wireless connections. For complete
details on the WEP-related options of the <tt>dladm</tt> command,
refer to the <tt>dladm</tt>(1M) man
page.</p>
<A NAME="gdwjm"></A><h4><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Set Up an Encrypted WiFi Network Connection</h4>
<p><A NAME="indexterm-714"></A> The next procedure shows how to set up secure communications
between a system and a router in the home. Many wireless and wired routers
for the home have an encryption feature that can generate a secure key. This
procedure assumes that you use such a router and have its documentation available.
The procedure also assumes that your system is already plugged into the router.</p>
<ol><li><p><b>Start the software for configuring the home router.</b></p><p>Refer
to the manufacturer's documentation for instructions. Router manufacturers
typically offer an internal web site or a graphical user interface for router
configuration.</p>
</li>
<li><p><b>Generate the value for the WEP key.</b></p><p><A NAME="indexterm-715"></A><A NAME="indexterm-716"></A>Follow the manufacturer's instructions for creating a secure key
for the router. The router configuration GUI might ask you to supply a passphrase
of your choice for the key. The software then uses the passphrase to generate
a hexadecimal string, typically 5 bytes or 13 bytes in length. This string
becomes the value to be used for the WEP key.</p>
</li>
<li><p><b>Apply and save the key configuration.</b></p><p>Refer to the
manufacturer's documentation for instructions.</p>
</li>
<li><p><b>Assume the Primary Administrator role, or become superuser.</b></p><p>The Primary Administrator role includes the Primary Administrator profile.
To create the role and assign the role to a user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<li><p><b>Create a secure object that contains the WEP key.</b></p><p>Open
a terminal window on the system and type the following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm create-secobj -c wep</b></tt> <i>keyname</i></pre>
</td></table><br><p>where <i>keyname</i> represents the name you want
to give to the key.</p>
</li>
<li><p><b>Supply the value for the WEP key to the secure object.</b></p><p>The <tt>create-secobj</tt> subcommand then runs a script that requests the value
for the key. </p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>provide value for <i>keyname</i>: <i>5 or 13 byte key</i>
confirm value for <i>keyname</i>: <i>retype key</i></pre>
</td></table><br><p>This value is the key that was generated by the router. The script accepts
either a five byte or thirteen byte string, in ASCII or in hexadecimal for
the key value.</p>
</li>
<li><p><b>View the contents of the key that you just created.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm show-secobj</b></tt>
OBJECT               CLASS
<i>keyname</i>                wep</pre>
</td></table><br><p>where <i>keyname</i> is the name for the secure
object.</p>
</li>
<li><p><b>Make an encrypted connection to the WiFi network.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm connect-wifi -e</b></tt> <i>network</i> -k <i>keyname interface</i></pre>
</td></table><br></li>
<li><p><b>Verify that the connection is secure.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm show-wifi</b></tt>
LINK       STATUS        ESSID         SEC     STRENGTH   MODE   SPEED
ath0       connected     net1          wep     good       g      11Mb</pre>
</td></table><br><p>The <tt>wep</tt> value under the <tt>SEC</tt> heading
indicates that WEP encryption is in place for the connection.</p>
</li>
</ol><A NAME="gdygb"></A><h5>Example 6-10 &nbsp;&nbsp;Setting Up Encrypted WiFi Communications</h5>
<p><A NAME="indexterm-717"></A>This example assumes that you have already done the following:</p>
<ul><li><p>Connected your system to a home router that can create a WEP
key</p>
</li>
<li><p>Followed the router manufacturer's documentation and created
the WEP key</p>
</li>
<li><p>Saved the key so that you can use it to create the secure
object on your system</p>
</li>
</ul>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm create-secobj -c wep mykey</b></tt>
provide value for mykey: *****
confirm value for mkey: *****</pre>
</td></table><br><p>When you supply the WEP key generated that is by the router, asterisks
mask the value that you type.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm show-secobj</b></tt>
OBJECT               CLASS
 mykey               wep
# <tt><b>dladm connect-wifi -e citinet -k mykey ath0</b></tt></pre>
</td></table><br><p>This command establishes an encrypted connection to the WiFi network <tt>citinet,</tt> using the secure object <tt>mykey</tt>.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dladm show-wifi</b></tt>
LINK       STATUS        ESSID         SEC     STRENGTH   MODE   SPEED
ath0       connected     citinet       wep     good       g      36Mb</pre>
</td></table><br><p>This output verifies that you are connected to <tt>citinet</tt> through
WEP encryption.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p31.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p33.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

