<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p119.html#ike-task-1">23.&nbsp;&nbsp;Configuring IKE (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p119.html#ike-task-15">Configuring IKE With Preshared Keys</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p120.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p122.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ike-task-44"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Verify That IKE Preshared Keys
Are Identical</h3>
<p>If the preshared keys on the communicating systems are not identical,
the systems cannot authenticate.</p>
<h5>Before You Begin</h5><p>IPsec has been configured and is enabled between the two systems that
you are testing.</p>
<ol><li><p><b>On the system console, assume the Primary Administrator role or
become superuser.</b></p><p>The Primary Administrator role includes the
Primary Administrator profile. To create the role and assign the role to a
user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
<p><hr size="1" noshade><p><b>Note - </b>Logging in remotely exposes security-critical traffic to eavesdropping.
Even if you somehow protect the remote login, the security of the system is
reduced to the security of the remote login session.</p>
<hr size="1" noshade></p></li>
<li><p><b><A NAME="indexterm-2057"></A><A NAME="indexterm-2058"></A><A NAME="indexterm-2059"></A><A NAME="indexterm-2060"></A>Check the privilege level of the <tt>in.iked</tt> daemon.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>/usr/sbin/ikeadm get priv</b></tt>
Current privilege level is 0x0, base privileges enabled</pre>
</td></table><br><ul><li><p><b>If the privilege level is <tt>0x1</tt> or <tt>0x2</tt>,
continue with the next step.</b></p></li>
<li><p><b><A NAME="indexterm-2061"></A><A NAME="indexterm-2062"></A>If the privilege level is <tt>0x0</tt>, stop the daemon.
Then, restart the daemon with the appropriate privilege level.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>pkill in.iked</b></tt>
# <tt><b>/usr/lib/inet/in.iked -p 2</b></tt>
Setting privilege level to 2!</pre>
</td></table><br></li>
</ul>
</li>
<li><p><b>On each system, view the preshared key information.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ikeadm dump preshared</b></tt>
PSKEY: Preshared key (24 bytes): f47cb.../192
LOCIP: AF_INET: port 0, 192.168.116.16 (enigma).
REMIP: AF_INET: port 0, 192.168.13.213 (partym).</pre>
</td></table><br></li>
<li><p><b>Compare the two dumps.</b></p><p>If the preshared keys are not
identical, replace one key with the other key in the <tt>/etc/inet/secret/ike.preshared</tt> file.</p>
</li>
<li><p><b>When the verification is complete, lower the privilege level of
the <tt>in.iked</tt> daemon on each system.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ikeadm set priv base</b></tt></pre>
</td></table><br></li>
</ol><A NAME="ike-task-12"></A><h2>Configuring IKE With Public Key Certificates
(Task Map)</h2>
<p><A NAME="indexterm-2063"></A><A NAME="indexterm-2064"></A><A NAME="indexterm-2065"></A><A NAME="indexterm-2066"></A>The following table provides pointers to procedures for creating
public key certificates for IKE. The procedures include how to accelerate
and store the certificates on attached hardware.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Configure IKE with self-signed public key certificates</p></td><td><p>Creates and places two certificates on each system:</p><ul><li><p>A self-signed certificate</p></li>
<li><p>The public key certificate from the remote system</p></li>
</ul>
</td><td><p><A HREF="p121.html#ike-task-42">How to Configure IKE With Self-Signed Public Key Certificates</A>&nbsp;</p></td></tr>
<tr><td><p>Configure IKE with a PKI Certificate Authority</p></td><td><p>Creates a certificate request, and then places three certificates on
each system:</p><ul><li><p>The  certificate that the Certificate Authority (CA) creates
from your request</p></li>
<li><p>The public key certificate from the CA</p></li>
<li><p>The CRL from the CA</p></li>
</ul>
</td><td><p><A HREF="p122.html#ike-task-41">How to Configure IKE With Certificates Signed by a CA</A>&nbsp;</p></td></tr>
<tr><td><p>Configure public key certificates on local hardware</p></td><td><p>Involves one of: </p><ul><li><p>Generating a self-signed certificate on the local hardware
and then adding the public key from a remote system to the hardware.</p></li>
<li><p>Generating a certificate request on the local hardware and
then adding the public key certificates from the CA to the hardware.</p></li>
</ul>
</td><td><p><A HREF="p123.html#ike-task-14">How to Generate and Store Public Key Certificates on Hardware</A>&nbsp;</p></td></tr>
<tr><td><p>Update the certificate revocation list (CRL) from a PKI</p></td><td><p>Accesses the CRL from a central distribution point.</p></td><td><p><A HREF="p124.html#ike-task-22">How to Handle a Certificate Revocation List</A>&nbsp;</p></td></tr>
</table><A NAME="ike-task-25"></A><h2>Configuring IKE With Public Key Certificates</h2>
<p><A NAME="indexterm-2067"></A>Public key certificates eliminate the need for communicating systems
to share secret keying material out of band. Unlike preshared keys, a public
key certificate can be used on a mobile machine or on a system that might
be renumbered.</p>
<p>Public key certificates can also be stored on attached hardware. For
the procedure, see <A HREF="p125.html#ike-task-17">Configuring IKE to Find Attached Hardware (Task Map)</A>.</p>
<A NAME="ike-task-42"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Configure IKE With Self-Signed Public
Key Certificates</h3>
<A NAME="indexterm-2068"></A><A NAME="indexterm-2069"></A><p>Self-signed certificates require less overhead than public certificates
from a CA, but do not scale very easily.</p>
<ol><li><p><b>On the system console, assume the Primary Administrator role or
become superuser.</b></p><p>The Primary Administrator role includes the
Primary Administrator profile. To create the role and assign the role to a
user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
<p><hr size="1" noshade><p><b>Note - </b><A NAME="indexterm-2070"></A>Logging in remotely exposes security-critical traffic to eavesdropping.
Even if you somehow protect the remote login, the security of the system is
reduced to the security of the remote login session.</p>
<hr size="1" noshade></p></li>
<A NAME="ike-task-step-ksgen-1"></A><li><p><b><A NAME="indexterm-2071"></A><A NAME="indexterm-2072"></A><A NAME="indexterm-2073"></A><A NAME="indexterm-2074"></A><A NAME="indexterm-2075"></A><A NAME="indexterm-2076"></A><A NAME="indexterm-2077"></A>Add a self-signed certificate to the <tt>ike.privatekeys</tt> database. </b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># ikecert certlocal -ks|-kc -m <i>keysize</i> -t <i>keytype</i> \
-D <i>dname</i> -A <i>altname</i> \
[<tt>-S</tt> <i>validity-start-time</i>] [<tt>-F</tt> <i>validity-end-time</i>] [<tt>-T</tt> <i>token-ID</i></pre>
</td></table><br><table border="0" cellspacing="5"><tr><td valign="top"><p><tt>-ks</tt></p></td><td valign="top"><p>Creates a self-signed certificate.</p>
</td></tr><tr><A NAME="indexterm-2078"></A><td valign="top"><p><tt>-kc</tt></p></td><td valign="top"><p>Creates a certificate request. For the procedure, see <A HREF="p122.html#ike-task-41">How to Configure IKE With Certificates Signed by a CA</A>.</p>
</td></tr><tr><A NAME="indexterm-2079"></A><td valign="top"><p><tt>-m</tt> <i>keysize</i></p></td><td valign="top"><p>Is the size of the key. The <i>keysize</i> can
be 512, 1024, 2048, 3072, or 4096.</p>
</td></tr><tr><A NAME="indexterm-2080"></A><td valign="top"><p><tt>-t</tt> <i>keytype</i></p></td><td valign="top"><p>Specifies the type of algorithm to use. The <i>keytype</i> can
be <tt>rsa-sha1</tt>, <tt>rsa-md5</tt>, or <tt>dsa-sha1</tt>.</p>
</td></tr><tr><A NAME="indexterm-2081"></A><td valign="top"><p><tt>-D</tt> <i>dname</i></p></td><td valign="top"><p>Is the X.509 distinguished name for the certificate subject.
The <i>dname</i> typically has the form: C=country, O=organization,
OU=organizational unit, CN=common name. Valid tags are C, O, OU, and CN.</p>
</td></tr><tr><A NAME="indexterm-2082"></A><td valign="top"><p><tt>-A</tt> <i>altname</i></p></td><td valign="top"><p>Is the alternate name for the certificate. The <i>altname</i> is in the form of <tt>tag=value</tt>. Valid tags
are <tt>IP</tt>, <tt>DNS</tt>, <tt>email</tt>, and <tt>DN</tt>.</p>
</td></tr><tr><A NAME="indexterm-2083"></A><td valign="top"><p><tt>-S</tt> <i>validity-start-time</i></p></td><td valign="top"><p>Provides an absolute or relative valid start time for the
certificate.</p>
</td></tr><tr><A NAME="indexterm-2084"></A><td valign="top"><p><tt>-F</tt> <i>validity-end-time</i></p></td><td valign="top"><p>Provides an absolute or relative valid end time for the certificate.</p>
</td></tr><tr><A NAME="indexterm-2085"></A><td valign="top"><p><tt>-T</tt> <i>token-ID</i></p></td><td valign="top"><p>Enables a PKCS&nbsp;#11 hardware token to generate the keys.
The certificates are then stored in the hardware.</p>
</td></tr></table>
<ol Type="a"><li><p><b>For example, the command on the <tt>partym</tt> system
would appear similar to the following:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ikecert certlocal -ks -m 1024 -t rsa-md5 \</b></tt>
<tt><b>-D "C=US, O=PartyCompany, OU=US-Partym, CN=Partym" \</b></tt>
<tt><b>-A IP=192.168.13.213</b></tt>
Creating software private keys.
  Writing private key to file /etc/inet/secret/ike.privatekeys/0.
Enabling external key providers - done.
Acquiring private keys for signing - done.
Certificate: 
 Proceeding with the signing operation.
 Certificate generated successfully (.../publickeys/0)
Finished successfully.
Certificate added to database.
-----BEGIN X509 CERTIFICATE-----
MIICLTCCAZagAwIBAgIBATANBgkqhkiG9w0BAQQFADBNMQswCQYDVQQGEwJVUzEX
...
6sKTxpg4GP3GkQGcd0r1rhW/3yaWBkDwOdFCqEUyffzU
-----END X509 CERTIFICATE-----</pre>
</td></table><br></li>
<li><p><b>The command on the <tt>enigma</tt> system would
appear similar to the following:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ikecert certlocal -ks -m 1024 -t rsa-md5 \</b></tt>
<tt><b>-D "C=JA, O=EnigmaCo, OU=JA-Enigmax, CN=Enigmax" \</b></tt>
<tt><b>-A IP=192.168.116.16</b></tt>
Creating software private keys.
  ...
Certificate added to database.
-----BEGIN X509 CERTIFICATE-----
MIICKDCCAZGgAwIBAgIBATANBgkqhkiG9w0BAQQFADBJMQswCQYDVQQGEwJVUzEV
...
jpxfLM98xyFVyLCbkr3dZ3Tvxvi732BXePKF2A==
-----END X509 CERTIFICATE-----</pre>
</td></table><br></li>
</ol>
</li>
<li><p><b>Save the certificate and send it to the remote system.</b></p><p>You
can paste the certificate into an email.</p>
<ol Type="a"><li><p><b>For example, you would send the following <tt>partym</tt> certificate
to the <tt>enigma</tt> administrator:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>To: admin@ja.enigmaexample.com
From: admin@us.partyexample.com
Message: -----BEGIN X509 CERTIFICATE-----
MIICLTCCAZagAwIBAgIBATANBgkqhkiG9w0BAQQFADBNMQswCQYDVQQGEwJVUzEX
...
6sKTxpg4GP3GkQGcd0r1rhW/3yaWBkDwOdFCqEUyffzU
-----END X509 CERTIFICATE-----</pre>
</td></table><br></li>
<li><p><b>The <tt>enigma</tt> administrator would send you
the following <tt>enigma</tt> certificate:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>To: admin@us.partyexample.com
From: admin@ja.enigmaexample.com
Message: -----BEGIN X509 CERTIFICATE-----
MIICKDCCAZGgAwIBAgIBATANBgkqhkiG9w0BAQQFADBJMQswCQYDVQQGEwJVUzEV
...
jpxfLM98xyFVyLCbkr3dZ3Tvxvi732BXePKF2A==
-----END X509 CERTIFICATE-----</pre>
</td></table><br></li>
</ol>
</li>
<A NAME="iketask-verify-cert-1"></A><li><p><b>Verify with the other administrator that
the keys have not been tampered with.</b></p><p>For example, you can phone
the other administrator to compare the values of the public key hash. The
public key hash for the shared certificate should be identical on the two
systems. </p>
<ol Type="a"><li><p><b><A NAME="indexterm-2086"></A><A NAME="indexterm-2087"></A><A NAME="indexterm-2088"></A>List the stored certificate on your system.</b></p><p>For example,
on the <tt>partym</tt> system, the public certificate is in
slot 1, and the private certificate is in slot 0.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>partym # <tt><b>ikecert certdb -l</b></tt>
Certificate Slot Name: 0   Type: rsa-md5 <em>Private Key</em>
    Subject Name: &lt;C=US, O=PartyCompany, OU=US-Partym, CN=Partym>
    Key Size: 1024
    Public key hash: B2BD13FCE95FD27ECE6D2DCD0DE760E2

Certificate Slot Name: 1   Type: rsa-md5 <em>Public Certificate</em>
    (Private key in certlocal slot 0) <em>Points to certificate's private key</em>
    Subject Name: &lt;C=JA, O=EnigmaCo, OU=JA-Enigmax, CN=Enigmax>
    Key Size: 1024
    Public key hash: <tt><b>2239A6A127F88EE0CB40F7C24A65B818</b></tt></pre>
</td></table><br></li>
<li><p><b>Compare this value with the public key hash on the <tt>enigma</tt> system.</b></p><p>You can read the public key hash over the phone.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>enigma # <tt><b>ikecert certdb -l</b></tt>
Certificate Slot Name: 4   Type: rsa-md5 <em>Private Key</em>
    Subject Name: &lt;C=JA, O=EnigmaCo, OU=JA-Enigmax, CN=Enigmax>
    Key Size: 1024
    Public key hash: DF3F108F6AC669C88C6BD026B0FCE3A0

Certificate Slot Name: 5   Type: rsa-md5 <em>Public Certificate</em>
    (Private key in certlocal slot 4)
    Subject Name: &lt;C=US, O=PartyCompany, OU=US-Partym, CN=Partym>
    Key Size: 1024
    Public key hash: <tt><b>2239A6A127F88EE0CB40F7C24A65B818</b></tt></pre>
</td></table><br></li>
</ol>
</li>
<li><p><b><A NAME="indexterm-2089"></A>On each system, trust both certificates.</b></p><p>Edit the <tt>/etc/inet/ike/config</tt> file to recognize the certificates.</p>
<p><A NAME="indexterm-2090"></A><A NAME="indexterm-2091"></A>The administrator of the remote system provides the values for
the <tt>cert_trust</tt>, <tt>remote_addr</tt>, and <tt>remote_id</tt> parameters.</p>
<ol Type="a"><li><p><b>For example, on the <tt>partym</tt> system, the <tt>ike/config</tt> file would appear similar to the following:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># Explicitly trust the following self-signed certs
# Use the Subject Alternate Name to identify the cert

# Verified remote address and remote ID
# Verified public key hash per phone call from administrator
cert_trust "192.168.13.213" <em>Local system's certificate Subject Alt Name</em>
cert_trust "192.168.116.16" <em>Remote system's certificate Subject Alt Name</em>

## Parameters that may also show up in rules.

p1_xform 
  { auth_method preshared oakley_group 5 auth_alg sha encr_alg des }
p2_pfs 5

{
 label "US-partym to JA-enigmax"
 local_id_type dn
 local_id "C=US, O=PartyCompany, OU=US-Partym, CN=Partym"
 remote_id "C=JA, O=EnigmaCo, OU=JA-Enigmax, CN=Enigmax"

 local_addr  192.168.13.213
 remote_addr 192.168.116.16

 p1_xform
  {auth_method rsa_sig oakley_group 2 auth_alg md5 encr_alg 3des}
}</pre>
</td></table><br></li>
<li><p><b>On the <tt>enigma</tt> system, add <tt>enigma</tt> values
for local parameters in the <tt>ike/config</tt> file.</b></p><p>For
the remote parameters, use <tt>partym</tt> values. Ensure that
the value for the <tt>label</tt> keyword is unique. This value must
be different from the remote system's <tt>label</tt> value.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>...
{
 label "JA-enigmax to US-partym"
 local_id_type dn
 local_id "C=JA, O=EnigmaCo, OU=JA-Enigmax, CN=Enigmax"
 remote_id "C=US, O=PartyCompany, OU=US-Partym, CN=Partym"

 local_addr  192.168.116.16
 remote_addr 192.168.13.213
...</pre>
</td></table><br></li>
</ol>
</li>
<li><p><b><A NAME="indexterm-2092"></A><A NAME="indexterm-2093"></A>On each system, add the certificate that you received. </b></p><ol Type="a"><li><p><b>Copy the public key from the administrator's email.</b></p></li>
<li><p><b>Type the <tt>ikecert certdb -a</tt> command and press
the Return key. </b></p><p>No prompts display when you
press the Return key.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ikecert certdb -a</b></tt> <em>Press the Return key</em></pre>
</td></table><br></li>
<li><p><b>Paste the public key. Then press the Return key.
To end the entry, press Control-D.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre><tt><b>-----BEGIN X509 CERTIFICATE-----
MIIC...
...
----END X509 CERTIFICATE-----</b></tt> <em>Press the Return key</em>
<tt><b>&lt;Control>-D</b></tt></pre>
</td></table><br></li>
</ol>
</li>
</ol><A NAME="ike-task-51"></A><h5>Example 23-2 &nbsp;&nbsp;Giving a Start Time and an End Time to a Certificate</h5>
<p>The administrator on the machine <tt>partym</tt> establishes
dates within which the certificate is valid. The certificate is backdated
by 2 1/2 days, and is valid for 4 years and 6 months from the date of creation.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ikecert certlocal -ks -m 1024 -t rsa-md5 \</b></tt>
<tt><b>-D "C=US, O=PartyCompany, OU=US-Partym, CN=Partym" \</b></tt>
<tt><b>-A IP=192.168.13.213 \</b></tt>
<tt><b>-S -2d12h -F +4y6m</b></tt></pre>
</td></table><br><p>The administrator on the machine <tt>enigma</tt> establishes
dates within which the certificate is valid. The certificate is backdated
by 2 days, and is valid until midnight of December 31, 2010.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ikecert certlocal -ks -m 1024 -t rsa-md5 \</b></tt>
<tt><b>-D "C=JA, O=EnigmaCo, OU=JA-Enigmax, CN=Enigmax" \</b></tt>
<tt><b>-A IP=192.168.116.16 \</b></tt>
<tt><b>-S -2d -F "12/31/2010 12:00 AM"</b></tt></pre>
</td></table><br>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p120.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p122.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

