<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p145.html#mipimplementing-1">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p146.html#mipimplementing-63">Modifying the Mobile IP Configuration File</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p146.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p148.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="mipimplementing-6"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify the <tt>General</tt> Section</h3>
<ol><li><p><b>Assume the Primary Administrator role, or become superuser on the system
where you want to enable Mobile IP.</b></p><p>The Primary Administrator role includes
the Primary Administrator profile. To create the role and assign the role to a user,
see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<A NAME="mipimplementing-step-11"></A><li><p><b><A NAME="indexterm-2663"></A>On a command line, type the following command
for each label that you want to modify in the <tt>General</tt> section.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change &lt;label> &lt;value></pre>
</td></table><br></li>
</ol><A NAME="eojbt"></A><h5>Example 28-1 &nbsp;&nbsp;Modifying a Parameter in the <tt>General</tt> Section</h5>
<p>The following example shows how you might change the version number in the configuration
file's <tt>General</tt> section.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change version 2</pre>
</td></table><br><A NAME="mipimplementing-12"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify the <tt>Advertisements</tt> Section</h3>
<ol><li><p><b>Assume the Primary Administrator role, or become superuser, on the system
where you want to enable Mobile IP.</b></p><p>The Primary Administrator role includes
the Primary Administrator profile. To create the role and assign the role to a user,
see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<A NAME="mipimplementing-step-16"></A><li><p><b>Type the following command for each label
that you want to modify in the <tt>Advertisements</tt> section:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change adv <i>device-name</i> &lt;label> &lt;value></pre>
</td></table><br><p><A NAME="indexterm-2664"></A><A NAME="indexterm-2665"></A>For
example, if you are changing the agent's advertised lifetime to 300 seconds for device <tt>hme0</tt>, use the following command.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change adv hme0 AdvLifetime 300</pre>
</td></table><br></li>
</ol><A NAME="eojbs"></A><h5>Example 28-2 &nbsp;&nbsp;Modifying the <tt>Advertisements</tt> Section</h5>
<p>The following example shows how you might change other parameters in the configuration
file's <tt>Advertisements</tt> section.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change adv hme0 HomeAgent yes
# mipagentconfig change adv hme0 ForeignAgent no
# mipagentconfig change adv hme0 PrefixFlags no
# mipagentconfig change adv hme0 RegLifetime 300
# mipagentconfig change adv hme0 AdvFrequency 4
# mipagentconfig change adv hme0 ReverseTunnel yes</pre>
</td></table><br><A NAME="mipimplementing-17"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify the <tt>GlobalSecurityParameters</tt> Section</h3>
<ol><li><p><b>Assume the Primary Administrator role, or become superuser, on the system
where you want to enable Mobile IP.</b></p><p>The Primary Administrator role includes
the Primary Administrator profile. To create the role and assign the role to a user,
see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<A NAME="mipimplementing-step-21"></A><li><p><b>Type the following command for each label
that you want to modify in the <tt>GlobalSecurityParameters</tt> section:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change &lt;label> &lt;value></pre>
</td></table><br><p><A NAME="indexterm-2666"></A><A NAME="indexterm-2667"></A><A NAME="indexterm-2668"></A><A NAME="indexterm-2669"></A>For example, if you are enabling home agent and foreign agent authentication,
use the following command:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change HA-FAauth yes</pre>
</td></table><br></li>
</ol><A NAME="eojbw"></A><h5>Example 28-3 &nbsp;&nbsp;Modifying the Global Security Parameters Section</h5>
<p>The following example shows how you might change other parameters in the configuration
file's <tt>GlobalSecurityParameters</tt> section.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change MaxClockSkew 200
# mipagentconfig change MN-FAauth yes
# mipagentconfig change Challenge yes
# mipagentconfig change KeyDistribution files</pre>
</td></table><br><A NAME="mipimplementing-27"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify the <tt>Pool</tt> Section</h3>
<ol><li><p><b>Assume the Primary Administrator role, or become superuser, on the system
where you want to enable Mobile IP.</b></p><p>The Primary Administrator role includes
the Primary Administrator profile. To create the role and assign the role to a user,
see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<A NAME="mipimplementing-step-30"></A><li><p><b><A NAME="indexterm-2670"></A>Type the following command for each label
that you want to modify in the <tt>Pool</tt> section:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change Pool <i>pool-identifier</i> &lt;label> &lt;value></pre>
</td></table><br></li>
</ol><A NAME="eojbx"></A><h5>Example 28-4 &nbsp;&nbsp;Modifying the <tt>Pool</tt> Section</h5>
<p>The following example shows the commands to use for changing the base address
to <tt>192.168.1.1</tt> and the size of Pool <tt>10</tt> to <tt>100</tt>.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change Pool 10 BaseAddress 192.168.1.1
# mipagentconfig change Pool 10 Size 100</pre>
</td></table><br><A NAME="mipimplementing-22"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify the <tt>SPI</tt> Section</h3>
<ol><li><p><b>Assume the Primary Administrator role, or become superuser, on the system
where you want to enable Mobile IP.</b></p><p>The Primary Administrator role includes
the Primary Administrator profile. To create the role and assign the role to a user,
see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<A NAME="mipimplementing-step-26"></A><li><p><b>Type the following command for each label
that you want to modify in the <tt>SPI</tt> section:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change SPI <i>SPI-identifier</i> &lt;label> &lt;value></pre>
</td></table><br><p><A NAME="indexterm-2671"></A><A NAME="indexterm-2672"></A><A NAME="indexterm-2673"></A>For example, if you are changing the key
for <tt>SPI 257</tt> to <tt>5af2aee39ff0b332</tt>, use the following
command.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change SPI 257 Key 5af2aee39ff0b332</pre>
</td></table><br></li>
</ol><A NAME="eojbz"></A><h5>Example 28-5 &nbsp;&nbsp;Modifying the <tt>SPI</tt> Section</h5>
<p>The following example shows how to change the <tt>ReplayMethod</tt> label
in the configuration file's <tt>SPI</tt> section.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change SPI 257 ReplayMethod timestamps</pre>
</td></table><br><A NAME="mipimplementing-32"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify the <tt>Address</tt> Section</h3>
<ol><li><p><b>Assume the Primary Administrator role, or become superuser, on the system
where you want to enable Mobile IP.</b></p><p>The Primary Administrator role includes
the Primary Administrator profile. To create the role and assign the role to a user,
see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<A NAME="mipimplementing-step-36"></A><li><p><b>Type the following command for each label
that you want to modify in the <tt>Address</tt> section:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change addr [<i>NAI</i> | <i>IPaddr</i> | node-default] &lt;label> &lt;value></pre>
</td></table><br><p>See <A HREF="p153.html#mipmanaging-15"><tt>Address</tt> Section</A> for a description
of the three configuration methods (NAI, IP address, and node-default).</p>
<p><A NAME="indexterm-2674"></A>For
example, if you are changing the SPI of IP address <tt>10.1.1.1</tt> to <tt>258</tt>, use the following command:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change addr 10.1.1.1 SPI 258</pre>
</td></table><br></li>
</ol><A NAME="eojby"></A><h5>Example 28-6 &nbsp;&nbsp;Modifying the <tt>Address</tt> Section</h5>
<p><A NAME="indexterm-2675"></A><A NAME="indexterm-2676"></A>The following example
shows how you can change other parameters that are provided in the sample configuration
file's <tt>Address</tt> section.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig change addr 10.1.1.1 Type agent
# mipagentconfig change addr 10.1.1.1 SPI 259
# mipagentconfig change addr mobilenode@abc.com Type node
# mipagentconfig change addr mobilenode@abc.com SPI 258
# mipagentconfig change addr mobilenode@abc.com Pool 2
# mipagentconfig change addr node-default SPI 259
# mipagentconfig change addr node-default Pool 3
# mipagentconfig change addr 10.68.30.36 Type agent
# mipagentconfig change addr 10.68.30.36 SPI 260
# mipagentconfig change IPsecRequest apply {auth_algs md5 sa shared}</pre>
</td></table><br><A NAME="mipimplementing-44"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Add or Delete Configuration File Parameters</h3>
<ol><li><p><b>Assume the Primary Administrator role, or become superuser, on the system
where you want to enable Mobile IP.</b></p><p>The Primary Administrator role includes
the Primary Administrator profile. To create the role and assign the role to a user,
see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<A NAME="mipimplementing-step-50"></A><li><p><b>Type the appropriate command for each label
that you want to add or delete for the designated section:</b></p><ul><li><p>For the <tt>General</tt> section use the following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig [add | delete] &lt;label> &lt;value></pre>
</td></table><br></li>
<li><p>For the <tt>Advertisements</tt> section use the following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig [add | delete] adv <i>device-name</i> &lt;label> &lt;value></pre>
</td></table><br><p><hr size="1" noshade><p><b>Note - </b>You can add an interface by typing the following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig add adv <i>device-name</i></pre>
</td></table><br><p>In this instance, default values are assigned to the interface (for both the
foreign agent and the home agent).</p>
<hr size="1" noshade></p></li>
<li><p>For the <tt>GlobalSecurityParameters</tt>, section use the
following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig [add | delete] &lt;label> &lt;value></pre>
</td></table><br></li>
<li><p>For the <tt>Pool</tt> section, use the following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig [add | delete] Pool <i>pool-identifier</i> &lt;label> &lt;value></pre>
</td></table><br></li>
<li><p>For the <tt>SPI</tt> section, use the following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig [add | delete] SPI <i>SPI-identifier</i> &lt;label> &lt;value></pre>
</td></table><br></li>
<li><p>For the <tt>Address</tt> section, use the following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig [add | delete] addr [<i>NAI</i> | <i>IP-address</i> | node-default] \
&lt;label> &lt;value></pre>
</td></table><br></li>
</ul>
<p><hr size="1" noshade><p><b>Note - </b>Do not create identical <tt>Advertisements</tt>, <tt>Pool</tt>, <tt>SPI</tt>, and <tt>Address</tt> sections.</p>
<hr size="1" noshade></p></li>
</ol><A NAME="eojca"></A><h5>Example 28-7 &nbsp;&nbsp;Modifying File Parameters</h5>
<p>For example, to create a new address pool, Pool 11, that has a base address
of <tt>192.167.1.1</tt> and a size of <tt>100</tt>, use the following
commands.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig add Pool 11 BaseAddress 192.167.1.1 
# mipagentconfig add Pool 11 size 100</pre>
</td></table><br><A NAME="ekqws"></A><h5>Example 28-8 &nbsp;&nbsp;Deleting SPI</h5>
<p>The following example shows how to delete the SPI security parameter <tt>SPI 257</tt>.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># mipagentconfig delete SPI 257</pre>
</td></table><br>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p146.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p148.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

