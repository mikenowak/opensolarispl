<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p50.html#ipref-8">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p52.html#ipconfig-42">Network Databases and the <tt>nsswitch.conf</tt> File</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p52.html#ipconfig-47"><tt>nsswitch.conf</tt> File</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p52.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p54.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<p><A NAME="indexterm-1091"></A><A NAME="indexterm-1092"></A><A NAME="indexterm-1093"></A><A NAME="indexterm-1094"></A>The <tt>nsswitch.conf</tt>(4) man page describes the file in detail. The basic syntax
is shown here: </p>
<p><i>database   name-service-to-search</i></p>
<p><A NAME="indexterm-1095"></A><A NAME="indexterm-1096"></A>The <i>database</i> field can list one of
many types of databases that are searched by the operating system. For example,
the field could indicate a database that affects users, such as <tt>passwd</tt> or <tt>aliases</tt>, or a network database. The parameter <i>name-service-to-search</i> can have the values <tt>files</tt>, <tt>nis</tt>,
or <tt>nis+</tt> for the network databases. The <tt>hosts</tt> database
can also have <tt>dns</tt> as a name service to search. You can
also list more than one name service, such as <tt>nis+</tt> and <tt>files</tt>. </p>
<p>In <A HREF="p52.html#ipconfig-ex-48">Example 10-4</A>, the
only search option that is indicated is <tt>files</tt>. Therefore,
the local system obtains security and automounting information, in addition
to network database information, from files that are located in its <tt>/etc</tt> and <tt>/etc/inet</tt> directories.</p>
<A NAME="ipconfig-49"></A><h4>Changing <tt>nsswitch.conf</tt></h4>
<p><A NAME="indexterm-1097"></A><A NAME="indexterm-1098"></A><A NAME="indexterm-1099"></A><A NAME="indexterm-1100"></A><A NAME="indexterm-1101"></A>The <tt>/etc</tt> directory contains the <tt>nsswitch.conf</tt> file that is created by the Solaris installation program. This
directory also contains template files for the following name services: </p>
<ul><li><p><tt>nsswitch.files</tt></p>
</li>
<li><p><tt>nsswitch.nis</tt></p>
</li>
<li><p><tt>nsswitch.nis+</tt></p>
</li>
</ul>
<p>If you want to change from one name service to another name service,
you can copy the appropriate template to <tt>nsswitch.conf</tt>.
You can also selectively edit the <tt>nsswitch.conf</tt> file,
and change the default name service to search for individual databases.</p>
<p>For example, on a network that runs NIS, you might have to change the <tt>nsswitch.conf</tt> file on network clients. The search path for the <tt>bootparams</tt> and <tt>ethers</tt> databases must list <tt>files</tt> as the first option, and then <tt>nis</tt>. The
following example shows the correct search paths.</p>
<A NAME="ipconfig-ex-50"></A><p><b>Example 10-5 </b><tt>nsswitch.conf</tt> for
a Client on a Network Running NIS</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># /etc/nsswitch.conf:#
.
.
passwd:        files nis
group:         file nis

# consult /etc "files" only if nis is down.
hosts:         nis    [NOTFOUND=return] files
networks:      nis    [NOTFOUND=return] files
protocols:     nis    [NOTFOUND=return] files
rpc:           nis    [NOTFOUND=return] files
ethers:        files  [NOTFOUND=return] nis
netmasks:      nis    [NOTFOUND=return] files	
bootparams:    files  [NOTFOUND=return] nis
publickey:     nis    
netgroup:      nis

automount:     files nis
aliases:       files nis

# for efficient getservbyname() avoid nis
services:      files nis
sendmailvars:  files</pre>
</td></table><br><p><A NAME="indexterm-1102"></A><A NAME="indexterm-1103"></A><A NAME="indexterm-1104"></A><A NAME="indexterm-1105"></A><A NAME="indexterm-1106"></A><A NAME="indexterm-1107"></A><A NAME="indexterm-1108"></A><A NAME="indexterm-1109"></A>For complete details on the name service switch, refer to <i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i>.</p>
<A NAME="ipconfig-51"></A><h3><tt>bootparams</tt> Database</h3>
<p><A NAME="indexterm-1110"></A><A NAME="indexterm-1111"></A><A NAME="indexterm-1112"></A><A NAME="indexterm-1113"></A><A NAME="indexterm-1114"></A>The <tt>bootparams</tt> database contains information
that is used by systems that are configured to boot in network client mode.
You need to edit this database if your network has network clients. See <A HREF="p19.html#ipconfig-89">Configuring Network Clients</A> for the procedures.
The database is built from information that is entered into the <tt>/etc/bootparams</tt> file. </p>
<p>The <tt>bootparams</tt>(4) man
page contains the complete syntax for this database. Basic syntax is shown
here:</p>
<p><i>system-name  file-key-server-name:pathname</i></p>
<p>For each network client system, the entry might contain the following
information: the name of the client, a list of keys, the names of servers,
and path names. The first item of each entry is the name of the client system.
All items but the first item are optional. An example follows.</p>
<A NAME="ipconfig-ex-52"></A><p><b>Example 10-6 </b><tt>bootparams</tt> Database</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>myclient   root=myserver : /nfsroot/myclient  \
swap=myserver : /nfsswap//myclient \
dump=myserver : /nfsdump/myclient</pre>
</td></table><br><p>In this example, the term <tt>dump=</tt> tells client hosts
not to look for a dump file.</p>
<A NAME="ipconfig-53"></A><h4>Wildcard Entry for <tt>bootparams</tt></h4>
<p><A NAME="indexterm-1115"></A><A NAME="indexterm-1116"></A><A NAME="indexterm-1117"></A><A NAME="indexterm-1118"></A>In most instances, use the wildcard entry when editing the <tt>bootparams</tt> database to support clients. This entry follows: </p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>*  root=server:/path dump=:</pre>
</td></table><br><p>The asterisk (*) wildcard indicates that this entry applies to all clients
that are not specifically named within the <tt>bootparams</tt> database.</p>
<A NAME="ipconfig-54"></A><h3><tt>ethers</tt> Database</h3>
<p><A NAME="indexterm-1119"></A><A NAME="indexterm-1120"></A><A NAME="indexterm-1121"></A><A NAME="indexterm-1122"></A><A NAME="indexterm-1123"></A><A NAME="indexterm-1124"></A><A NAME="indexterm-1125"></A>The <tt>ethers</tt> database is built from information
that is entered into the <tt>/etc/ethers</tt> file. This database
associates host names to their <b>Media Access Control</b> (MAC)
addresses. You need to create an <tt>ethers</tt> database only
if you are running the RARP daemon. That is, you need to create this database
if you are configuring network clients. </p>
<p><A NAME="indexterm-1126"></A>RARP uses the file to map MAC addresses to IP addresses. If you
are running the RARP daemon <tt>in.rarpd</tt>, you need to set up
the <tt>ethers</tt> file and maintain this file on all hosts that
are running the daemon to reflect changes to the network. </p>
<p>The <tt>ethers</tt>(4) man
page contains the complete syntax for this database. The basic syntax is shown
here:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre><i>MAC-address   hostname   #comment</i></pre>
</td></table><br><table border="0" cellspacing="5"><tr><td valign="top"><p><i>MAC-address</i></p></td><td valign="top"><p>MAC address of the host</p>
</td></tr><tr><td valign="top"><p><i>hostname</i></p></td><td valign="top"><p>Official name of the host</p>
</td></tr><tr><td valign="top"><p><i>#comment</i></p></td><td valign="top"><p>Any note that you want to append to an entry in the file</p>
</td></tr></table>
<p>The equipment manufacturer provides the MAC address. If a system does
not display the MAC address during the system booting process, see your hardware
manuals for assistance. </p>
<p>When adding entries to the <tt>ethers</tt> database, ensure
that host names correspond to the primary names in the <tt>hosts</tt> , not to the nicknames, as follows.</p>
<A NAME="ipconfig-ex-55"></A><p><b>Example 10-7 </b>Entries in the <tt>ethers</tt> Database</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>8:0:20:1:40:16  fayoum
8:0:20:1:40:15  nubian 
8:0:20:1:40:7   sahara    # This is a comment
8:0:20:1:40:14  tenere </pre>
</td></table><br><A NAME="ipconfig-56"></A><h3>Other Network Databases</h3>
<p>The remaining network databases seldom need to be edited.</p>
<A NAME="ipconfig-57"></A><h4><tt>networks</tt> database</h4>
<p><A NAME="indexterm-1127"></A><A NAME="indexterm-1128"></A><A NAME="indexterm-1129"></A>The <tt>networks</tt> database associates network
names with network numbers, enabling some applications to use and display
names rather than numbers. The <tt>networks</tt> database is based
on information in the <tt>/etc/inet/networks</tt> file. This file
contains the names of all networks to which your network connects through
routers. </p>
<p>The Solaris installation program configures the initial <tt>networks</tt> database.
However, if you add a new network to your existing network topology, you must
update this database.</p>
<p>The <tt>networks</tt>(4) man
page contains the complete syntax for <tt>/etc/inet/networks</tt>.
The basic format is shown here:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre><i>network-name  network-number  nickname(s)  #comment</i></pre>
</td></table><br><table border="0" cellspacing="5"><tr><td valign="top"><p><i>network-name</i></p></td><td valign="top"><p>Official name for the network</p>
</td></tr><tr><td valign="top"><p><i>network-number</i></p></td><td valign="top"><p>Number assigned by the ISP or Internet Registry</p>
</td></tr><tr><td valign="top"><p><i>nickname</i></p></td><td valign="top"><p>Any other name by which the network is known</p>
</td></tr><tr><td valign="top"><p><i>#comment</i></p></td><td valign="top"><p>Any note that you want to append to an entry in the file</p>
</td></tr></table>
<p>You must maintain the <tt>networks</tt> file. The <tt>netstat</tt> program uses the information in this database to produce status
tables.</p>
<p>A sample <tt>/etc/networks</tt> file follows.</p>
<A NAME="ipconfig-ex-58"></A><p><b>Example 10-8 </b><tt>/etc/networks</tt> File</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>#ident	"@(#)networks	1.4	92/07/14 SMI"	/* SVr4.0 1.1	*/
#
# The networks file associates Internet Protocol (IP) network
# numbers with network names. The format of this file is:
#
# 	network-name		 	 network-number		 	 nicnames . . .

# The loopback network is used only for intra-machine communication
loopback		 	 127

#
# Internet networks
#
arpanet     10	   arpa  # Historical
#
# local networks

eng   192.168.9 #engineering
acc   192.168.5 #accounting
prog  192.168.2 #programming</pre>
</td></table><br>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p52.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p54.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

