<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p83.html#dhcp-admin-125">Working With DHCP Macros (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p84.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p86.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-admin-42dh"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Create a DHCP Macro (<tt>dhtadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-560"></A><li><p><b>Create a macro by typing a command of
the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhtadm -A -m </tt><i>macroname<tt></i> -d ':</tt><i>option<tt></i>=</tt><i>value<tt></i>:</tt><i>option<tt></i>=</tt><i>value<tt></i>:</tt><i>option<tt></i>=</tt><i>value:<tt></i>' -g</b></tt></pre>
</td></table><br><p>There is no limit to the number of <i>option=value</i> pairs
that can be included in the argument to <tt>-d</tt>. The argument must
begin and end with colons, with colons between each <i>option=value</i> pair.
The complete string must be enclosed in quotation marks.</p>
<p>For example,
to create the macro <tt>bluenote</tt>, type the following command:</p>
<pre style="font-family:arial,helvetica,sans-serif"># <tt><b>dhtadm -A -m bluenote -d ':Router=10.63.6.121\
:LeaseNeg=_NULL_VALUE:DNSserv=10.63.28.12:' -g</b></tt></pre>
<p>Note
that if an option does not require a value, you must use <tt>_NULL_VALUE</tt> as
the value for the option.</p>
</li>
</ol><A NAME="dhcp-admin-162"></A><h3>Deleting DHCP Macros</h3>
<p><A NAME="indexterm-1476"></A><A NAME="indexterm-1477"></A>You might want to delete a macro from the DHCP service. For example,
if you delete a network from the DHCP service, you can also delete the associated
network macro.</p>
<p>You can use the <tt>dhtadm -D -m</tt> command or DHCP Manager
to delete macros.</p>
<A NAME="dhcp-admin-43art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Delete a DHCP Macro (DHCP
Manager)</h3>
<ol><A NAME="dhcp-admin-step-271"></A><li><p><b>In DHCP Manager, select the Macros tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-272"></A><li><p><b>Select the macro to delete.</b></p><p>The
Delete Macro dialog box prompts you to confirm that you want to delete the
specified macro.</p>
</li>
<A NAME="dhcp-admin-step-273"></A><li><p><b>Select Notify DHCP Server of Change.</b></p><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table
to put the change into effect immediately after you click OK.</p>
</li>
<A NAME="dhcp-admin-step-274"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-43dh"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Delete a DHCP Macro (<tt>dhtadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-563"></A><li><p><b>Delete a macro by typing a command of
the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhtadm -D -m </tt><i>macroname<tt></i> -g</b></tt></pre>
</td></table><br><p>For example, to delete the macro <tt>bluenote</tt>, you would
type the following command:</p>
<p># <tt><b>dhtadm -D -m bluenote
-g</b></tt></p>
</li>
</ol><A NAME="dhcp-admin-206"></A><h2>Working With DHCP Options (Task Map)</h2>
<p><A NAME="indexterm-1478"></A>Options are keywords for network configuration parameters that
the DHCP server can pass to clients. In the Solaris DHCP service, you cannot
create, delete, or modify the standard DHCP options. The standard options
are defined by the DHCP protocol, so the options cannot change. You can only
perform tasks on options that you create for your site. For this reason, when
you first set up your DHCP service, the Options tab in DHCP Manager is empty
until you create options for your site.</p>
<p>If you create options on the DHCP server, you must also add information
about the options on the DHCP client. For the Solaris DHCP client, you must
edit the <tt>/etc/dhcp/inittab</tt> file to add entries for the
new options. See the <tt>dhcp_inittab</tt>(4) man page for more information about this file.</p>
<p>If you have DHCP clients that are not Solaris clients, refer to the
documentation for those clients for information about adding options or symbols.
See <A HREF="p67.html#dhcp-overview-19a">About DHCP Options</A> for more
information about options in Solaris DHCP.</p>
<p>You can use either DHCP Manager or the <tt>dhtadm</tt> command
to create, modify, or delete options.</p>
<p><hr size="1" noshade><p><b>Tip - </b>Options are called <b>symbols</b> in the DHCP literature.
The <tt>dhtadm</tt> command and its related man page also refer
to options as symbols.</p>
<hr size="1" noshade></p><p><A NAME="indexterm-1479"></A>The following task map lists tasks that you must perform to create,
modify, and delete DHCP options. The task map contains links to procedures
for the tasks. </p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Create DHCP options.</p></td><td><p>Add new options for information not covered by a standard DHCP option.</p></td><td><p><A HREF="p86.html#dhcp-admin-44art">How to Create DHCP Options (DHCP Manager)</A>&nbsp;</p><p><A HREF="p86.html#dhcp-admin-45art">How to Create DHCP Options (<tt>dhtadm</tt>)</A>&nbsp;</p><p><A HREF="p87.html#dhcp-admin-49">Modifying the Solaris DHCP Client's Option Information</A>&nbsp;</p></td></tr>
<tr><td><p>Modify DHCP options.</p></td><td><p>Change properties of DHCP options you have created.</p></td><td><p><A HREF="p86.html#dhcp-admin-46art">How to Modify DHCP Option Properties (DHCP Manager)</A>&nbsp;</p><p><A HREF="p86.html#dhcp-admin-47art">How to Modify DHCP Option Properties (<tt>dhtadm</tt>)</A>&nbsp;</p></td></tr>
<tr><td><p>Delete DHCP options.</p></td><td><p>Remove DHCP options that you have created.</p></td><td><p><A HREF="p87.html#dhcp-admin-48art">How to Delete DHCP Options (DHCP Manager)</A>&nbsp;</p><p><A HREF="p87.html#dhcp-admin-49art">How to Delete DHCP Options (<tt>dhtadm</tt>)</A>&nbsp;</p></td></tr>
</table><p><A NAME="indexterm-1480"></A>Before you create DHCP options, you should be familiar with the
option properties listed in the following table.</p>
<A NAME="dhcp-admin-tbl-243"></A><p><b>Table 15-5 </b>DHCP Option Properties</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Option Property</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p>Category</p></td><td><p>The <b>category</b> of an option must be one of the following:</p><ul><li><p>Vendor - Options specific to a client's vendor platform,
either hardware or software.</p></li>
<li><p>Site - Options specific to your site.</p></li>
<li><p>Extend - Newer options that have been added to the DHCP
protocol, but not yet implemented as standard options in Solaris DHCP. </p></li>
</ul>
</td></tr>
<tr><td><p>Code</p></td><td><p>The <b>code</b> is a unique number that you assign to
an option. The same code cannot be used for any other option within its option
category. The code must be appropriate for the option category:</p><ul><li><p>Vendor - Code values of 1-254 for each vendor
class</p></li>
<li><p>Site - Code values of 128-254</p></li>
<li><p>Extend - Code values of 77-127</p></li>
</ul>
</td></tr>
<tr><td><p>Data type</p></td><td><p>The <b>data type</b> specifies what kind of data can be
assigned as a value for the option. The valid data types are described in
the following list.</p><ul><li><p>ASCII - Text string value.</p></li>
<li><p>BOOLEAN - No value is associated with the Boolean data
type. The presence of the option indicates that a condition is true, while
the absence of the option indicates that a condition is false. For example,
the <tt>Hostname</tt> option is Boolean. The presence of <tt>Hostname</tt> in a macro causes the DHCP server to look up the host name associated
with the assigned address.</p></li>
<li><p>IP - One or more IP addresses, in dotted decimal format
(<i>xxx.xxx.xxx.xxx</i>).</p></li>
<li><p>OCTET - Uninterpreted ASCII representation of binary
data. For example, a client ID uses the octet data type. Valid characters
are 0-9, A-F, and a-f. Two ASCII characters are needed to
represent an 8-bit quantity.</p></li>
<li><p>UNUMBER8, UNUMBER16, UNUMBER32, UNUMBER64, SNUMBER8, SNUMBER16,
SNUMBER32, or SNUMBER64 - Numeric value. An initial U or S indicates
whether the number is unsigned or signed. The digits at the end indicate how
many bits are in the number.</p></li>
</ul>
</td></tr>
<tr><td><p>Granularity</p></td><td><p>The <b>granularity</b> specifies how many "instances"
of the data type are needed to represent a complete option value. For example,
a data type of IP and a granularity of 2 would mean that the option value
must contain two IP addresses.</p></td></tr>
<tr><td><p>Maximum</p></td><td><p>The maximum number of values that can be specified for the option. For
example, suppose the maximum is 2, the granularity is 2, and the data type
is IP. In this case, the option value could contain a maximum of two pairs
of IP addresses.</p></td></tr>
<tr><td><p>Vendor client classes</p></td><td><p>This option is available only when the option category is Vendor. Vendor
client classes identify the client classes with which the Vendor option is
associated. The class is an ASCII string that represents the client machine
type or operating system. For example, the class string for some models of
Sun workstations is <tt>SUNW.Sun-Blade-100</tt>. This type of option
enables you to define configuration parameters that are passed to all clients
of the same class, and <b>only</b> clients of that class.</p><p>You can specify multiple client classes. Only those DHCP clients with
a client class value that matches a class that you specify receive the options
scoped by that class.</p><p>The client class is determined by the vendor of the DHCP client. For
DHCP clients that are not Solaris clients, refer to the vendor documentation
for the DHCP client for the client class.</p><p>For Solaris clients, the Vendor client class can be obtained by typing
the <tt>uname -i</tt> command on the client. To specify the Vendor
client class, substitute periods for any commas in the string returned by
the <tt>uname</tt> command. For example, if the string <tt>SUNW,Sun-Blade-100</tt> is returned by the <tt>uname
-i</tt> command, you should specify the Vendor client class as <tt>SUNW.Sun-Blade-100</tt>.</p></td></tr>
</table><A NAME="dhcp-admin-247"></A><h3>Creating DHCP Options</h3>
<p><A NAME="indexterm-1481"></A><A NAME="indexterm-1482"></A>If you need to pass client information for which there is not
already an existing option in the DHCP protocol, you can create an option.
See the <tt>dhcp_inittab</tt>(4) man page for a list of all the options that are defined
in Solaris DHCP before you create your own option.</p>
<p><A NAME="indexterm-1483"></A>You can use the <tt>dhtadm -A -s</tt> command or DHCP
Manager's Create Option dialog box to create new options.</p>
<p>The following figure shows DHCP Manager's Create Option dialog box.</p>
<A NAME="dhcp-admin-fig-244"></A><p><b>Figure 15-17 </b>Create Option Dialog Box in DHCP Manager</p>
<IMG src="figures/dhcp-option-create.gif" class="figure" alt="Dialog box shows fields that define properties of a new
option. Shows Vendor Client Classes area and Notify DHCP server check box." title="Dialog box shows fields that define properties of a new
option. Shows Vendor Client Classes area and Notify DHCP server check box.">
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p84.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p86.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

