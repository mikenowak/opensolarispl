<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p77.html#dhcp-admin-15">Adding, Modifying, and Removing DHCP Networks (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p78.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p80.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-admin-127"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify the Configuration of a DHCP
Network (<tt>dhtadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-66"></A><li><p><b>Determine which macro includes information
for all clients of the network.</b></p><p>The network macro's name matches
the network IP address.</p>
<p>If you don't know which macro includes
this information, you can display the <tt>dhcptab</tt> table to
list all macros by using the command <tt>dhtadm -P</tt>.</p>
</li>
<A NAME="dhcp-admin-step-67"></A><li><p><b>Type a command of the following format
to change the value of the option you want to change:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhtadm -M -m </tt><i>macro-name<tt></i> -e '</tt><i>symbol<tt></i>=</tt><i>value<tt></i>' -g</b></tt></pre>
</td></table><br><p>See the <tt>dhtadm</tt>(1M) man
page for more information about <tt>dhtadm</tt> command-line options.</p>
</li>
</ol><A NAME="ewavl"></A><h5>Example 15-2 &nbsp;&nbsp;Using the <tt>dhtadm</tt> Command to Modify a DHCP Macro</h5>
<p>For example, to change the <tt>10.25.62.0</tt> macro's lease
time to 57600 seconds and the NIS domain to <tt>sem.example.com</tt>,
you would type the following commands:</p>
<p># <tt><b>dhtadm -M -m 10.25.62.0 -e 'LeaseTim=57600' -g</b></tt></p>
<p># <tt><b>dhtadm -M -m 10.25.62.0 -e 'NISdmain=sem.example.com' -g</b></tt></p>
<p>The <tt>-g</tt> option causes the DHCP daemon to reread the <tt>dhcptab</tt> table and put the changes into effect.</p>
<A NAME="dhcp-admin-69"></A><h3>Removing DHCP Networks</h3>
<p><A NAME="indexterm-1443"></A>DHCP Manager enables you to remove multiple networks at once.
You have the option to automatically remove the hosts table entries associated
with the DHCP-managed IP addresses on those networks as well. The following
figure shows DHCP Manager's Delete Networks dialog box.</p>
<A NAME="dhcp-admin-fig-70"></A><p><b>Figure 15-7 </b>Delete Networks Dialog Box in DHCP Manager</p>
<IMG src="figures/dhcp-delete-net.gif" class="figure" alt="Dialog box shows two lists, Keep Networks and Delete
Networks, with selection arrows between them. Check box for Delete host table
entries also shown." title="Dialog box shows two lists, Keep Networks and Delete
Networks, with selection arrows between them. Check box for Delete host table
entries also shown."><p>The <tt>pntadm</tt> command requires you to delete each IP
address entry from a network before you delete that network. You can delete
only one network at a time.</p>
<A NAME="dhcp-admin-28"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Remove a DHCP Network (DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-74"></A><li><p><b>In DHCP Manager, select the Addresses
tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-75"></A><li><p><b>Choose Delete Networks from the Edit menu.</b></p><p>The Delete Networks dialog box opens.</p>
</li>
<A NAME="dhcp-admin-step-76"></A><li><p><b>In the Keep Networks list, select the
networks that you want to delete.</b></p><p>Press the Control key while
you click with the mouse to select multiple networks. Press the Shift key
while you click to select a range of networks.</p>
</li>
<A NAME="dhcp-admin-step-77"></A><li><p><b>Click the right arrow button to move the
selected networks to the Delete Networks list.</b></p></li>
<A NAME="dhcp-admin-step-78"></A><li><p><b>If you want to remove the host table entries
for this network's DHCP addresses, select Delete Host Table Entries.</b></p><p>Note that deleting host table
entries does not delete the host registrations at the DNS server for these
addresses. Entries are deleted only in the local name service.</p>
</li>
<A NAME="dhcp-admin-step-79"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-27"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Remove a DHCP Network (<tt>pntadm</tt>)</h3>
<p>Note that this procedure deletes the network's IP addresses from the
DHCP network table before removing the network. The addresses are deleted
to ensure that the host names are removed from the <tt>hosts</tt> file
or database.</p>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-83"></A><li><p><b>Type a command following this format to
remove an IP address and its host name from the name service:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>pntadm -D -y </tt><i>IP-address<tt></i></b></tt></pre>
</td></table><br><p>For example, to remove IP address <tt>10.25.52.1</tt>, you
would type the following command:</p>
<p># <tt><b>pntadm -D -y 10.25.52.1</b></tt></p>
<p>The <tt>-y</tt> option specifies to delete
the host name.</p>
</li>
<A NAME="dhcp-admin-step-84"></A><li><p><b>Repeat the <tt>pntadm -D -y</tt> command
for each address in the network.</b></p><p>You might want to create a script
to run the <tt>pntadm</tt> command if you are deleting many addresses.</p>
</li>
<A NAME="dhcp-admin-step-85"></A><li><p><b>After all addresses are deleted, type
the following command to delete the network from the DHCP service.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>pntadm -R </tt><i>network-IP-address<tt></i></b></tt></pre>
</td></table><br><p>For example, to remove network <tt>10.25.52.0</tt>, you would
type the following command:</p>
<p># <tt><b>pntadm -R 10.25.52.0</b></tt></p>
<p>See the <tt>pntadm</tt>(1M) man
page for more information about using the <tt>pntadm</tt> utility.</p>
</li>
</ol><A NAME="dhcp-admin-94"></A><h2>Supporting BOOTP Clients With the DHCP Service
(Task Map)</h2>
<p><A NAME="indexterm-1444"></A><A NAME="indexterm-1445"></A>To support BOOTP clients on your DHCP server, you must set up
your DHCP server to be BOOTP compatible. If you want to specify which BOOTP
clients can use your DHCP, you can register BOOTP clients in the DHCP server's
network table. Alternatively, you can reserve a number of IP addresses for
automatic allocation to BOOTP clients.</p>
<p><hr size="1" noshade><p><b>Note - </b>BOOTP addresses are permanently assigned, whether or not you explicitly
assign a permanent lease to the address.</p>
<hr size="1" noshade></p><p><A NAME="indexterm-1446"></A>The following task map lists tasks that you might need to perform
to support BOOTP clients. The task map contains links to the procedures used
to carry out the tasks.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Set up automatic BOOTP support.</p></td><td><p>Provides IP address for any BOOTP client on a DHCP-managed network,
or on a network connected by a relay agent to a DHCP-managed network. </p><p>You must reserve a pool of addresses for exclusive use by BOOTP clients.
This option might be more useful if the server must support a large number
of BOOTP clients.</p></td><td><p><A HREF="p79.html#dhcp-admin-113">How to Set Up Support of Any BOOTP Client (DHCP Manager)</A>&nbsp;</p></td></tr>
<tr><td><p>Set up manual BOOTP support.</p></td><td><p>Provides IP address for only those BOOTP clients that have been manually
registered with the DHCP service. </p><p>This option requires you to bind a client's ID to a particular IP address
that has been marked for BOOTP clients. This option is useful for a small
number of BOOTP clients, or when you want to restrict the BOOTP clients that
can use the DHCP server.</p></td><td><p><A HREF="p80.html#dhcp-admin-112">How to Set Up Support of Registered BOOTP Clients (DHCP Manager)</A>&nbsp;</p></td></tr>
</table><A NAME="dhcp-admin-113"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Set Up Support of Any BOOTP Client
(DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-90"></A><li><p><b>In DHCP Manager, select Modify from the
Service menu.</b></p><p>The Modify Service Options dialog box opens.</p>
<p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-91"></A><li><p><b>In the BOOTP Compatibility section of
the dialog box, select Automatic.</b></p></li>
<A NAME="dhcp-admin-step-92"></A><li><p><b>Select Restart Server, and click OK.</b></p></li>
<A NAME="dhcp-admin-step-94"></A><li><p><b>Select the Addresses tab.</b></p></li>
<A NAME="dhcp-admin-step-95"></A><li><p><b>Select addresses that you want to reserve
for BOOTP clients.</b></p><p>Select a range of addresses by clicking the
first address, pressing the Shift key, and clicking the last address. Select
multiple nonconcurrent addresses by pressing the Control key while clicking
each address.</p>
</li>
<A NAME="dhcp-admin-step-96"></A><li><p><b>Select Properties from the Edit menu.</b></p><p>The Modify Multiple Addresses dialog box opens.</p>
</li>
<A NAME="dhcp-admin-step-97"></A><li><p><b>In the BOOTP section, select Assign All
Addresses Only to BOOTP Clients.</b></p><p>All other options should be set
to Keep Current Settings.</p>
</li>
<A NAME="dhcp-admin-step-98"></A><li><p><b>Click OK.</b></p><p>Any BOOTP client
can now obtain an address from this DHCP server.</p>
</li>
</ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p78.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p80.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

