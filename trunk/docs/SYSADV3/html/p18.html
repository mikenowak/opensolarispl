<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p17.html#ipconfig-1">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p17.html#ipconfig-3">Determining Host Configuration Modes</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p17.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p19.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipconfig-6a"></A><h3>Systems That Are Network Clients</h3>
<p><A NAME="indexterm-417"></A><A NAME="indexterm-418"></A><A NAME="indexterm-419"></A><A NAME="indexterm-420"></A><A NAME="indexterm-421"></A><A NAME="indexterm-422"></A>Any host that obtains its configuration information from a network
configuration server operates in network client mode. Systems that are configured
as network clients do not require local copies of the TCP/IP configuration
files. </p>
<p><b>Network client mode</b> simplifies administration of
large networks. Network client mode minimizes the number of configuration
tasks that you perform on individual hosts. Network client mode assures that
all systems on the network adhere to the same configuration standards.</p>
<p><A NAME="indexterm-423"></A><A NAME="indexterm-424"></A><A NAME="indexterm-425"></A><A NAME="indexterm-426"></A><A NAME="indexterm-427"></A><A NAME="indexterm-428"></A>You can configure network client mode on all types of computers.
For example, you can configure network client mode on standalone systems.</p>
<A NAME="ipconfig-8"></A><h3>Mixed Configurations</h3>
<p><A NAME="indexterm-429"></A><A NAME="indexterm-430"></A><A NAME="indexterm-431"></A><A NAME="indexterm-432"></A>Configurations are not limited to either an all-local-files mode
or an all-network-client mode. Routers and servers should always be configured
in local mode. For hosts, you can use any combination of local files and network
client mode. </p>
<A NAME="ipconfig-9"></A><h3>IPv4 Network Topology Scenario</h3>
<p><A NAME="indexterm-433"></A><A NAME="indexterm-434"></A><A NAME="indexterm-435"></A><A NAME="indexterm-436"></A><A NAME="indexterm-437"></A><A HREF="p18.html#ipconfig-fig-10">Figure 5-1</A> shows
the hosts of a fictitious network with the network number <tt>192.9.200</tt>.
The network has one network configuration server, which is called <tt>sahara</tt>. Hosts <tt>tenere</tt> and <tt>nubian</tt> have
their own disks and run in local files mode. Host <tt>faiyum</tt> also
has a disk, but this system operates in network client mode. </p>
<p>Finally, the system <tt>timbuktu</tt> is configured as a router.
The system includes two network interfaces. The first interface is named <tt>timbuktu</tt>. This interface belongs to network <tt>192.9.200</tt>.
The second interface is named <tt>timbuktu-201</tt>. This interface
belongs to network <tt>192.9.201</tt>. Both networks are in the
organizational domain <tt>deserts.worldwide.com</tt>. The domain
uses local files as its name service.<A NAME="indexterm-438"></A><A NAME="indexterm-439"></A><A NAME="indexterm-440"></A><A NAME="indexterm-441"></A><A NAME="indexterm-442"></A><A NAME="indexterm-443"></A><A NAME="indexterm-444"></A><A NAME="indexterm-445"></A><A NAME="indexterm-446"></A></p>
<A NAME="ipconfig-fig-10"></A><p><b>Figure 5-1 </b>Hosts in an IPv4 Network Topology Scenario</p>
<IMG src="figures/iptask.fig195.gif" class="figure" alt="Diagram shows a sample network with one network server
that serves four hosts." title="Diagram shows a sample network with one network server
that serves four hosts."><A NAME="ipconfig-2"></A><h2>Adding a Subnet to a Network (Task Map)</h2>
<A NAME="indexterm-447"></A><p><A NAME="indexterm-448"></A><A NAME="indexterm-449"></A><A NAME="indexterm-450"></A><A NAME="indexterm-451"></A><A NAME="indexterm-452"></A>If you are changing from a network that does not use a subnet
to a network that does use a subnet, perform the tasks in the following task
map.</p>
<p><hr size="1" noshade><p><b>Note - </b>The information in this section applies to IPv4 subnets only.
For information on planning IPv6 subnets, refer to <A HREF="p14.html#ipv6-planning-16">Preparing the Network Topology for IPv6 Support</A> and <A HREF="p16.html#ipv6-planning-22">Creating a Numbering Scheme for Subnets</A>.</p>
<hr size="1" noshade></p>
<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>1. Determine if your network topology requires subnets.</p></td><td><p>Decide on the new subnet topology, including where to locate routers
and hosts on the subnets.</p></td><td><p><A HREF="p8.html#ipplan-37">Planning for Routers on Your Network</A>, <A HREF="p51.html#ipconfig-31">What Is Subnetting?</A>, and <A HREF="p54.html#ipref-4">Network Classes</A></p></td></tr>
<tr><td><p>2. Assign the IP addresses with the new subnet number to the systems
to become members of the subnet.</p></td><td><p>Configure IP addresses that use the new subnet number, either during
Solaris OS installation or later, in the <tt>/etc/hostname.</tt><i>interface</i> file.</p></td><td><p><A HREF="p6.html#ipplan-4">Deciding on an IP Addressing Format for Your Network</A>&nbsp;</p></td></tr>
<tr><td><p>3. Configure the network mask of the subnet on all prospective systems
in the subnet.</p></td><td><p> Modify the <tt>/etc/inet/netmasks</tt> file, if you are
manually configuring network clients. Or, supply the netmask to the Solaris
installation program.</p></td><td><p><A HREF="p51.html#ipconfig-30"><tt>netmasks</tt> Database</A> and <A HREF="p51.html#ipconfig-32">Creating the Network Mask for IPv4 Addresses</A></p></td></tr>
<tr><td><p>4. Edit the network databases with the new IP addresses of all systems
in the subnet.</p></td><td><p>Modify  <tt>/etc/inet/hosts</tt>  on all hosts to reflect
the new host addresses.</p></td><td><p><A HREF="p50.html#ipconfig-18"><tt>hosts</tt> Database</A>&nbsp;</p></td></tr>
<tr><td><p>5. Reboot all systems.</p></td><td>&nbsp;</td><td>&nbsp;</td></tr>
</table><A NAME="ipconfig-4"></A><h2>Network Configuration Task Map</h2>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Configure a host for local files mode</p></td><td><p>Involves editing the <tt>nodename</tt>, <tt>hostname</tt>, <tt>hosts</tt>, <tt>defaultdomain</tt>, <tt>defaultrouter</tt>,
and <tt>netmasks</tt> files</p></td><td><p><A HREF="p18.html#ipconfig-64">How to Configure a Host for Local Files Mode</A>&nbsp;</p></td></tr>
<tr><td><p>Set up a network configuration server</p></td><td><p>Involves turning on the <tt>in.tftp</tt> daemon, and editing
the <tt>hosts</tt>, <tt>ethers</tt>, and <tt>bootparams</tt> files</p></td><td><p><A HREF="p19.html#ipconfig-79">How to Set Up a Network Configuration Server</A>&nbsp;</p></td></tr>
<tr><td><p>Configure a host for network client mode</p></td><td><p>Involves creating the <tt>hostname</tt> file, editing the <tt>hosts</tt> file, and deleting the <tt>nodename</tt> and <tt>defaultdomain</tt> files, if they exist</p></td><td><p><A HREF="p19.html#ipconfig-90">How to Configure Hosts for Network Client Mode</A>&nbsp;</p></td></tr>
<tr><td><p>Specify a routing strategy for the network client</p></td><td><p>Involves determining whether to use static routing or dynamic routing
on the host.</p></td><td><p><A HREF="p22.html#ipconfig-125">How to Enable Static Routing on a Single-Interface Host</A> and <A HREF="p22.html#ipconfig-15">How to Enable Dynamic Routing on a Single-Interface Host</A>.</p></td></tr>
<tr><td><p>Modify the existing network configuration </p></td><td><p>Involves changing the host name, IP address, and other parameters that
were set at installation or configured at a later time.</p></td><td><p><A HREF="p19.html#gbwxb">How to Change the IPv4 Address and Other Network Configuration Parameters</A>&nbsp;</p></td></tr>
</table><A NAME="ipconfig-63"></A><h2>Configuring Systems on the Local Network </h2>
<p>Network software installation occurs along with the installation of
the operating system software. At that time, certain IP configuration parameters
must be stored in appropriate files so that they can be read at boot time. </p>
<p>The network configuration process involves creating or editing the network
configuration files. How configuration information is made available to a
system's kernel is conditional. The availability depends on whether these
files are stored locally (local files mode) or acquired from the network configuration
server (network client mode).</p>
<p><A NAME="indexterm-453"></A><A NAME="indexterm-454"></A>The parameters that are supplied during network configuration
follow: </p>
<ul><li><p>The IP address of each network interface on every system.</p>
</li>
<li><p>The host names of each system on the network. You can type
the host name in a local file or a name service database.</p>
</li>
<li><p>The NIS, LDAP, or DNS domain name in which the system resides,
if applicable.</p>
</li>
<li><p><A NAME="indexterm-455"></A>The default router addresses. You supply this information if you
have a simple network topology with only one router attached to each network.
You also supply this information if your routers do not run routing protocols
such as the Router Discovery Server Protocol (RDISC) or the Router Information
Protocol (RIP). For more information on default routers, refer to <A HREF="p20.html#gcvjj">Packet Forwarding and Routing on IPv4 Networks</A> See <A HREF="p20.html#gcxiw">Table 5-1</A> for a list of routing protocols
supported in the Solaris OS.</p>
</li>
<li><p>Subnet mask (required only for networks with subnets).</p>
</li>
</ul>
<p>If the Solaris installation program detects more one interface on the
system, you can optionally configure the additional interfaces during installation.
For complete instructions, see <i>Solaris Express Installation Guide: Basic Installations</i>.</p>
<p>This chapter contains information on creating and editing local configuration
files. See <i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i> for
information on working with name service databases.</p>
<A NAME="ipconfig-64"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Configure a Host for Local Files Mode</h3>
<p>Use this procedure for configuring TCP/IP on a host that runs in local
files mode. </p>
<ol><A NAME="ipconfig-step-66a"></A><li><p><b>Assume the Primary Administrator role,
or become superuser </b></p><p>The Primary Administrator role includes the
Primary Administrator profile. To create the role and assign the role to a
user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<li><p><b>Change to the <tt>/etc</tt> directory.</b></p></li>
<A NAME="ipconfig-step-67"></A><li><p><b>Verify that the correct host name is set
in the <tt>/etc/nodename</tt> file.</b></p><p>When you specify
the host name of a system during Solaris installation, that host name is entered
into the <tt>/etc/nodename</tt> file. Make sure that the node
name entry is the correct host name for the system.</p>
</li>
<A NAME="ipconfig-step-68a"></A><li><p><b><A NAME="indexterm-456"></A>Verify that an <tt>/etc/hostname</tt>.<i>interface</i> file exists for each network interface on the system.</b></p><p>For file syntax and basic information about the <tt>/etc/hostname</tt>.<i>interface</i> file, refer to <A HREF="p25.html#fpcwh">Basics for Administering Physical Interfaces</A>.</p>
<p>The Solaris installation
program requires you to configure at least one interface during installation.
The first interface that you configure automatically becomes the <b>primary
network interface</b>. The installation program creates an <tt>/etc/hostname.</tt><i>interface</i> file for the primary network
interface and any other interfaces that you optionally configure at installation
time. </p>
<p>If you configured additional interfaces during installation,
verify that each interface has a corresponding <tt>/etc/hostname.</tt><i>interface</i> file. You do not need to configure more than one interface
during Solaris installation. However, if you later want to add more interfaces
to the system, you must manually configure them.</p>
<p>For steps for
manually configuring interfaces, refer to  <A HREF="p26.html#fpdcn">How to Configure a Physical Interface After System Installation</A>, for releases starting with Solaris 10 1/06.</p>
</li>
<A NAME="ipconfig-step-70"></A><li><p><b><A NAME="indexterm-457"></A><A NAME="indexterm-458"></A>Verify that the entries in the <tt>/etc/inet/hosts</tt> file
are current.</b></p><p>The Solaris installation program creates entries
for the primary network interface, loopback address, and, if applicable, any
additional interfaces that were configured during installation.</p>
<ol Type="a"><li><p><b>Make sure that the existing entries in <tt>/etc/inet/hosts</tt> are
current.</b></p></li>
<A NAME="ipconfig-step-71"></A><li><p><b>(Optional) Add the IP addresses and corresponding
names for any network interfaces that were added to the local host after installation.</b></p></li>
<A NAME="ipconfig-step-72"></A><li><p><b>(Optional) Add the IP address or addresses
of the file server, if the <tt>/usr</tt> file system is NFS mounted.</b></p></li>
</ol>
</li>
<A NAME="ipconfig-step-73"></A><li><p><b><A NAME="indexterm-459"></A><A NAME="indexterm-460"></A><A NAME="indexterm-461"></A>Type the host's fully qualified domain name in the <tt>/etc/defaultdomain</tt> file. </b></p><p>For example, suppose host <tt>tenere</tt> was
part of the domain <tt>deserts.worldwide.com</tt>. Therefore, you
would type <tt>deserts.worldwide.com</tt> in <tt>/etc/defaultdomain</tt>. See <A HREF="p50.html#ipconfig-16"><tt>/etc/defaultdomain</tt> File</A> for
more information.</p>
</li>
<A NAME="ipconfig-step-74"></A><li><p><b><A NAME="indexterm-462"></A><A NAME="indexterm-463"></A><A NAME="indexterm-464"></A>Type the router's name in the <tt>/etc/defaultrouter</tt> file. </b></p><p>See <A HREF="p50.html#ipconfig-17"><tt>/etc/defaultrouter</tt> File</A> for
information about this file.</p>
</li>
<A NAME="ipconfig-step-75"></A><li><p><b>Type the name of the default router and
its IP addresses in the <tt>/etc/inet/hosts</tt> file. </b></p><p>Additional
routing options are available, as discussed in <A HREF="p19.html#ipconfig-90">How to Configure Hosts for Network Client Mode</A>. You can apply these options
to a local files mode configuration.</p>
</li>
<A NAME="ipconfig-step-76"></A><li><p><b><A NAME="indexterm-465"></A><A NAME="indexterm-466"></A>Add the network mask for your network, if applicable:</b></p><ul><li><p>If the host gets its IP address from a DHCP server, you do
not have to specify the network mask.</p>
</li>
<li><p>If you have set up a NIS server on the same network as this
client, you can add <tt>netmask</tt> information into the appropriate
database on the server. </p>
</li>
<li><p>For all other conditions, do the following:</p>
</li>
</ul>
<ol Type="a"><li><p><b>Type the network number and the netmask in the <tt>/etc/inet/netmasks</tt> file.</b></p><p>Use the following format:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>network-number netmask</pre>
</td></table><br><p>For example, for the Class C network number <tt>192.168.83</tt>,
you would type:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre><tt><b>192.168.83.0    255.255.255.0</b></tt></pre>
</td></table><br><p>For CIDR addresses, convert the network prefix into the equivalent dotted
decimal representation. Network prefixes and their dotted decimal equivalents
can be found in <A HREF="p7.html#extkp">Table 2-3</A>. For example,
use the following to express the CIDR network prefix <tt>192.168.3.0/22</tt>.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>192.168.3.0 255.255.252.0</pre>
</td></table><br></li>
<li><p><b>Change the lookup order for netmasks in <tt>/etc/nsswitch.conf</tt>,
so that local files are searched first:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>netmasks:   files nis</pre>
</td></table><br></li>
</ol>
</li>
<A NAME="ipconfig-step-77"></A><li><p><b><A NAME="indexterm-467"></A><A NAME="indexterm-468"></A><A NAME="indexterm-469"></A><A NAME="indexterm-470"></A><A NAME="indexterm-471"></A>Reboot the system. </b></p></li>
</ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p17.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p19.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

