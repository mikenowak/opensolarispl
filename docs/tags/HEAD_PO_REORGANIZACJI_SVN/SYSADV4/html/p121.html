<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>How
to Configure CHAP Authentication Credentials
for the Trusted Callers - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p118.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a> > <a href="p120.html">Configuring CHAP Authentication</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p120.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p122.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="ppp.auth-69"></a><h4><img src="graphics/procedure.gif"> How
to Configure CHAP Authentication Credentials
for the Trusted Callers</h4>
<p><a name="indexterm-1876"></a><a name="indexterm-1877"></a><a name="indexterm-1878"></a>This procedure shows how
to set up CHAP credentials for two
trusted callers. The steps in the
procedure assume that you, the system
administrator, are creating the CHAP
credentials on the trusted callers'
dial-out machines. </p>
<ol><li><a name="pppsvrconfig.auth-step-44"></a><b>Become superuser on a dial-out
machine or assume an equivalent role.</b><p>Roles contain authorizations
and privileged commands. For more
information about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>.
To configure a role with the Primary
Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p><p>Using the sample CHAP
configuration in <a href="p109.html#pppsvrconfig.p2plink-17">Example of a Configuration Using CHAP Authentication</a>, assume that the dial-out
machine belongs to trusted caller <tt>account1</tt>.</p></li><li><a name="pppsvrconfig.auth-step-45"></a><b>Modify the chap-secrets database
for caller <tt>account1</tt>.</b><p><a name="indexterm-1879"></a>Solaris PPP 4.0 includes
an <tt>/etc/ppp/chap-secrets</tt> file
that has helpful comments but no options.
You can add the following options
to the existing <tt>/etc/ppp/chap-secrets</tt> file.</p><pre><tt><b>account1  CallServe   key123   *</b></tt></pre><p><tt>CallServe</tt> is
the name for the peer that <tt>account1</tt> is trying to reach. <tt>key123</tt> is the CHAP secret to be
used for links between <tt>account1</tt> and <tt>CallServer</tt>.</p></li><li><a name="pppsvrconfig.auth-step-46"></a><b>Become superuser on another
dial-out machine or assume an equivalent
role.</b><p>Roles contain authorizations
and privileged commands. For more
information about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>.
To configure a role with the Primary
Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p><p>Assume that this machine
belongs to caller <tt>account2</tt>.</p></li><li><a name="pppsvrconfig.auth-step-47"></a><b>Modify the <tt>/etc/ppp/chap-secrets</tt> database for caller account2.</b><pre><tt><b>account2  CallServe   key456   *</b></tt></pre><p>Now, <tt>account2</tt> has
secret <tt>key456</tt> as
its CHAP credentials for use over
links to peer <tt>CallServe</tt>.</p></li></ol><h6>See Also</h6><p>The following list provides
references to related information.</p>
<ul><li><p><a href="p120.html#ppp.auth-67">How to Create a CHAP Credentials Database (Dial-in Server)</a></p>
</li>
<li><p><a href="p121.html">How to Configure CHAP Authentication Credentials for the Trusted Callers</a></p>
</li>
</ul>
<a name="ppp.auth-57"></a><h4>Adding
CHAP to the Configuration Files (Dial-out
Machine)</h4>
<p>To learn more about CHAP authentication,
refer to <a href="p134.html#pppsvrconfig.reference-21">Challenge-Handshake Authentication Protocol (CHAP)</a>.
The next task configures the dial-out
machine that belongs to caller <tt>account1</tt>, which is introduced in <a href="p109.html#pppsvrconfig.p2plink-17">Example of a Configuration Using CHAP Authentication</a>.</p>
<a name="ppp.auth-70"></a><h4><img src="graphics/procedure.gif"> How
to Add CHAP Support to the PPP Configuration
Files (Dial-out Machine)</h4>
<a name="indexterm-1880"></a><a name="indexterm-1881"></a><ol><li><a name="pppsvrconfig.auth-step-50"></a><b>Log in to the dial-out machine
as superuser.</b></li><li><a name="pppsvrconfig.auth-step-2"></a><b>Ensure that the <tt>/etc/ppp/options</tt> file has the following
options.</b><pre># <tt><b>cat /etc/ppp/options</b></tt>
lock
nodefaultroute</pre></li><li><a name="pppsvrconfig.auth-step-52"></a><b>Create an <tt>/etc/ppp/peers/</tt><i>peer-name</i> file
for the remote machine <tt>CallServe</tt>.</b><pre># <tt><b>cat /etc/ppp/peers/CallServe</b></tt>
/dev/cua/a
57600
noipdefault
defaultroute
idle 120
<tt><b>user account1</b></tt>
connect "chat -U 'mypassword' -f /etc/ppp/mychat"</pre><p>The option <tt>user account1</tt> sets <tt>account1</tt> as the CHAP user
name to be given to <tt>CallServe</tt>.
For a description of the other options
in the previous file, see the similar <tt>/etc/ppp/peers/myserver</tt> file
in <a href="p112.html#ppp.dialin-55">How to Define the Connection With an Individual Peer</a>.</p></li></ol><h6>See Also</h6><p>To test CHAP authentication
by calling the dial-in server, refer
to <a href="p115.html#pppsvrconfig.dialin-proc-27">How to Call the Dial-in Server</a>.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p120.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p122.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

