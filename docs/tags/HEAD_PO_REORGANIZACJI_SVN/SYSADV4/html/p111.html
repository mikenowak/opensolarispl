<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Up a Dial-up PPP Link
(Tasks) - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p110.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p112.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="pppsvrconfig.dialin-1"></a>Chapter&nbsp;17<h3>Setting Up a Dial-up PPP Link
(Tasks)</h3><p>This chapter explains the tasks
for configuring the most common PPP
link, the dial-up link. Major topics
include the following:</p>
<ul><li><p><a href="p111.html#pppsvrconfig.dialin-52">Configuring the Dial-out Machine</a></p>
</li>
<li><p><a href="p113.html">Configuring the Dial-in Server</a></p>
</li>
<li><p><a href="p115.html">Calling the Dial-in Server</a></p>
</li>
</ul>
<a name="ppp.dialin-11"></a><h3>Major
Tasks for Setting Up the Dial-up PPP
Link (Task Map)</h3>
<p>You set up the dial-up PPP link
by configuring modems, modifying network
database files, and modifying the
PPP configuration files that are described
in <a href="p129.html#ppp.reference-tbl-71">Table 22-1</a>. </p>
<p><a name="indexterm-1753"></a><a name="indexterm-1754"></a>The next table lists the
major tasks to configure both sides
of a dial-up PPP link. Typically,
you configure only one end of the
link, either the dial-out machine
or dial-in server.</p>
<a name="ppp.dialin-tbl-12"></a>Table 17-1 Task
Map for Setting Up the Dial-up PPP
Link<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>1. Gather preconfiguration information</p>
</td><td><p>Gather data that is needed prior
to setting up the link, such as peer
host names, target phone numbers,
and modem speed.</p>
</td><td><p><a href="p107.html#pppsvrconfig.p2plink-4">Planning a Dial-up PPP Link</a></p>
</td></tr>
<tr><td><p>2. Configure the dial-out machine</p>
</td><td><p>Set up PPP on the machine that
makes the call over the link.</p>
</td><td><p><a href="p111.html#ppp.dialin-tbl-13">Table 17-2</a></p>
</td></tr>
<tr><td><p>3. Configure the dial-in server</p>
</td><td><p>Set up PPP on the machine that
receives incoming calls.</p>
</td><td><p><a href="p113.html#ppp.dialin-tbl-15">Table 17-3</a></p>
</td></tr>
<tr><td><p>4. Call the dial-in server</p>
</td><td><p>Type the <tt>pppd</tt> command
to initiate communications.</p>
</td><td><p><a href="p115.html#pppsvrconfig.dialin-proc-27">How to Call the Dial-in Server</a></p>
</td></tr>
</table><a name="pppsvrconfig.dialin-52"></a><h3>Configuring the Dial-out Machine</h3>
<p>The tasks in this section explain
how to configure a dial-out machine.
The tasks use as an example the dial-
in-from-home scenario that was introduced
in <a href="p107.html#pppsvrconfig.p2plink-fig-1">Figure 16-1</a>. You can perform
the tasks at your company before passing
on the machine to a prospective user.
Alternatively, you can instruct experienced
users in the  setup of their  home
machines. Anyone setting up a dial-out
machine must have root permission
for that machine.</p>
<a name="ppp.dialin-48"></a><h4>Tasks
for Configuring the Dial-out Machine
(Task Map)</h4>
<a name="indexterm-1755"></a><a name="ppp.dialin-tbl-13"></a>Table 17-2 Task
Map for Setting Up the Dial-out Machine<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>1. Gather preconfiguration information</p>
</td><td><p>Gather data that is needed prior
to setting up the link, such as peer
host names, target phone numbers,
and modem speed.</p>
</td><td><p><a href="p107.html#pppsvrconfig.p2plink-4">Planning a Dial-up PPP Link</a></p>
</td></tr>
<tr><td><p>2. Configure the modem and serial
port</p>
</td><td><p>Set up the modem and serial
port. </p>
</td><td><p><a href="p111.html#ppp.dialin-50">How to Configure the Modem and Serial Port (Dial-out Machine)</a></p>
</td></tr>
<tr><td><p>3. Configure the serial-line
communication</p>
</td><td><p>Configure the characteristics
of the transmission across the serial
line.</p>
</td><td><p><a href="p112.html#ppp.dialin-53">How to Define Communications Over the Serial Line</a></p>
</td></tr>
<tr><td><p>4. Define the conversation between
the dial-out machine and the peer</p>
</td><td><p>Gather communications data for
use when you create the chat script.</p>
</td><td><p><a href="p112.html#pppsvrconfig.dialin-50">How to Create the Instructions for Calling a Peer</a></p>
</td></tr>
<tr><td><p>5. Configure information about
a particular peer</p>
</td><td><p>Configure PPP options to call
an individual dial-in server.</p>
</td><td><p><a href="p112.html#ppp.dialin-55">How to Define the Connection With an Individual Peer</a></p>
</td></tr>
<tr><td><p>6. Call the peer</p>
</td><td><p>Type the <tt>pppd</tt> command
to initiate communications.</p>
</td><td><p><a href="p115.html#pppsvrconfig.dialin-proc-27">How to Call the Dial-in Server</a>.</p>
</td></tr>
</table><a name="ppp.dialin-20"></a><h4>Dial-up
PPP Template Files</h4>
<p><a name="indexterm-1756"></a><a name="indexterm-1757"></a>Solaris PPP 4.0 provides
template files. Each template contains
common options for a particular PPP
configuration file. The next table
lists the sample templates that can
be used for setting up a dial-up link,
and their equivalent Solaris PPP 4.0
files.</p>
<table><tr><th><p>Template File</p>
</th><th><p>PPP Configuration File</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p><tt>/etc/ppp/options.tmpl</tt></p>
</td><td><p><tt>/etc/ppp/options</tt></p>
</td><td><p><a href="p130.html#ppp.reference-17"><tt>/etc/ppp/options.tmpl</tt> Template</a></p>
</td></tr>
<tr><td><p><tt>/etc/ppp/options.ttya.tmpl</tt></p>
</td><td><p><tt>/etc/ppp/options.</tt><i>ttyname</i></p>
</td><td><p><a href="p130.html#ppp.reference-18"><tt>options.ttya.tmpl</tt> Template File</a></p>
</td></tr>
<tr><td><p><tt>/etc/ppp/myisp-chat.tmpl</tt></p>
</td><td><p>File with the name of your choice
to contain the chat script</p>
</td><td><p><a href="p132.html#ppp.reference-20"><tt>/etc/ppp/myisp-chat.tmpl</tt> Chat Script Template</a></p>
</td></tr>
<tr><td><p><tt>/etc/ppp/peers/myisp.tmpl</tt></p>
</td><td><p><tt>/etc/ppp/peers/</tt><i>peer-name</i></p>
</td><td><p><a href="p131.html#ppp.reference-19"><tt>/etc/ppp/peers/myisp.tmpl</tt> Template File</a></p>
</td></tr>
</table><p>If you decide to use one of
the template files, be sure to rename
the template to its equivalent PPP
configuration file. The one exception
is the chat file template <tt>/etc/ppp/myisp-chat.tmpl</tt>. You can choose any name
for your chat script.</p>
<a name="pppsvrconfig.dialin-3"></a><h4>Configuring Devices on the
Dial-out Machine</h4>
<p>The first task for setting up
a dial-out PPP machine is to configure
the devices on the serial line: the
modem and serial port.</p>
<hr>
<p><b>Note - </b>Tasks that apply to a
modem usually apply to an ISDN TA.</p>
<hr>
<p>Before performing the next procedure,
you must have done the following.</p>
<ul><li><p>Installed the Solaris
9 release or Solaris 10 release on
the dial-out machine </p>
</li>
<li><p>Determined the optimum
modem speed</p>
</li>
<li><p>Decided which serial
port to use on the dial-out machine</p>
</li>
<li><p>Obtained the root
password for the dial-out machine</p>
</li>
</ul>
<p>For planning information, see <a href="p107.html#pppsvrconfig.p2plink-tbl-9">Table 16-2</a>.</p>
<a name="ppp.dialin-50"></a><h4><img src="graphics/procedure.gif"> How
to Configure the Modem and Serial
Port (Dial-out Machine)</h4>
<a name="indexterm-1758"></a><a name="indexterm-1759"></a><a name="indexterm-1760"></a><a name="indexterm-1761"></a><ol><li><a name="pppsvrconfig.dialin-step-44"></a><b>Program the modem.</b><p>Even
though a variety of modem types is
available, most modems are shipped
with the correct settings for Solaris
PPP 4.0. The following list shows
the basic parameter settings for modems
that use Solaris PPP 4.0.</p><ul><li><p><b>DCD &ndash;</b> Follow carrier instructions</p>
</li>
<li><p><b>DTR &ndash;</b> Set low so that the modem
hangs up and puts the modem on-hook</p>
</li>
<li><p><b>Flow
Control &ndash;</b> Set to
RTS/CTS for full-duplex hardware flow
control</p>
</li>
<li><p><b>Attention
Sequences &ndash;</b> Disable</p>
</li>
</ul>
<p>If you have problems setting
up the link and suspect that the modem
is at fault, first consult the modem
manufacturer's documentation. Also,
a number of web sites offer help with
modem programming. Finally, you can
find some suggestions for clearing
modem problems in <a href="p126.html#ppp.trouble-27">How to Diagnose Modem Problems</a>.</p></li><li><a name="pppsvrconfig.dialin-step-5"></a><b>Attach the modem cables to the
serial port on the dial-out machine
and to the telephone jack.</b></li><li><a name="pppsvrconfig.dialin-step-60"></a><b>Become superuser on the dial-out
machine or assume an equivalent role.</b><p>Roles contain authorizations
and privileged commands. For more
information about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>.
To configure a role with the Primary
Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="pppsvrconfig.dialin-step-6"></a><b>Run the <tt>/usr/sadm/bin/smc</tt> command,
as explained in Setting Up Terminals and Modems With Serial Ports Tool (Overview) in <i>System Administration Guide: Advanced Administration</i>.
This command opens the Solaris Management
Console.</b><p>Use the Solaris
Management Console to do the following.</p><ol><li><a name="pppsvrconfig.dialin-step-32"></a><b>Select the port where you have
attached the modem.</b></li><li><a name="pppsvrconfig.dialin-step-18"></a><b>Specify modem direction as dial-out
only.</b><p>You can set up the
modem as bidirectional. However, the
dial-out-only choice is more secure
against possible intruders.</p></li></ol><hr>
<p><b>Note - </b>You can set the baud rate
and timeout from <tt>/usr/sadm/bin/smc</tt>. However, the <tt>pppd</tt> daemon
ignores these settings.</p>
<hr>
</li><li><a name="ppp.dialin-step-51"></a><b>Click
Okay to convey the changes.</b></li></ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p110.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p112.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

