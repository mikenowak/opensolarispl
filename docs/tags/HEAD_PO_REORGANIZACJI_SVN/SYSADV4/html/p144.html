<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>UUCP
Security and Maintenance - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p142.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p143.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p145.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="uucptasks-16"></a><h3>UUCP
Security and Maintenance</h3>
<p>After you have set up UUCP,
maintenance is straightforward. This
section explains ongoing UUCP tasks
that relate to security, maintenance,
and troubleshooting.</p>
<a name="uucptasks-17a"></a><h4>Setting
Up UUCP Security</h4>
<p><a name="indexterm-2311"></a><a name="indexterm-2312"></a><a name="indexterm-2313"></a><a name="indexterm-2314"></a>The default <tt>/etc/uucp/Permissions</tt> file provides the maximum
amount of security for your UUCP links.
The default <tt>Permissions</tt> file
contains no entries.</p>
<p>You can set additional parameters
for each remote machine to define
the following: </p>
<ul><li><p>Ways that the remote
machine can receive files from your
machine </p>
</li>
<li><p>Directories for which
the remote machine has read and write
permission </p>
</li>
<li><p>Commands that the
remote machine can use for remote
execution </p>
</li>
</ul>
<p>A typical <tt>Permissions</tt> entry
follows: </p>
<pre>MACHINE=datsun LOGNAME=Udatsun VALIDATE=datsun 
COMMANDS=rmail REQUEST=yes SENDFILES=yes</pre><p>This entry allows files to be
sent and be received to and from the &ldquo;normal&rdquo;
UUCP directories, not from anywhere
in the system. The entry also causes
the UUCP user name to be validated
at login time.</p>
<a name="uucptasks-18"></a><h4>Regular
UUCP Maintenance</h4>
<p><a name="indexterm-2315"></a><a name="indexterm-2316"></a>UUCP does not require
much maintenance. However, you must
ensure that the <tt>crontab</tt> file
is in place, as described in the section <a href="p142.html#uucptasks-11a">How to Start UUCP</a>. Your concern should
be the growth of mail files and the
public directory.  </p>
<a name="uucptasks-19"></a><h5>Email
for UUCP</h5>
<p><a name="indexterm-2317"></a><a name="indexterm-2318"></a><a name="indexterm-2319"></a><a name="indexterm-2320"></a><a name="indexterm-2321"></a><a name="indexterm-2322"></a>All email messages that
are generated by the UUCP programs
and scripts are sent to the user ID <tt>uucp</tt>. If you do not log
in frequently as that user, you might
not realize that mail is accumulating
and consuming disk space. To solve
this problem, create an alias in <tt>/etc/mail/aliases</tt> and redirect
that email either to <tt>root</tt> or
to yourself and others who are responsible
for maintaining UUCP. Remember to
run the <tt>newaliases</tt> command
after modifying the <tt>aliases</tt> file.
     </p>
<a name="uucptasks-20"></a><h5>UUCP
Public Directory</h5>
<p><a name="indexterm-2323"></a><a name="indexterm-2324"></a><a name="indexterm-2325"></a><a name="indexterm-2326"></a><a name="indexterm-2327"></a><a name="indexterm-2328"></a><a name="indexterm-2329"></a><a name="indexterm-2330"></a><a name="indexterm-2331"></a><a name="indexterm-2332"></a>The directory <tt>/var/spool/uucppublic</tt> is the one place in every
system to which UUCP by default is
able to copy files. Every user has
permission to change to <tt>/var/spool/uucppublic</tt> and read and write files
in the directory. However, the directory's
sticky bit is set, so the directory's
mode is 01777. As a result, users
cannot remove files that have been
copied to it and that belong to <tt>uucp</tt>. Only you, as UUCP
administrator logged in as <tt>root</tt> or <tt>uucp</tt>,
can remove files from this directory.
To prevent the uncontrolled accumulation
of files in this directory, you should
ensure that you remove files from
it periodically.          </p>
<p><a name="indexterm-2333"></a><a name="indexterm-2334"></a><a name="indexterm-2335"></a><a name="indexterm-2336"></a><a name="indexterm-2337"></a><a name="indexterm-2338"></a>If this maintenance is
inconvenient for users, encourage
them to use <tt>uuto</tt> and <tt>uupick</tt> rather than removing
the sticky bit, which is set for security
reasons. See the <tt>uuto</tt>(1C) man
page for instructions for using <tt>uuto</tt> and <tt>uupick</tt>.
You can also restrict the mode of
the directory to only one group of
people. If you do not want to risk
someone filling your disk, you can
even deny UUCP access to it.      </p>
<a name="uucptasks-21"></a><h3>Troubleshooting
UUCP</h3>
<p><a name="indexterm-2339"></a><a name="indexterm-2340"></a>These procedures describe
how to solve common UUCP problems.
 </p>
<a name="uucptasks-22"></a><h4><img src="graphics/procedure.gif"> How
to Check for Faulty Modems or ACUs</h4>
<p><a name="indexterm-2341"></a><a name="indexterm-2342"></a><a name="indexterm-2343"></a><a name="indexterm-2344"></a><a name="indexterm-2345"></a>You can check if the modems
or other ACUs are not working properly
in several ways.</p>
<ol><li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information
about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>. To configure
a role with the Primary Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="uucptasks-step-29a"></a><b><a name="indexterm-2346"></a><a name="indexterm-2347"></a><a name="indexterm-2348"></a>Obtain counts and reasons
for contact failure by running the
following command:   </b><pre># <tt>uustat</tt> <tt>-q</tt></pre></li><li><a name="uucptasks-step-25a"></a><b>Call
over a particular line and print debugging
information on the attempt.</b><p><a name="indexterm-2349"></a><a name="indexterm-2350"></a><a name="indexterm-2351"></a><a name="indexterm-2352"></a>The line must be defined
as <tt>direct</tt> in the <tt>/etc/uucp/Devices</tt> file.
You must add a telephone number to
the end of the command line if the
line is connected to an autodialer
or the device must be set up as <tt>direct</tt>. Type:   </p><pre># <tt>cu</tt> <tt>-d</tt> <tt>-l</tt><i>line</i></pre><p><i>line</i> is <tt>/dev/cua/a</tt>. </p></li></ol><a name="uucptasks-24"></a><h4><img src="graphics/procedure.gif"> How
to Debug Transmissions</h4>
<p><a name="indexterm-2353"></a><a name="indexterm-2354"></a><a name="indexterm-2355"></a><a name="indexterm-2356"></a><a name="indexterm-2357"></a>If you cannot contact
a particular machine, you can check
communications to that machine with <tt>Uutry</tt> and <tt>uucp</tt>.
    </p>
<ol><li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information
about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>. To configure
a role with the Primary Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="uucptasks-step-26"></a><b><a name="indexterm-2358"></a><a name="indexterm-2359"></a><a name="indexterm-2360"></a>Try to make contact:  </b><pre># <tt><b>/usr/lib/uucp/Uutry -r</b></tt> <i>machine</i></pre><p>Replace <i>machine</i> with
the host name of the machine you are
unable to contact. This command does
the following: </p>
<ul><li><p>Starts the transfer
daemon (<tt>uucico</tt>)
with debugging. You can get more debugging
information if you are <tt>root</tt>.</p>
</li>
<li><p>Directs the debugging
output to <tt>/tmp/</tt><i>machine</i>.</p>
</li>
<li><p>Prints the debugging
output to your terminal by issuing
the following command:</p>
<pre># <tt>tail</tt> <tt>-f</tt></pre><p>Press Control-C to end output.
You can copy the output from <tt>/tmp/</tt><i>machine</i> if
you want to save the output.</p>
</li>
</ul>
</li><li><a name="uucptasks-step-30"></a><b><a name="indexterm-2361"></a><a name="indexterm-2362"></a><a name="indexterm-2363"></a>If <tt>Uutry</tt> does
not isolate the problem, try to queue
a job:   </b><pre># <tt><b>uucp -r</b></tt> <i>file</i> <i>machine</i><tt><b>\!</b></tt><i>/dir/file</i></pre><dl><dt><i>file</i></dt>
<dd><p>Use the name of the
file that you want to transfer.</p>
</dd>
<dt><i>machine</i></dt>
<dd><p>Use the name of the
machine that you want to copy to.</p>
</dd>
<dt><i>/dir/file</i></dt>
<dd><p>Specify the location
of the file for the other machine.</p>
</dd>
</dl>
</li><li><a name="uucptasks-step-31"></a><b>Issue
the following command:</b><pre># <tt>Uutry</tt></pre><p>If you still cannot solve the
problem, you might need to call your
local support representative. Save
the debugging output, which can help
diagnose the problem.</p><hr>
<p><b>Note - </b>You might also decrease
or increase the level of debugging
that is provided by <tt>Uutry</tt> through
the <tt>-x</tt> <i>n</i> option. <i>n</i> indicates the debug
level. The default debug level for <tt>Uutry</tt> is 5. </p>
<p><a name="indexterm-2364"></a><a name="indexterm-2365"></a><a name="indexterm-2366"></a><a name="indexterm-2367"></a><a name="indexterm-2368"></a><a name="indexterm-2369"></a><a name="indexterm-2370"></a>Debug level 3 provides
basic information about when and how
the connection is established, but
not much information about the transmission.
Debug level 9, however, provides exhaustive
information about the transmission
process. Be aware that debugging occurs
at both ends of the transmission.
If you intend to use a level higher
than 5 on a moderately large text,
contact the other site's administrator
and decide when to change the level.</p>
<hr>
</li></ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p143.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p145.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

