<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>DTrace User Guide</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><meta name="description" content="This book serves as an introduction to the dynamic tracing capabilities
introduced in Solaris 10. The basic features of the DTrace framework are introduced.
The book contains extensive examples of basic DTrace functions."><link rel="start" href="index.html" title="DTrace User Guide"><link rel="next" href="pr01.html" title="Preface"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">DTrace User Guide</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="pr01.html">Next</a></td></tr></table><hr></div><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="id1527604"></a>DTrace User Guide</h1></div><div><div class="authorgroup">
<div class="author"><h3 class="author"></h3></div>
</div></div><div><p class="releaseinfo">
</p></div><div><p class="copyright">Copyright © 2006 Sun Microsystems, Inc.</p></div><div><div class="legalnotice"><a name="id1527707"></a>
<p>The contents of this Documentation are subject to the 
Public Documentation License Version 1.01 (the "License"); 
you may only use this Documentation if you comply with the terms of this License. 
A copy of the License is available at 
http://www.opensolaris.org/os/community/documentation/license.
            </p>
<p>Sun Microsystems, Inc. has intellectual property rights relating to technology embodied in the product that is described in this document. In particular, and without limitation, these intellectual
property rights may include one or more U.S. patents or pending patent applications in the U.S. and in other countries.</p>
<p>U.S. Government Rights &#8211; Commercial software.  Government users are subject to the Sun Microsystems, Inc. standard license agreement and applicable provisions of the FAR and its supplements.</p>
<p>This distribution may include materials developed by third parties.</p>
<p>Parts of the product may be derived from Berkeley BSD systems, licensed from the University of California. UNIX is a registered trademark in the U.S. and other countries, exclusively
licensed through X/Open Company, Ltd.</p>
<p>Sun, Sun Microsystems, the Sun logo,
the Solaris logo, the Java Coffee Cup logo, docs.sun.com, 
Java, and
Solaris are trademarks or registered trademarks of Sun Microsystems, Inc. in the U.S.
and other countries. All SPARC trademarks are used under license and are trademarks
or registered trademarks of SPARC International, Inc. in the U.S. and other countries.
Products bearing SPARC trademarks are based upon an architecture developed by Sun
Microsystems, Inc. </p>
<p>The OPEN LOOK and <span class="trademark">Sun</span>&#8482; Graphical User Interface was developed by Sun Microsystems, Inc. for
its users and licensees. Sun acknowledges the pioneering efforts of Xerox in researching
and developing the concept of visual or graphical user interfaces for the computer
industry. Sun holds a non-exclusive license from Xerox to the Xerox Graphical User
Interface, which license also covers Sun's licensees who implement OPEN LOOK GUIs
and otherwise comply with Sun's written license agreements.</p>
<p>Products covered by and information contained in this publication are controlled by U.S. Export Control
laws and may be subject to the export or import laws in other countries. Nuclear,
missile, chemical or biological weapons or nuclear maritime end uses or end users,
whether direct or indirect, are strictly prohibited. Export or reexport to countries
subject to U.S. embargo or to entities identified on U.S. export exclusion lists,
including, but not limited to, the denied persons and specially designated nationals
lists is strictly prohibited.</p>
<p>DOCUMENTATION IS PROVIDED &#8220;AS IS&#8221; AND ALL EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS AND WARRANTIES, INCLUDING ANY
IMPLIED WARRANTY OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT,
ARE DISCLAIMED, EXCEPT TO THE EXTENT THAT SUCH DISCLAIMERS ARE HELD TO BE LEGALLY INVALID.</p>
<p>
</p>
<p>Sun Microsystems, Inc. détient les droits de propriété
intellectuelle relatifs à la technologie incorporée dans
le produit qui est
décrit dans ce document. En particulier, et ce sans limitation,
ces droits de
propriété intellectuelle peuvent inclure un ou plusieurs
brevets américains ou des
applications de brevet en attente aux Etats-Unis et dans d'autres
pays.</p>
<p>Cette distribution peut comprendre des composants
développés par des tierces personnes.</p>
<p>Certaines composants de ce produit peuvent être
dérivées du logiciel Berkeley BSD, licenciés par
l'Université de
Californie. UNIX est une marque déposée aux Etats-Unis et
dans d'autres pays; elle est
licenciée exclusivement par X/Open Company, Ltd. </p>
<p>Sun, Sun Microsystems, le logo Sun, le logo Solaris, le logo Java
Coffee Cup, docs.sun.com, 
 Java et Solaris sont des
marques de fabrique ou des marques déposées
de Sun Microsystems, Inc. aux Etats-Unis et dans d'autres pays. Toutes
les marques
SPARC sont utilisées sous licence et sont des marques de fabrique
ou des
marques déposées de SPARC International, Inc. aux
Etats-Unis et dans
d'autres pays. Les produits portant les marques SPARC sont basés
sur une
architecture développée par Sun Microsystems, Inc.</p>
<p>L'interface d'utilisation graphique OPEN LOOK et
Sun a été
développée par Sun Microsystems, Inc. pour ses
utilisateurs et
licenciés. Sun reconnaît les efforts de pionniers de Xerox
pour la
recherche et le développement du concept des interfaces
d'utilisation
visuelle ou graphique pour l'industrie de l'informatique. Sun
détient une licence non exclusive de Xerox sur
l'interface d'utilisation graphique Xerox, cette licence couvrant
également les
licenciés de Sun qui mettent en place l'interface d'utilisation
graphique OPEN LOOK et
qui, en outre, se conforment aux licences écrites de Sun.</p>
<p>Les produits qui font l'objet de cette publication et les
informations qu'il contient sont régis par la legislation
américaine en matière de contrôle des exportations et peuvent être soumis au droit
d'autres pays dans le domaine des exportations et importations. Les utilisations finales, ou
utilisateurs finaux, pour des armes nucléaires, des missiles, des armes
chimiques ou biologiques ou pour le nucléaire maritime, directement ou
indirectement, sont strictement interdites. Les exportations ou réexportations vers
des pays sous embargo des Etats-Unis, ou vers des entités figurant sur les
listes d'exclusion d'exportation américaines, y compris, mais de manière non
exclusive, la liste de personnes qui font objet d'un ordre de ne pas participer, d'une façon
directe ou
indirecte, aux exportations des produits ou des services qui sont
régis par la
legislation américaine en matière de contrôle des
exportations et la
liste de ressortissants spécifiquement designés, sont
rigoureusement interdites.</p>
<p>LA DOCUMENTATION EST FOURNIE "EN L'ETAT" ET TOUTES AUTRES CONDITIONS,
DECLARATIONS ET GARANTIES EXPRESSES OU TACITES SONT FORMELLEMENT EXCLUES,
DANS LA MESURE AUTORISEE PAR LA LOI APPLICABLE, Y COMPRIS NOTAMMENT
TOUTE GARANTIE IMPLICITE RELATIVE A LA QUALITE MARCHANDE, A L'APTITUDE A UNE
UTILISATION PARTICULIERE OU A L'ABSENCE DE CONTREFACON. </p>
</div></div><div><p class="pubdate">May 2006</p></div><div><div class="abstract"><p class="title"><b>Abstract</b></p>
<p>This book serves as an introduction to the dynamic tracing capabilities
introduced in Solaris 10. The basic features of the DTrace framework are introduced.
The book contains extensive examples of basic DTrace functions.</p>
</div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="preface"><a href="pr01.html">Preface</a></span></dt><dd><dl><dt><span class="sect1"><a href="pr01.html#gcfbd">Who Should Use This Book</a></span></dt><dt><span class="sect1"><a href="pr01s02.html">Before You Read This Book</a></span></dt><dt><span class="sect1"><a href="pr01s03.html">Related Books</a></span></dt><dt><span class="sect1"><a href="pr01s04.html">Documentation, Support,
and Training</a></span></dt><dt><span class="sect1"><a href="pr01s05.html">Typographic
Conventions</a></span></dt><dt><span class="sect1"><a href="pr01s06.html">Shell Prompts
in Command Examples</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch01.html">1. Introduction</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch01.html#gbxxq">DTrace Capabilities</a></span></dt><dt><span class="sect1"><a href="ch01s02.html">Architecture overview</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch01s02.html#gcbxv">DTrace Providers</a></span></dt><dt><span class="sect2"><a href="ch01s02.html#gcbzc">DTrace Probes</a></span></dt><dt><span class="sect2"><a href="ch01s02.html#gcgkn">DTrace Predicates</a></span></dt><dt><span class="sect2"><a href="ch01s02.html#gcdxn">DTrace Actions</a></span></dt><dt><span class="sect2"><a href="ch01s02.html#gcbzh">D Scripting Language</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch02.html">2. DTrace Basics</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch02.html#gcfah">Listing Probes</a></span></dt><dt><span class="sect1"><a href="ch02s02.html">Specifying Probes in DTrace</a></span></dt><dt><span class="sect1"><a href="ch02s03.html">Enabling Probes</a></span></dt><dt><span class="sect1"><a href="ch02s04.html">DTrace Action Basics</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch02s04.html#gcggx">Data Recording Actions</a></span></dt><dt><span class="sect2"><a href="ch02s04.html#gcfsm">Destructive Actions</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch02s05.html">DTrace Aggregations</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch02s05.html#gcggc">DTrace Aggregation Syntax</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch03.html">3. Scripting With the D Language</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch03.html#gcfqr">Writing D Scripts</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03.html#gcfql">Executable D Scripts</a></span></dt><dt><span class="sect2"><a href="ch03.html#gcfrj">D Literal Strings</a></span></dt><dt><span class="sect2"><a href="ch03.html#gcgke">Creating D Scripts That Use Arguments</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s02.html">DTrace Built-in Variables</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch04.html">4. Using DTrace</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch04.html#gcggv">Performance Monitoring</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch04.html#gcgfx">Examining Performance Problems With The <code class="literal">sysinfo</code> Provider</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch04s02.html">Tracing User Processes</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch04s02.html#gcglu">Using the <code class="function">copyin
</code> and <code class="function">copyinstr
</code> Subroutines</a></span></dt><dt><span class="sect2"><a href="ch04s02.html#gcgmh">Eliminating <span><strong class="command">dtrace</strong></span> Interference</a></span></dt><dt><span class="sect2"><a href="ch04s02.html#gcgld">
<code class="literal">syscall</code> Provider</a></span></dt><dt><span class="sect2"><a href="ch04s02.html#gcgma">The <code class="function">ustack
</code> Action</a></span></dt><dt><span class="sect2"><a href="ch04s02.html#gcgmc">The <code class="literal">pid</code> Provider</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch04s03.html">Anonymous Tracing</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch04s03.html#gcglb">Anonymous Enablings</a></span></dt><dt><span class="sect2"><a href="ch04s03.html#gcgkj">Claiming Anonymous State</a></span></dt><dt><span class="sect2"><a href="ch04s03.html#gcgki">Anonymous Tracing Examples</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch04s04.html">Speculative Tracing</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch04s04.html#gcgmb">Speculation Interfaces</a></span></dt><dt><span class="sect2"><a href="ch04s04.html#gcgkl">Creating a Speculation</a></span></dt><dt><span class="sect2"><a href="ch04s04.html#gcgli">Using a Speculation</a></span></dt><dt><span class="sect2"><a href="ch04s04.html#gcglw">Committing a Speculation</a></span></dt><dt><span class="sect2"><a href="ch04s04.html#gcgkq">Discarding a Speculation</a></span></dt><dt><span class="sect2"><a href="ch04s04.html#gcglc">Speculation Example</a></span></dt></dl></dd></dl></dd><dt><span class="index"><a href="ix01.html">Index</a></span></dt></dl></div><div class="list-of-tables"><p><b>List of Tables</b></p><dl><dt>1. <a href="pr01s05.html#fwbjp">Typographic
Conventions</a></dt><dt>2. <a href="pr01s06.html#fwbsz">Shell
Prompts</a></dt><dt>2.1. <a href="ch02s05.html#gcggr">DTrace Aggregating Functions</a></dt><dt>3.1. <a href="ch03.html#gcglx">DTrace Consumer Options</a></dt><dt>4.1. <a href="ch04s04.html#gcglj">DTrace Speculation Functions</a></dt></dl></div><div class="list-of-examples"><p><b>List of Examples</b></p><dl><dt>2.1. <a href="ch02.html#gcfac">Listing Probes by Specific Function</a></dt><dt>2.2. <a href="ch02.html#gcfao">Listing Probes by Specific Module</a></dt><dt>2.3. <a href="ch02.html#gcfaf">Listing Probes by Specific Name</a></dt><dt>2.4. <a href="ch02.html#gcfag">Listing Probes by Provider of Origin</a></dt><dt>2.5. <a href="ch02.html#gcfad">Multiple Providers Supporting a Specific Function
or Module</a></dt><dt>2.6. <a href="ch02s03.html#gcfbm">Enabling Probes by Module</a></dt><dt>2.7. <a href="ch02s03.html#gcfcx">Enabling Probes by Provider</a></dt><dt>2.8. <a href="ch02s03.html#gcfbu">Enabling Probes by Name</a></dt><dt>2.9. <a href="ch02s03.html#gcfcs">Enabling Probes by Fully Specified Name</a></dt><dt>2.10. <a href="ch02s04.html#gcfdz">Specifying a Probe's Action</a></dt><dt>2.11. <a href="ch02s04.html#gcfel">Tracing an Executable Name</a></dt><dt>2.12. <a href="ch02s04.html#gcfgm">Tracing A System Call's Time of Entry</a></dt><dt>2.13. <a href="ch02s04.html#gcfgt">Specifying Multiple Actions</a></dt><dt>2.14. <a href="ch02s05.html#gcgfw">Using an Aggregating Function</a></dt><dt>3.1. <a href="ch03.html#gcfqn">Running a D Script from the Command Line</a></dt><dt>3.2. <a href="ch03.html#gcfss">Using D Literal Strings With The <code class="function">trace
</code> Function</a></dt><dt>3.3. <a href="ch03.html#gcgls">PID Argument Example</a></dt><dt>4.1. <a href="ch04.html#gcgii">Using the <code class="literal">quantize</code> Aggregation
Function With the <code class="literal">sysinfo</code> Probes</a></dt><dt>4.2. <a href="ch04.html#gcgis">Finding the Source of Cross-Calls</a></dt><dt>4.3. <a href="ch04s02.html#gcgkx">
<code class="filename">userfunc.d</code>: Trace User Function
Entry and Return</a></dt><dt>4.4. <a href="ch04s02.html#gcgle">
<code class="filename">errorpath.d</code>: Trace User Function
Call Error Path</a></dt><dt>4.5. <a href="ch04s04.html#gcgmg">Typical Use of The <code class="function">speculation
</code> Function</a></dt><dt>4.6. <a href="ch04s04.html#gcgkt">
<code class="filename">specopen.d</code>: Code Flow for
Failed <code class="function">open
</code>
</a></dt></dl></div>















</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="pr01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> Preface</td></tr></table></div></body></html>
