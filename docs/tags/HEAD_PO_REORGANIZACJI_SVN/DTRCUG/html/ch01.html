<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 1. Introduction</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="DTrace User Guide"><link rel="up" href="index.html" title="DTrace User Guide"><link rel="prev" href="pr01s06.html" title="Shell Prompts
in Command Examples"><link rel="next" href="ch01s02.html" title="Architecture overview"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 1. Introduction</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pr01s06.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch01s02.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="gbwaz"></a>Chapter 1. Introduction</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="ch01.html#gbxxq">DTrace Capabilities</a></span></dt><dt><span class="sect1"><a href="ch01s02.html">Architecture overview</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch01s02.html#gcbxv">DTrace Providers</a></span></dt><dt><span class="sect2"><a href="ch01s02.html#gcbzc">DTrace Probes</a></span></dt><dt><span class="sect2"><a href="ch01s02.html#gcgkn">DTrace Predicates</a></span></dt><dt><span class="sect2"><a href="ch01s02.html#gcdxn">DTrace Actions</a></span></dt><dt><span class="sect2"><a href="ch01s02.html#gcbzh">D Scripting Language</a></span></dt></dl></dd></dl></div>





<div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gbxxq"></a>DTrace Capabilities</h2></div></div></div>

<p>The DTrace framework provides instrumentation points that are called <span class="emphasis"><em>probes</em></span>. A DTrace user can use a probe to record and display relevant
information about a kernel or user process. Each DTrace probe is activated
by a specific behavior. This probe activation is referred to as <span class="emphasis"><em>firing</em></span>.
As an example, consider a probe that fires on entry into an arbitrary kernel
function. This example probe can display the following information:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Any argument that is passed to the function</p>
</li><li>
<p>Any global variable in the kernel</p>
</li><li>
<p>A timestamp that indicates when the function was called</p>
</li><li>
<p>A stack trace that indicates the section of code that called
the function</p>
</li><li>
<p>The process that was running at the time the function was
called</p>
</li><li>
<p>The thread that made the function call</p>
</li></ul></div>
<p>When a probe fires, you can specify a particular <span class="emphasis"><em>action</em></span> for
DTrace to take. A DTrace action usually records an interesting aspect of system
behavior, such as a timestamp or a function argument.</p>
<p>Probes are implemented by <span class="emphasis"><em>providers</em></span>. A probe provider
is a kernel module that enables a given probe to fire. For example, the function
boundary tracing provider <code class="literal">fbt</code> provides entry and return
probes for almost every function in every kernel module.</p>
<p>DTrace has significant data management capabilities. These capabilities
enable DTrace users to prune the data reported by probes, avoiding the overhead
involved in generating and then filtering unwanted data. DTrace also provides
mechanisms for tracing during the boot process and for retrieving data from
a kernel crash dump. All of the instrumentation in DTrace is dynamic. Probes
are enabled discretely at the time that the probes are used, and inactive
probes present no instrumented code.</p>
<p>A DTrace <span class="emphasis"><em>consumer</em></span> is any process that interacts
with the DTrace framework. While <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">dtrace</span>
(
1M
)
</span>
</span> is the primary DTrace consumer,
other consumers exist. These additional consumers mostly consist of new versions
of existing utilities such as <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">lockstat</span>
(
1M
)
</span>
</span>.
The DTrace framework has no limit on the number of concurrent consumers.</p>
<p>The behavior of DTrace can be modified with the use of scripts that
are written in the D language, which is structured similarly to C. The D language
provides access to kernel C types and kernel static and kernel global variables.
The D language supports ANSI C operators.</p>
</div>

</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pr01s06.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch01s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Shell Prompts
in Command Examples </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Architecture overview</td></tr></table></div></body></html>
