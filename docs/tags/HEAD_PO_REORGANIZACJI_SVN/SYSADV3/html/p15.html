<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p14.html#ipv6-planning-1">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p14.html#ipv6-planning-7">Preparing the Existing Network to Support IPv6</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p14.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p16.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipv6-planning-43"></A><h3>Preparing Servers for IPv6 Support</h3>
<A NAME="indexterm-364"></A><p>Because servers are considered IPv6 hosts, by default their IPv6 addresses
are automatically configured by the Neighbor Discovery protocol. However,
many servers have multiple network interface cards (NICs) that you might want
to swap out for maintenance or replacement. When you replace one NIC, Neighbor
Discovery automatically generates a new interface ID for that NIC. This behavior
might not be acceptable for a particular server.</p>
<p>Therefore, consider manually configuring the interface ID portion of
the IPv6 addresses for each interface of the server. For instructions, refer
to <A HREF="p36.html#ipv6-config-tasks-70">How to Configure a User-Specified IPv6 Token</A>. Later, when you need to replace an existing NIC, the already
configured IPv6 address is applied to the replacement NIC.</p>
<A NAME="ipv6-planning-18"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Prepare Network Services for IPv6
Support</h3>
<ol><li><p><b>Update the following network services to support IPv6:</b></p><ul><li><p>Mail servers</p>
</li>
<li><p>NIS servers</p>
</li>
<li><p>NFS</p>
<p><hr size="1" noshade><p><b>Note - </b>LDAP supports IPv6 without requiring IPv6-specific configuration
tasks.</p>
<hr size="1" noshade></p></li>
</ul>
</li>
<li><p><b>Verify that your firewall hardware is IPv6 ready.</b></p><p>Refer
to the appropriate firewall-related documentation for instructions.</p>
</li>
<li><p><b>Verify that other services on your network have been ported to
IPv6.</b></p><p>For more information,  refer to marketing collateral and
associated documentation for the software.</p>
</li>
<A NAME="ipv6-planning-step-30"></A><li><p><b>If your site deploys the following
services, make sure that you have taken the appropriate measures for these
services:</b></p><ul><li><p>Firewalls</p>
<p>Consider strengthening the policies
that are in place for IPv4 to support IPv6. For more security considerations,
see <A HREF="p15.html#ipv6-planning-41">Security Considerations for the IPv6 Implementation</A>.</p>
</li>
<li><p>Mail</p>
<p>In the MX records for DNS, consider adding
the IPv6 address of your mail server.</p>
</li>
<li><p>DNS</p>
<p>For DNS-specific considerations, see <A HREF="p15.html#ipv6-planning-35">How to Prepare DNS for IPv6 Support</A>.</p>
</li>
<li><p>IPQoS</p>
<p><A NAME="indexterm-365"></A>Use the same Diffserv policies on a host that were used for IPv4.
For more information, see <A HREF="p188.html#ipqos-reference-3">Classifier Module</A>.</p>
</li>
</ul>
</li>
<li><p><b>Audit any network services that are offered by a node prior to
converting that node to IPv6.</b></p></li>
</ol><A NAME="ipv6-planning-35"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Prepare DNS for IPv6 Support</h3>
<A NAME="indexterm-366"></A><A NAME="indexterm-367"></A><p>The current Solaris release supports DNS resolution on both the client
side and the server side. Do the following to prepare DNS services for IPv6.</p>
<p>For more information that is related to DNS support for IPv6, refer
to <i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i>.</p>
<ol><li><p><b>Ensure that the DNS server that performs recursive name resolution
is dual-stacked (IPv4 and IPv6) or for IPv4 only.</b></p></li>
<A NAME="ipv6-planning-step-37"></A><li><p><b>On the DNS server, populate the DNS
database with relevant IPv6 database AAAA records in the forward zone. </b></p><p><hr size="1" noshade><p><b>Note - </b>Servers that run multiple critical services require special attention.
Ensure that the network is working properly. Also ensure that all critical
services are ported to IPv6. Then, add the server's IPv6 address to the DNS
database.</p>
<hr size="1" noshade></p></li>
<A NAME="ipv6-planning-step-39"></A><li><p><b>Add the associated PTR records for
the AAAA records into the reverse zone.</b></p></li>
<A NAME="ipv6-planning-step-38"></A><li><p><b>Add either IPv4 only data, or both
IPv6 and IPv4 data into the NS record that describes zones.</b></p></li>
</ol><A NAME="ipv6-planning-31"></A><h3>Planning for Tunnels in the Network Topology</h3>
<A NAME="indexterm-368"></A><p>The IPv6 implementation supports a number of tunnel configurations to
serve as transition mechanisms as your network migrates to a mix of IPv4 and
IPv6. Tunnels enable isolated IPv6 networks to communicate. Because most of
the Internet runs IPv4, IPv6 packets from your site need to travel across
the Internet through tunnels to destination IPv6 networks.</p>
<p>Here are some major scenarios for using tunnels in the IPv6 network
topology:</p>
<ul><li><p>The ISP from which you purchase IPv6 service allows you to
create a tunnel from your site's boundary router to the ISP network. <A HREF="p14.html#ipv6-planning-fig-33">Figure 4-1</A> shows such a tunnel.
In such a case, you would run a manual, IPv6 over IPv4 tunnel.</p>
</li>
<li><p>You manage a large, distributed network with IPv4 connectivity.
To connect the distributed sites that use IPv6, you can run an automatic 6to4
tunnel from the edge router of each subnet.</p>
</li>
<li><p>Sometimes, a router in your infrastructure cannot be upgraded
to IPv6. In this case, you can create a manual tunnel over the IPv4 router,
with two IPv6 routers as endpoints. </p>
</li>
</ul>
<p>For procedures for configuring tunnels, refer to <A HREF="p37.html#ipv6-config-tasks-17">Tasks for Configuring Tunnels for IPv6 Support (Task Map)</A>. For conceptual information regarding tunnels, refer to <A HREF="p62.html#ipv6-ref-47">IPv6 Tunnels</A>.</p>
<A NAME="ipv6-planning-41"></A><h3>Security Considerations for
the IPv6 Implementation</h3>
<A NAME="indexterm-369"></A><A NAME="indexterm-370"></A><p>When you introduce IPv6 into an existing network, you must take care
not to compromise the security of the site. Be aware of the following security
issues as you phase in your IPv6 implementation:</p>
<ul><li><p>The same amount of filtering is required for both IPv6 packets
and IPv4 packets.</p>
</li>
<li><p>IPv6 packets are often tunneled through a firewall. Therefore,
you should implement either of the following scenarios:</p>
<ul><li><p>Have the firewall do content inspection inside the tunnel.</p>
</li>
<li><p>Put an IPv6 firewall with similar rules at the opposite tunnel
endpoint.</p>
</li>
</ul>
</li>
<li><p>Some transition mechanisms exist that use IPv6 over UDP over
IPv4 tunnels. These mechanisms might prove dangerous by short-circuiting the
firewall.</p>
</li>
<li><p>IPv6 nodes are globally reachable from outside the enterprise
network. If your security policy prohibits public access, you must establish
stricter rules for the firewall. For example, consider configuring a stateful
firewall.</p>
</li>
</ul>
<p>This book includes security features that can be used within an IPv6
implementation.</p>
<ul><li><p>The  IP security architecture (IPsec) feature enables you
to provide cryptographic protection for IPv6 packets. For more information,
refer to <A HREF="p103.html#ipsec-ov-1">Chapter&nbsp;19, IP Security Architecture (Overview)</A>.</p>
</li>
<li><p>The Internet Key Exchange (IKE) feature enables you to use
public key authentication for IPv6 packets. For more information, refer to <A HREF="p117.html#ike-1">Chapter&nbsp;22, Internet Key Exchange (Overview)</A>.</p>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p14.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p16.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

