<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p65.html#dhcp-overview-1">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p65.html#dhcp-overview-14a">Solaris DHCP Server</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p65.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p67.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-overview-16a"></A><h3>DHCP Server Management</h3>
<p><A NAME="indexterm-1342"></A>As superuser, you can start, stop, and configure the DHCP server
with DHCP Manager or with command-line utilities described in <A HREF="p66.html#dhcp-overview-15">DHCP Command-Line Utilities</A>. Generally,
the DHCP server is configured to start automatically when the system boots,
and to stop when the system is shut down. You should not need to start and
stop the server manually under normal conditions.</p>
<A NAME="dhcp-overview-22a"></A><h3>DHCP Data Store</h3>
<p><A NAME="indexterm-1343"></A><A NAME="indexterm-1344"></A>All the data used by the Solaris DHCP server is maintained in
a data store. The data store might consist of plain text files, NIS+ tables,
or binary-format files. While configuring the DHCP service, you choose the
type of data store to be used. The section <A HREF="p69.html#chapter2-39">Choosing the DHCP Data Store</A> describes the differences between the types of
data stores. You can convert a data store from one format to another by using
DHCP Manager or the <tt>dhcpconfig</tt> command.</p>
<p>You can also move data from one DHCP server's data store to another
server's data store. You can use export and import utilities that work with
the data stores, even if the servers are using different data store formats.
You can export and import the entire content of a data store, or just some
of the data within it, using DHCP Manager or the <tt>dhcpconfig</tt> command.</p>
<p><hr size="1" noshade><p><b>Note - </b>Any database or file format can be used for DHCP data storage
if you develop your own code module to provide an interface between Solaris
DHCP (server and management tools) and the database. .</p>
<hr size="1" noshade></p><p>Within the Solaris DHCP data store are two types of tables. You can
view and manage the contents if these tables by using either DHCP Manager
or the command-line utilities. The data tables are as follows:</p><ul><li><p><tt>dhcptab</tt> <b>table</b> -
Table of configuration information that can be passed to clients.</p>
</li>
<li><p><b>DHCP network tables</b> -
Tables containing information about the DHCP and BOOTP clients that reside
on the network specified in the table name. For example, the network <tt>192.168.32.0</tt> would have a table whose name includes <tt>192_168_32_0</tt>.</p>
</li>
</ul>
<A NAME="dhcp-overview-13"></A><h4>The <tt>dhcptab</tt> Table</h4>
<p><A NAME="indexterm-1345"></A>The <tt>dhcptab</tt> table contains all the information
that clients can obtain from the DHCP server. The DHCP server scans the <tt>dhcptab</tt> table each time it starts. The file name of the <tt>dhcptab</tt> table varies according to the data store used. For example, the <tt>dhcptab</tt> table created by the NIS+ data store <tt>SUNWnisplus</tt> is <tt>SUNWnisplus1_dhcptab</tt>.</p>
<p>The DHCP protocol defines a number of standard items of information
that can be passed to clients. These items are referred to as parameters,
symbols, or options. Options are defined in the DHCP protocol by numeric codes
and text labels, but without values. Some commonly used standard options are
shown in the following table.</p>
<A NAME="dhcp-overview-tbl-19"></A><p><b>Table 12-1 </b>Sample DHCP Standard
Options</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Code</p></th><th scope="col"><p>Label</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p>1</p></td><td><p><tt>Subnet</tt></p></td><td><p>Subnet mask IP address</p></td></tr>
<tr><td><p>3</p></td><td><p><tt>Router</tt></p></td><td><p>IP address for the router</p></td></tr>
<tr><td><p>6</p></td><td><p><tt>DNSserv</tt></p></td><td><p>IP address for the DNS server</p></td></tr>
<tr><td><p>12</p></td><td><p><tt>Hostname</tt></p></td><td><p>Text string for the client host name</p></td></tr>
<tr><td><p>15</p></td><td><p><tt>DNSdmain</tt></p></td><td><p>DNS domain name</p></td></tr>
</table><p>Some options are automatically assigned values when you provide information
during server configuration. You can also explicitly assign values to other
options at a later time. Options and their values are passed to the client
to provide configuration information. For example, the option/value pair, <tt>DNSdmain=Georgia.Peach.COM</tt>, sets the client's DNS domain name to <tt>Georgia.Peach.COM</tt>.</p>
<p>Options can be grouped with other options in containers known as <b>macros</b>, which makes it easier to pass information to a client.
Some macros are created automatically during server configuration and contain
options that were assigned values during configuration. Macros can also contain
other macros.</p>
<p>The format of the <tt>dhcptab</tt> table is described in
the <tt>dhcptab</tt>(4) man
page. In DHCP Manager, all the information shown in the Options and Macros
tabs comes from the <tt>dhcptab</tt> table. See <A HREF="p67.html#dhcp-overview-19a">About DHCP Options</A> for more information
about options. See <A HREF="p67.html#dhcp-overview-9">About DHCP Macros</A> for
more information about macros.</p>
<p>Note that the <tt>dhcptab</tt> table should not be edited
manually. You should use either the <tt>dhtadm</tt> command or DHCP
Manager to create, delete, or modify options and macros.</p>
<A NAME="dhcp-overview-14"></A><h4>DHCP Network Tables</h4>
<p><A NAME="indexterm-1346"></A>A DHCP network table maps client identifiers to IP addresses and
the configuration parameters associated with each address. The format of the
network tables is described in the <tt>dhcp_network</tt>(4) man page. In DHCP Manager,
all the information shown in the Addresses tab comes from the network tables.</p>
<A NAME="dhcp-overview-4"></A><h3>DHCP Manager</h3>
<p><A NAME="indexterm-1347"></A>DHCP Manager is a graphical user interface (GUI) tool you can
use to perform all management duties associated with the DHCP service. You
can use it to manage the server as well as the data the server uses. You must
be superuser when you run DHCP Manager.</p>
<p>You can use DHCP Manager with the server in the following ways:</p><ul><li><p>Configuring and unconfiguring the DHCP server</p>
</li>
<li><p>Starting, stopping, and restarting the DHCP server</p>
</li>
<li><p>Disabling and enabling DHCP service</p>
</li>
<li><p>Customizing DHCP server settings</p>
</li>
</ul>
<p>DHCP Manager enables you to manage the IP addresses, network configuration
macros, and network configuration options in the following ways:</p><ul><li><p>Adding and deleting networks under DHCP management</p>
</li>
<li><p>Viewing, adding, modifying, deleting, and releasing IP addresses
under DHCP management</p>
</li>
<li><p>Viewing, adding, modifying, and deleting network configuration
macros</p>
</li>
<li><p>Viewing, adding, modifying, and deleting nonstandard network
configuration options</p>
</li>
</ul>
<p>DHCP Manager allows you to manage the DHCP data stores in the following
ways:</p><ul><li><p>Convert data to a new data store format</p>
</li>
<li><p>Move DHCP data from one DHCP server to another by exporting
it from the first server and importing it on the second server</p>
</li>
</ul>
<p>DHCP Manager includes extensive online help for procedures you can perform
with the tool. For more information, see <A HREF="p73.html#dhcp-admin-1">About DHCP Manager</A>.</p>
<A NAME="dhcp-overview-15"></A><h3>DHCP Command-Line Utilities</h3>
<p><A NAME="indexterm-1348"></A>All DHCP management functions can be performed by using command-line
utilities. You can run the utilities if you are logged in as superuser or
as a user assigned to the DHCP Management profile. See <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>The following table lists the utilities and describes the purpose of
each utility.</p>
<A NAME="dhcp-overview-tbl-27"></A><p><b>Table 12-2 </b>DHCP Command-Line Utilities</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Command</p></th><th scope="col"><p>Description and Purpose</p></th><th scope="col"><p>Man Page Links</p></th></tr>
<tr><td><p><tt>in.dhcpd</tt></p></td><td><p><A NAME="indexterm-1349"></A>The DHCP service daemon. Command-line arguments enable you to
set several runtime options.</p></td><td><p><tt>in.dhcpd</tt>(1M)</p></td></tr>
<tr><td><p><tt>dhcpconfig</tt></p></td><td><p><A NAME="indexterm-1350"></A>Used to configure and unconfigure a DHCP server. This utility
enables you to perform many of the functions of DHCP Manager from the command
line. This utility is primarily intended for use in scripts for sites that
want to automate some configuration functions. <tt>dhcpconfig</tt> collects
information from the server system's network topology files to create useful
information for the initial configuration.</p></td><td><p><tt>dhcpconfig</tt>(1M)</p></td></tr>
<tr><td><p><tt>dhtadm</tt></p></td><td><p><A NAME="indexterm-1351"></A>Used to add, delete, and modify configuration options and macros
for DHCP clients. This utility lets you edit the <tt>dhcptab</tt> table
indirectly, which ensures the correct format of the <tt>dhcptab</tt> table.
You should not directly edit the <tt>dhcptab</tt> table.</p></td><td><p><tt>dhtadm</tt>(1M)</p></td></tr>
<tr><td><p><tt>pntadm</tt></p></td><td><p><A NAME="indexterm-1352"></A>Used to manage the DHCP network tables. You can use this utility
to perform the following tasks:</p><ul><li><p>Add and remove IP addresses and networks under DHCP management.</p></li>
<li><p>Modify the network configuration for specified IP addresses.</p></li>
<li><p>Display information about IP addresses and networks under
DHCP management.</p></li>
</ul>
</td><td><p><tt>pntadm</tt>(1M)</p></td></tr>
</table><A NAME="dhcp-overview-6"></A><h3>Role-Based Access Control for DHCP Commands</h3>
<A NAME="indexterm-1353"></A><p>Security for the <tt>dhcpconfig</tt>, <tt>dhtadm</tt>,
and <tt>pntadm</tt> commands is determined by role-based access
control (RBAC) settings. By default, the commands can be run only by superuser.
If you want to use the commands under another user name, you must assign the
user name to the DHCP Management profile as described in <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<A NAME="dhcp-overview-7"></A><h3>DHCP Server Configuration</h3>
<p><A NAME="indexterm-1354"></A>You configure the Solaris DHCP server the first time you run DHCP
Manager on the system where you want to run the DHCP server.</p>
<p>DHCP Manager server configuration dialog boxes prompt you for essential
information needed to enable and run the DHCP server on one network. Some
default values are obtained from existing system files. If you have not configured
the system for the network, there are no default values. DHCP Manager prompts
for the following information:</p><ul><li><p>Role of the server, either as the DHCP server or as the BOOTP
relay agent</p>
</li>
<li><p>Data store type (files, binary files, NIS+, or something specific
to your site)</p>
</li>
<li><p>Data store configuration parameters for the data store type
you selected</p>
</li>
<li><p>Name service to use to update host records, if any (<tt>/etc/hosts</tt>, NIS+, or DNS)</p>
</li>
<li><p>Length of lease time and whether clients should be able to
renew leases</p>
</li>
<li><p>DNS domain name and IP addresses of DNS servers</p>
</li>
<li><p>Network address and subnet mask for the first network you
want to configure for DHCP service</p>
</li>
<li><p>Network type, either local area network (LAN) or point-to-point
network</p>
</li>
<li><p>Router discovery or the IP address of a particular router</p>
</li>
<li><p>NIS domain name and IP address of NIS servers</p>
</li>
<li><p>NIS+ domain name and IP address of NIS+ servers</p>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p65.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p67.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

