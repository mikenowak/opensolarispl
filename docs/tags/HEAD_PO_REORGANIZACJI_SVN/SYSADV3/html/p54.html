<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p50.html#ipref-8">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p52.html#ipconfig-42">Network Databases and the <tt>nsswitch.conf</tt> File</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p53.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p55.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipconfig-59"></A><h3><tt>protocols</tt> Database</h3>
<p><A NAME="indexterm-1130"></A><A NAME="indexterm-1131"></A><A NAME="indexterm-1132"></A>The <tt>protocols</tt> database lists the TCP/IP protocols
that are installed on your system and their protocol numbers. The Solaris
installation program automatically creates the database. This file seldom
requires any administration. </p>
<p>The <tt>protocols</tt>(4) man
page describes the syntax of this database. An example of the <tt>/etc/inet/protocols</tt> file follows.</p>
<A NAME="ipconfig-ex-60"></A><p><b>Example 10-9 </b><tt>/etc/inet/protocols</tt> File</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>#
# Internet (IP) protocols
#
ip    0   IP    # internet protocol, pseudo protocol number
icmp  1   ICMP  # internet control message protocol
tcp   6   TCP   # transmission control protocol
udp  17   UDP   # user datagram protocol</pre>
</td></table><br><A NAME="ipconfig-61"></A><h3><tt>services</tt> Database</h3>
<p><A NAME="indexterm-1133"></A><A NAME="indexterm-1134"></A><A NAME="indexterm-1135"></A><A NAME="indexterm-1136"></A><A NAME="indexterm-1137"></A><A NAME="indexterm-1138"></A>The <tt>services</tt> database lists the names of
TCP and UDP services and their well-known port numbers. This database is used
by programs that call network services. The Solaris installation automatically
creates the <tt>services</tt> database. Generally, this database
does not require any administration. </p>
<p><A NAME="indexterm-1139"></A>The <tt>services</tt>(4) man
page contains complete syntax information. An excerpt from a typical <tt>/etc/inet/services</tt> file follows.</p>
<A NAME="ipconfig-ex-62"></A><p><b>Example 10-10 </b><tt>/etc/inet/services</tt> File</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>#
# Network services
#
echo      7/udp
echo      7/tcp
echo      7/sctp6
discard   9/udp     sink null
discard   11/tcp
daytime   13/udp
daytime   13/tcp
netstat   15/tcp
ftp-data  20/tcp
ftp       21/tcp
telnet    23/tcp
time      37/tcp    timeserver
time      37/udp    timeserver
name      42/udp    nameserver
whois     43/tcp    nickname</pre>
</td></table><br><A NAME="ipref-13"></A><h2>Routing Protocols in the Solaris OS</h2>
<p><A NAME="indexterm-1140"></A><A NAME="indexterm-1141"></A><A NAME="indexterm-1142"></A><A NAME="indexterm-1143"></A><A NAME="indexterm-1144"></A>Solaris system software supports two routing protocols: Routing
Information Protocol (RIP) and ICMP Router Discovery (RDISC). RIP and RDISC
are both standard TCP/IP protocols. </p>
<A NAME="ipref-14"></A><h3>Routing Information Protocol (RIP)</h3>
<p><A NAME="indexterm-1145"></A><A NAME="indexterm-1146"></A><A NAME="indexterm-1147"></A><A NAME="indexterm-1148"></A><A NAME="indexterm-1149"></A>RIP is implemented by <tt>in.routed</tt>, the routing
daemon, which automatically starts when the system boots. When run on a router
with the <tt>s</tt> option specified, <tt>in.routed</tt> fills
the kernel routing table with a route to every reachable network and advertises "reachability"
through all network interfaces. </p>
<p><A NAME="indexterm-1150"></A>When run on a host with the <tt>q</tt> option
specified, <tt>in.routed</tt> extracts routing information but does
not advertise reachability. On hosts, routing information can be extracted
in two ways: </p>
<ul><li><p><A NAME="indexterm-1151"></A><A NAME="indexterm-1152"></A><A NAME="indexterm-1153"></A><A NAME="indexterm-1154"></A><A NAME="indexterm-1155"></A>Do <b>not</b> specify the <tt>S</tt> flag
(capital "S": "Space-saving mode"). <tt>in.routed</tt> builds
a full routing table exactly as it does on a router. </p>
</li>
<li><p>Specify the <tt>S</tt> flag. <tt>in.routed</tt> creates a minimal kernel table, containing a single default route
for each available router.</p>
</li>
</ul>
<A NAME="ipref-15"></A><h3>ICMP Router Discovery (RDISC) Protocol</h3>
<p><A NAME="indexterm-1156"></A><A NAME="indexterm-1157"></A><A NAME="indexterm-1158"></A>Hosts use RDISC to obtain routing information from routers. Thus,
when hosts are running RDISC, routers must also run another protocol, such
as RIP, in order to exchange router information. </p>
<p><A NAME="indexterm-1159"></A><A NAME="indexterm-1160"></A><A NAME="indexterm-1161"></A><A NAME="indexterm-1162"></A>RDISC is implemented by <tt>in.routed</tt>, which should
run on both routers and hosts. On hosts, <tt>in.routed</tt> uses
RDISC to  discover default routes from routers that advertise themselves through
RDISC.  On routers, <tt>in.routed</tt> uses RDISC to advertise default
routes to  hosts on directly-connected networks.  See the <tt>in.routed</tt>(1M) man page
and the <tt>gateways</tt>(4) man
page.</p>
<A NAME="ipref-4"></A><h2>Network Classes</h2>
<p><hr size="1" noshade><p><b>Note - </b>Class-based network numbers are no longer available from the IANA,
though many older networks are still class-based.</p>
<hr size="1" noshade></p><p>This section provides details about IPv4 network classes. Each class
uses the 32-bit IPv4 address space differently, providing more or fewer bits
for the network part of the address. These classes are class A, class B, and
class C.</p>
<A NAME="ipref-5"></A><h3>Class A Network Numbers</h3>
<p><A NAME="indexterm-1163"></A><A NAME="indexterm-1164"></A><A NAME="indexterm-1165"></A>A class A network number uses the first 8 bits of the IPv4 address
as its "network part." The remaining 24 bits contain the host
part of the IPv4 address, as the following figure illustrates. </p>
<A NAME="ipplan-fig-13"></A><p><b>Figure 10-3 </b>Byte Assignment in a Class A Address</p>
<IMG src="figures/ipplan.fig140.gif" class="figure" alt="Diagram shows bits 0-7 is network part and remaining
24 bits are host part of a 32 bit IPv4 Class A address." title="Diagram shows bits 0-7 is network part and remaining
24 bits are host part of a 32 bit IPv4 Class A address."><p>The values that are assigned to the first byte of class A network numbers
fall within the range 0-127. Consider the IPv4 address <tt>75.4.10.4</tt>.
The value 75 in the first byte indicates that the host is on a class A network.
The remaining bytes, <tt>4.10.4</tt>, establish the host address.
Only the first byte of a class A number is registered with the IANA. Use of
the remaining three bytes is left to the discretion of the owner of the network
number. Only 127 class A networks exist. Each one of these numbers can accommodate
a maximum of 16,777,214 hosts.</p>
<A NAME="ipref-6"></A><h3>Class B Network Numbers</h3>
<p><A NAME="indexterm-1166"></A><A NAME="indexterm-1167"></A><A NAME="indexterm-1168"></A>A class B network number uses 16 bits for the network number and
16 bits for host numbers. The first byte of a class B network number is in
the range 128-191. In the number <tt>172.16.50.56</tt>, the
first two bytes, <tt>172.16</tt>, are registered with the IANA,
and compose the network address. The last two bytes, <tt>50.56</tt>,
contain the host address, and are assigned at the discretion of the owner
of the network number. The following figure graphically illustrates a class
B address. </p>
<A NAME="ipplan-fig-16"></A><p><b>Figure 10-4 </b>Byte Assignment in a Class B Address</p>
<IMG src="figures/ipplan.fig139.gif" class="figure" alt="Diagram shows bits 0-15 is network part and remaining
16 bits are host part of a 32 bit IPv4 Class B address." title="Diagram shows bits 0-15 is network part and remaining
16 bits are host part of a 32 bit IPv4 Class B address."><p><A NAME="indexterm-1169"></A><A NAME="indexterm-1170"></A><A NAME="indexterm-1171"></A>Class B is typically assigned to organizations with many hosts
on their networks. </p>
<A NAME="ipref-7"></A><h3>Class C Network Numbers</h3>
<p><A NAME="indexterm-1172"></A><A NAME="indexterm-1173"></A><A NAME="indexterm-1174"></A>Class C network numbers use 24 bits for the network number and
8 bits for host numbers. Class C network numbers are appropriate for networks
with few hosts--the maximum being 254. A class C network number occupies
the first three bytes of an IPv4 address. Only the fourth byte is assigned
at the discretion of the network owners. The following figure graphically
represents the bytes in a class C address. </p>
<A NAME="ipplan-fig-19"></A><p><b>Figure 10-5 </b>Byte Assignment in a Class C Address</p>
<IMG src="figures/ipplan.fig145.gif" class="figure" alt="Diagram shows bits 0-23 is network part and remaining
8 bits are host part of a 32 bit IPv4 Class C address." title="Diagram shows bits 0-23 is network part and remaining
8 bits are host part of a 32 bit IPv4 Class C address."><p>The first byte of a class C network number covers the range 192-223.
The second and third bytes each cover the range 1- 255. A typical class
C address might be <tt>192.168.2.5</tt>. The first three bytes, <tt>192.168.2</tt>, form the network number. The final byte in this example, <tt>5</tt>, is the host number.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p53.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p55.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

