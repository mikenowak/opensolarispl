<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p33.html#ipv6-config-tasks-1">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p36.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p38.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipv6-config-tasks-17"></A><h2>Tasks for Configuring
Tunnels for IPv6 Support (Task Map)</h2>
<A NAME="indexterm-756"></A>
<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Manually configure IPv6 over IPv4 tunnels.</p></td><td><p>Manually creates an IPv6 tunnel over a IPv4 network, a solution for
reaching remote IPv6 networks within a larger, mostly IPv4 enterprise network.</p></td><td><p><A HREF="p37.html#ipv6-config-tasks-20">How to Manually Configure IPv6 Over IPv4 Tunnels</A>&nbsp;</p></td></tr>
<tr><td><p>Manually configure IPv6 over IPv6 tunnels.</p></td><td><p>Manually configures an IPv6 tunnel over an IPv6 network, typically used
within a large enterprise network.</p></td><td><p><A HREF="p37.html#ipv6-config-tasks-37">How to Manually Configure IPv6 Over IPv6 Tunnels</A>&nbsp;</p></td></tr>
<tr><td><p>Manually configure IPv4 over IPv6 tunnels.</p></td><td><p>Manually configures an IPv4 tunnel over an IPv6 network, useful for
large networks with both IPv4 and IPv6 networks.</p></td><td><p><A HREF="p37.html#ipv6-config-tasks-40">How to Configure IPv4 Over IPv6 Tunnels</A>&nbsp;</p></td></tr>
<tr><td><p>Automatically configure IPv6 over IPv4 tunnels (6to4 tunnels).</p></td><td><p>Create an automatic, 6to4 tunnel, a solution for reaching an external
IPv6 site over the Internet.</p></td><td><p><A HREF="p38.html#ipv6-config-tasks-24">How to Configure a 6to4 Tunnel</A>&nbsp;</p></td></tr>
<tr><td><p>Configure a tunnel between a 6to4 router and a 6to4 relay router.</p></td><td><p>Enables a tunnel to a 6to4 relay router by using the <tt>6to4relay</tt> command.</p></td><td><p><A HREF="p39.html#ipv6-config-tasks-48">How to Configure a 6to4 Tunnel to a 6to4 Relay Router</A>&nbsp;</p></td></tr>
</table><A NAME="ipv6-config-tasks-16"></A><h2>Configuring
Tunnels for IPv6 Support</h2>
<p>IPv6 networks are often isolated entities within the larger IPv4 world.
Nodes on your IPv6 network might need to communicate with nodes on isolated
IPv6 networks, either within your enterprise or remotely. Typically, you configure
a tunnel between IPv6 routers, although IPv6 hosts can also function as tunnel
endpoints. For tunnel planning information, refer to <A HREF="p15.html#ipv6-planning-31">Planning for Tunnels in the Network Topology</A>.</p>
<p>You can set up automatically or manually configured tunnels for the
IPv6 network. The Solaris IPv6 implementation supports the following types
of tunnel encapsulation:</p>
<ul><li><p>IPv6 over IPv4 tunnels</p>
</li>
<li><p>IPv6 over IPv6 tunnels</p>
</li>
<li><p>IPv4 over IPv6 tunnels</p>
</li>
<li><p>6to4 tunnels</p>
</li>
</ul>
<p>For conceptual descriptions of tunnels, see <A HREF="p62.html#ipv6-ref-47">IPv6 Tunnels</A>.</p>
<A NAME="ipv6-config-tasks-20"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Manually Configure IPv6 Over
IPv4 Tunnels</h3>
<A NAME="indexterm-757"></A><A NAME="indexterm-758"></A><p>This procedure describes how to set up a tunnel from an IPv6 node to
a remote IPv6 node over an IPv4 network.</p>
<ol><li><p><b>Log in to the local tunnel endpoint as Primary Administrator or
as superuser.</b></p><p>The Primary Administrator role includes the Primary
Administrator profile. To create the role and assign the role to a user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<li><p><b>Create the <tt>/etc/hostname6.ip.tun</tt><i>n</i> file. <A NAME="indexterm-759"></A><A NAME="indexterm-760"></A></b></p><p>where <i>n</i> represents the
tunnel number, beginning at zero for the first tunnel.  Then, add entries
by following these substeps:</p>
<ol Type="a"><li><p><b>Add the tunnel source address and the tunnel destination address.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>tsrc <i>IPv4-source-address</i> tdst <i>IPv4-destination-address</i> up</pre>
</td></table><br></li>
<li><p><b>(Optional) Add a logical interface for the source IPv6 address
and the destination IPv6 addresses.<A NAME="indexterm-761"></A></b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>addif <i>IPv6-source-address</i>  <i>IPv6-destination-address</i> </pre>
</td></table><br><p>Omit this substep if you want the address autoconfigured for this interface.
You do not need to configure link-local addresses for your tunnel.</p>
</li>
</ol>
</li>
<A NAME="ipv6-config-tasks-step-83"></A><li><p><b>Reboot the system.</b></p></li>
<A NAME="ipv6-config-tasks-step-84"></A><li><p><b>Repeat this task on the opposite
endpoint of the tunnel.</b></p></li>
</ol><A NAME="ipv6-config-tasks-36"></A><h5>Example 7-7 &nbsp;&nbsp;Entry in the <tt>/etc/hostname6.ip.tun</tt> File for a
Manual, IPv6 Over IPv4 Tunnel</h5>
<A NAME="indexterm-762"></A><A NAME="indexterm-763"></A><p>This sample <tt>/etc/hostname6.ip.tun</tt> file shows a
tunnel for which global source addresses and global destination addresses
are manually configured. </p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>tsrc 192.168.8.20 tdst 192.168.7.19 up
addif 2001:db8:3c4d:8::fe12:528 2001:db8:3c4d:7:a00:20ff:fe12:1234</pre>
</td></table><br><A NAME="ipv6-config-tasks-37"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Manually Configure IPv6 Over
IPv6 Tunnels</h3>
<p>This procedure describes how to set up a tunnel from an IPv6 node to
a remote IPv6 node over an IPv6 network.<A NAME="indexterm-764"></A></p>
<ol><li><p><b>Log in to the local tunnel endpoint as Primary Administrator or
as superuser.</b></p><p>The Primary Administrator role includes the Primary
Administrator profile. To create the role and assign the role to a user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<li><p><b>Create the <tt>/etc/hostname6.ip6.tun</tt> <i>n</i> file. </b></p><p>Use the values 0, 1, 2, and so on, for <i>n</i>. Then, add entries by following these substeps.</p>
<ol Type="a"><li><p><b>Add the tunnel source address and the tunnel destination address.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>tsrc <i>IPv6-source-address</i> tdst <i>IPv6-destination-address</i>
<i>IPv6-packet-source-address</i> <i>IPv6-packet-destination-address</i> up</pre>
</td></table><br></li>
<li><p><b>(Optional) Add a logical interface for the source IPv6 address
and destination IPv6 address.<A NAME="indexterm-765"></A></b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>addif <i>IPv6-source-address</i>  <i>IPv6-destination-address</i> up</pre>
</td></table><br><p>Omit this step if you want the address autoconfigured for this interface.
You do not need to configure link-local addresses for your tunnel. </p>
</li>
</ol>
</li>
<A NAME="ipv6-config-tasks-step-86"></A><li><p><b>Reboot the system.</b></p></li>
<A NAME="ipv6-config-tasks-step-87"></A><li><p><b>Repeat this procedure at the opposite
endpoint of the tunnel.</b></p></li>
</ol><A NAME="eojaz"></A><h5>Example 7-8 &nbsp;&nbsp;Entry in the <tt>/etc/hostname6.ip6.tun</tt> File for an
IPv6 Over IPv6 Tunnel</h5>
<p><A NAME="indexterm-766"></A><A NAME="indexterm-767"></A>This example shows the entry for an IPv6 over IPv6 tunnel.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>tsrc 2001:db8:3c4d:22:20ff:0:fe72:668c tdst 2001:db8:3c4d:103:a00:20ff:fe9b:a1c3
fe80::4 fe80::61 up</pre>
</td></table><br><A NAME="ipv6-config-tasks-40"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Configure IPv4 Over IPv6 Tunnels</h3>
<p>This procedure explains how to configure a tunnel between two IPv4 hosts
over an IPv6 network. You would use this procedure if your corporate network
is heterogeneous, with IPv6 subnets that separate IPv4 subnets.<A NAME="indexterm-768"></A></p>
<ol><li><p><b>Log in to the local IPv4 tunnel endpoint as Primary Administrator
or as superuser.</b></p><p>The Primary Administrator role includes the Primary
Administrator profile. To create the role and assign the role to a user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<li><p><b>Create the <tt>/etc/hostname.ip6.tun</tt><i>n</i> file. </b></p><p>Use the values 0, 1, 2, and    so on, for <i>n</i>.
Then, add entries by following these steps:</p>
<ol Type="a"><li><p><b>Add the tunnel source address and the tunnel destination address.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>tsrc <i>IPv6-source-address</i> tdst <i>IPv6-destination-address</i></pre>
</td></table><br></li>
<li><p><b>(Optional) Add a logical interface for the source IPv6 address
and destination IPv6 address.<A NAME="indexterm-769"></A><A NAME="indexterm-770"></A><A NAME="indexterm-771"></A></b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>addif <i>IPv6-source-address</i>  <i>IPv6-destination-address</i> up</pre>
</td></table><br></li>
</ol>
</li>
<A NAME="ipv6-config-tasks-step-89"></A><li><p><b>Reboot the local host.</b></p></li>
<A NAME="ipv6-config-tasks-step-90"></A><li><p><b>Repeat this procedure at the opposite
endpoint of the tunnel.</b></p></li>
</ol><A NAME="eojaw"></A><h5>Example 7-9 &nbsp;&nbsp;Entry in the <tt>/etc/hostname6.ip6.tun</tt> for an IPv4
Over IPv6 Tunnel</h5>
<p>This example shows the entry for an IPv4 over IPv6 tunnel.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>tsrc 2001:db8:3c4d:114:a00:20ff:fe72:668c tdst 2001:db8:3c4d:103:a00:20ff:fe9b:a1c3
10.0.0.4 10.0.0.61 up</pre>
</td></table><br>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p36.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p38.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

