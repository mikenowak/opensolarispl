<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p85.html#dhcp-admin-206">Working With DHCP Options (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p86.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p88.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-admin-260"></A><h3>Deleting DHCP Options</h3>
<A NAME="indexterm-1487"></A><A NAME="indexterm-1488"></A><A NAME="indexterm-1489"></A><p>You cannot delete standard DHCP options. However, if you have defined
options for your DHCP service, you can delete these options by using DHCP
Manager or the <tt>dhtadm</tt> command.</p>
<A NAME="dhcp-admin-48art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Delete DHCP Options (DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-311"></A><li><p><b>In DHCP Manager, select the Options tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<li><p><b>Select the option that you want to delete.</b></p></li>
<A NAME="dhcp-admin-step-312sm"></A><li><p><b>Choose Delete from the Edit menu.</b></p><p>The Delete Option dialog box opens.</p>
</li>
<li><p><b>Select Notify DHCP Server of Change if you are finished deleting
options.</b></p><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table to put the change into effect immediately after you
click OK.</p>
</li>
<A NAME="dhcp-admin-step-313"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-49art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Delete DHCP Options (<tt>dhtadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-317"></A><li><p><b>Delete a DHCP option by typing a command
using the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhtadm -D -s </tt><i>option-name<tt></i> -g</b></tt></pre>
</td></table><br></li>
</ol><A NAME="dhcp-admin-49"></A><h3>Modifying the Solaris DHCP Client's Option
Information</h3>
<p><A NAME="indexterm-1490"></A>If you add a new DHCP option to your DHCP server, you must add
a complementary entry to each DHCP client's option information. If you have
a DHCP client that is not a Solaris DHCP client, refer to that client's documentation
for information about adding options or symbols.</p>
<p><A NAME="indexterm-1491"></A>On a Solaris DHCP client, you must edit the <tt>/etc/dhcp/inittab</tt> file and add an entry for each option that you add to the DHCP
server. If you later modify the option on the server, you must also modify
the entry in the client's <tt>/etc/dhcp/inittab</tt> file.</p>
<p>Refer to the <tt>dhcp_inittab</tt>(4) man page for detailed information about the syntax
of the <tt>/etc/dhcp/inittab</tt> file.</p>
<p><hr size="1" noshade><p><b>Note - </b>If you added DHCP options to the <tt>dhcptags</tt> file
in a previous Solaris release, you must add the options to the <tt>/etc/dhcp/inittab</tt> file. See <A HREF="p101.html#dhcp-ref-9">DHCP Option Information</A> for
more information.</p>
<hr size="1" noshade></p><A NAME="dhcp-admin-38"></A><h2>Supporting Solaris Network Installation With
the DHCP Service</h2>
<A NAME="indexterm-1492"></A><p>You can use DHCP to install the Solaris Operating System on certain
client systems on your network. Only <tt>sun4u</tt>-based systems
and x86 systems that meet the hardware requirements for running the Solaris
OS can use this feature. For information about using DHCP to automatically
configure client systems for the network as they boot, see Chapter 2, "Preconfiguring System Configuration Information (Tasks)," in <i>Solaris Express Installation Guide: Network-Based Installations</i>.</p>
<p><A NAME="indexterm-1493"></A>DHCP also supports Solaris client systems that boot and install
remotely from servers across a wide area network (WAN) using HTTP. This method
of remote booting and installing is called the <b>WAN boot installation</b> method.
Using WAN boot, you can install the Solaris OS on SPARC based systems over
a large public network where the network infrastructure might be untrustworthy.
You can use WAN boot with security features to protect data confidentiality
and installation image integrity.</p>
<p>Before you can use DHCP for booting and installing client systems remotely
using WAN boot, the DHCP server must be configured to supply the following
information to clients:</p><ul><li><p>The proxy server's IP address</p>
</li>
<li><p>The location of the <tt>wanboot--cgi</tt> program</p>
</li>
</ul>
<p>For details about configuring the DHCP server to provide this information,
see Chapter 2, "Preconfiguring System Configuration Information (Tasks)," in <i>Solaris Express Installation Guide: Network-Based Installations</i>. For information about
booting and installing client systems with a DHCP server across a WAN, see Chapter 9, "WAN Boot (Overview)," in <i>Solaris Express Installation Guide: Network-Based Installations</i>.</p>
<p>For information about supporting diskless clients, see <A HREF="p87.html#dhcp-admin-122">Supporting Remote Boot and Diskless Boot Clients (Task Map)</A>.</p>
<A NAME="dhcp-admin-122"></A><h2>Supporting Remote Boot and Diskless Boot
Clients (Task Map)</h2>
<p><A NAME="indexterm-1494"></A><A NAME="indexterm-1495"></A>The Solaris DHCP service can support Solaris client systems that
mount their operating system files remotely from another machine (the OS server).
Such clients are often called <b>diskless clients</b>. Diskless
clients can be thought of as persistent remote boot clients. Each time a diskless
client boots,  the client must obtain the name and IP address of the server
that hosts the client's operating system files. The diskless client can then
boot remotely from those files.</p>
<p>Each diskless client has its own root partition on the OS server, which
is shared to the client host name. The DHCP server must always return the
same IP address to a diskless client. That address must remain mapped to the
same host name in the name service, such as DNS. When a diskless client receives
a consistent IP address, the client uses a consistent host name, and can access
its root partition on the OS server.</p>
<p><A NAME="indexterm-1496"></A>In addition to providing the IP address and host name, the DHCP
server can supply the location of the diskless client's operating system files.
However, you must create options and macros to pass the information in a DHCP
message packet.</p>
<p><A NAME="indexterm-1497"></A>The following task map lists the tasks required to support diskless
clients or any other persistent remote boot clients. The task map also provides
links to procedures to help you carry out the tasks.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Set up OS services on a Solaris server.</p></td><td><p>Use the <tt>smosservice</tt> command to create operating system
files for clients.</p></td><td><p>Chapter 7, "Managing Diskless Clients (Tasks)," in <i>System Administration Guide: Basic Administration</i> </p><p>Also, see the <tt>smosservice</tt>(1M) man page.</p></td></tr>
<tr><td><p>Set up the DHCP service to support network boot clients.</p></td><td><p>Use DHCP Manager or the <tt>dhtadm</tt> command to create
new Vendor options and macros, which the DHCP server can use to pass booting
information to the clients.</p><p>If you already created the options for network install clients, you
need only to create macros for the Vendor client types of the diskless clients.</p></td><td><p>Chapter 2, "Preconfiguring System Configuration Information (Tasks)," in <i>Solaris Express Installation Guide: Network-Based Installations</i></p></td></tr>
<tr><td><p>Assign reserved IP addresses to the diskless clients.</p></td><td><p>Use DHCP Manager to mark address as reserved, or use the <tt>pntadm</tt> command
to mark addresses as <tt>MANUAL</tt> for diskless clients.</p></td><td><p><A HREF="p82.html#dhcp-admin-161">Assigning a Reserved IP Address to a DHCP Client</A>&nbsp;</p></td></tr>
<tr><td><p>Set up diskless clients for OS service.</p></td><td><p>Use the <tt>smdiskless</tt> command to add operating system
support on the OS server for each client. Specify the IP addresses that you
reserved for each client.</p></td><td><p>Chapter 7, "Managing Diskless Clients (Tasks)," in <i>System Administration Guide: Basic Administration</i></p><p>Also, see the <tt>smdiskless</tt>(1M) man page.</p></td></tr>
</table><A NAME="dhcp-admin-1211"></A><h2>Setting Up DHCP Clients to Receive Information
Only (Task Map)</h2>
<A NAME="indexterm-1498"></A><p>In some networks, you might want the DHCP service to provide only configuration
information to clients. Client systems that need information, not leases,
can use the DHCP client to issue an <tt>INFORM</tt> message. The <tt>INFORM</tt> message asks the DHCP server to send the appropriate configuration
information to the client.</p>
<p>You can set up the Solaris DHCP server to support clients that need
information only. You need to create an empty network table that corresponds
to the network that is hosting the clients. The table must exist so that the
DHCP server can respond to clients from that network.</p>
<p><A NAME="indexterm-1499"></A>The following task map lists the tasks required to support information-only
clients. The task map also includes links to procedures to help you carry
out the tasks.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Create an empty network table.</p></td><td><p>Use DHCP Manager or the <tt>pntadm</tt> command to create
a network table for the information-only clients' network.</p></td><td><p><A HREF="p78.html#dhcp-admin-17">Adding DHCP Networks</A>&nbsp;</p></td></tr>
<tr><td><p>Create macros to contain information that is needed by clients.</p></td><td><p>Use DHCP Manager or the <tt>dhtadm</tt> command to create
macros to pass the required information to clients.</p></td><td><p><A HREF="p84.html#dhcp-admin-75">Creating DHCP Macros</A>&nbsp;</p></td></tr>
<tr><td><p>Have the DHCP client issue an <tt>INFORM</tt> message.</p></td><td><p>Use the <tt>ifconfig <i>int</i> dhcp inform</tt> command
to make the DHCP client issue an <tt>INFORM</tt> message.</p></td><td><p><A HREF="p90.html#dhcp-overview-31a">DHCP Client Startup</A>&nbsp;</p><p><A HREF="p91.html#dhcp-overview-21"><tt>ifconfig</tt> Command Options Used With the DHCP Client</A>&nbsp;</p><p><tt>ifconfig</tt>(1M)man
page</p></td></tr>
</table><A NAME="dhcp-admin-cv1211"></A><h2>Converting to a New DHCP Data Store</h2>
<A NAME="indexterm-1500"></A><A NAME="indexterm-1501"></A><p>Solaris DHCP provides a utility to convert the DHCP configuration data
from one data store to another data store. Several reasons might exist for
converting to a new data store. For example, you might have more DHCP clients,
requiring higher performance or higher capacity from the DHCP service. You
also might  want to share the DHCP server duties among multiple servers. See <A HREF="p69.html#chapter2-39">Choosing the DHCP Data Store</A> for a comparison
of the relative benefits and drawbacks of each type of data store.</p>
<p><hr size="1" noshade><p><b>Note - </b>If you upgraded from a Solaris release that is older than the
Solaris 8 7/01 release, you should read this note.</p>
<p>When you run
any Solaris DHCP tool after Solaris installation, you are prompted to convert
to the new data store. The conversion is required because the format of the
data stored in both files and NIS+ changed in the Solaris 8 7/01 release.
If you do not convert to the new data store, the DHCP server continues to
read the old data tables. However, the server can only extend leases for existing
clients. You cannot register new DHCP clients or use DHCP management tools
with the old data tables.</p>
<hr size="1" noshade></p><p>The conversion utility is also useful for sites that are converting
from a Sun provided data store to a third-party data store. The conversion
utility looks up entries in the existing data store and adds new entries that
contain the same data to the new data store. Data store access is implemented
in separate modules for each data store. This modular approach enables the
conversion utility to convert DHCP data from any data store format to any
other data store format. Each data store must have a module that the DHCP
service can use. </p>
<p>The data store conversion can be accomplished with DHCP Manager through
the Data Store Conversion wizard, or with the <tt>dhcpconfig -C</tt> command.</p>
<p>The initial dialog box of the Data Store Conversion wizard is shown
in the following figure.</p>
<A NAME="dhcp-admin-fig-335"></A><p><b>Figure 15-19 </b>Data Store Conversion Wizard Dialog
Box in DHCP Manager</p>
<IMG src="figures/dhcp-convert-wiz.gif" class="figure" alt="Dialog box lists steps to convert to a new data store.
Shows new data store options. Shows back and forward, Cancel, and Help buttons." title="Dialog box lists steps to convert to a new data store.
Shows new data store options. Shows back and forward, Cancel, and Help buttons."><p>Before the conversion begins, you must specify whether to save the old
data store's tables <tt>(dhcptab</tt> and network tables). The conversion
utility then stops the DHCP server, converts the data store, and restarts
the server when the conversion has completed successfully. If you did not
specify to save the old tables, the utility deletes the tables after determining
the conversion is successful. The process of converting can be time-consuming.
The conversion runs in the background with a meter to inform you of its progress. </p>
<A NAME="dhcp-admin-572"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Convert the DHCP Data Store (DHCP
Manager)</h3>
<ol><A NAME="dhcp-admin-step-574"></A><li><p><b>In DHCP Manager, choose Convert Data
Store from the Service menu.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information about DHCP Manager.</p>
<p>The Data Store Conversion wizard opens.</p>
</li>
<A NAME="dhcp-admin-step-575"></A><li><p><b>Answer the wizard's prompts.</b></p><p>If
you have trouble providing the requested information, click Help to view detailed
information about each dialog box.</p>
</li>
<li><p><b>Review your selections, and then click Finish to convert the data
store.</b></p><p>The DHCP server restarts when the conversion is complete.
The server immediately uses the new data store.</p>
</li>
</ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p86.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p88.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

