<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p145.html#mipimplementing-1">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p145.html#mipimplementing-2">Creating the Mobile IP Configuration File</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p145.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p147.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="mipimplementing-67"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Configure the <tt>Advertisements</tt> Section</h3>
<p><A HREF="p152.html#mipmanaging-13"><tt>Advertisements</tt> Section</A> provides descriptions
of the labels and values that are used in this section.</p>
<ul><A NAME="mipimplementing-step-80"></A><li><p><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file and add or change the following lines by using the values that are
required for your configuration.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Advertisements <i>interface</i>]
     HomeAgent = &lt;yes/no>
     ForeignAgent = &lt;yes/no>
     PrefixFlags = &lt;yes/no>
     AdvertiseOnBcast = &lt;yes/no>
     RegLifetime = <i>n</i>
     AdvLifetime = <i>n</i>
     AdvFrequency = <i>n</i>
     ReverseTunnel = &lt;yes/no/FA/HA/both>
     ReverseTunnelRequired = &lt;yes/no/FA/HA></pre>
</td></table><br><p><hr size="1" noshade><p><b>Note - </b><A NAME="indexterm-2636"></A><A NAME="indexterm-2637"></A><A NAME="indexterm-2638"></A><A NAME="indexterm-2639"></A><A NAME="indexterm-2640"></A><A NAME="indexterm-2641"></A><A NAME="indexterm-2642"></A><A NAME="indexterm-2643"></A><A NAME="indexterm-2644"></A>You must include
a different <tt>Advertisements</tt> section for each interface on the local
host that provides Mobile IP services.</p>
<hr size="1" noshade></p></li>
</ul><A NAME="mipimplementing-68"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Configure the <tt>GlobalSecurityParameters</tt> Section</h3>
<p><A NAME="indexterm-2645"></A><A NAME="indexterm-2646"></A><A NAME="indexterm-2647"></A><A NAME="indexterm-2648"></A><A NAME="indexterm-2649"></A><A HREF="p153.html#mipmanaging-16"><tt>GlobalSecurityParameters</tt> Section</A> provides descriptions of the labels and values that are used in this
section.</p>
<ul><A NAME="mipimplementing-step-82"></A><li><p><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file and add or change the following lines by using the values that are
required for your configuration:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[GlobalSecurityParameters]
     MaxClockSkew = <i>n</i>
     HA-FAauth = &lt;yes/no>
     MN-FAauth = &lt;yes/no>
     Challenge = &lt;yes/no>
     KeyDistribution = files</pre>
</td></table><br></li>
</ul><A NAME="mipimplementing-70"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Configure the <tt>Pool</tt> Section</h3>
<p><A NAME="indexterm-2650"></A><A NAME="indexterm-2651"></A><A HREF="p153.html#mipmanaging-17"><tt>Pool</tt> Section</A> provides descriptions of the labels and values that are used
in this section:</p>
<ol><A NAME="mipimplementing-step-86"></A><li><p><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file</b></p></li>
<li><p><b>Add or change the following lines by using the values that are required
for your configuration:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Pool <i>pool-identifier</i>]
     BaseAddress = <i>IP-address</i>
     Size = <i>size</i></pre>
</td></table><br></li>
</ol><A NAME="mipimplementing-69"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Configure the <tt>SPI</tt> Section</h3>
<p><A HREF="p153.html#mipmanaging-14"><tt>SPI</tt> Section</A> provides descriptions
of the labels and values that are used in this section.</p>
<ol><A NAME="mipimplementing-step-84"></A><li><p><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file. </b></p></li>
<li><p><b>Add or change the following lines by using the values that are required
for your configuration:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[SPI <i>SPI-identifier</i>]
     ReplayMethod = &lt;none/timestamps>
     Key = <i>key</i></pre>
</td></table><br><p><hr size="1" noshade><p><b>Note - </b><A NAME="indexterm-2652"></A><A NAME="indexterm-2653"></A><A NAME="indexterm-2654"></A>You must include a different <tt>SPI</tt> section
for each security context that is deployed.</p>
<hr size="1" noshade></p></li>
</ol><A NAME="mipimplementing-71"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Configure the <tt>Address</tt> Section</h3>
<p><A HREF="p153.html#mipmanaging-15"><tt>Address</tt> Section</A> provides descriptions
of the labels and values that are used in this section.</p>
<ol><A NAME="mipimplementing-step-88"></A><li><p><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file.</b></p></li>
<li><p><b>Add or change the following lines by using the values that are required
for your configuration:</b></p><ul><li><p><A NAME="indexterm-2655"></A><b>For a mobile node,
use the following:</b></p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Address <i>address</i>]
     Type = node
     SPI = SPI-identifier</pre>
</td></table><br></li>
<li><p><b>For an agent, use the following:</b></p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Address <i>address</i>]
     Type = agent
     SPI = <i>SPI-identifier</i>
     IPsecRequest = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]
     IPsecReply = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]
     IPsecTunnel = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]</pre>
</td></table><br><p>where <i>action</i> and <i>{properties}</i> are
any action and associated properties that are defined in the <tt>ipsec</tt>(7P) man page.</p>
<p><hr size="1" noshade><p><b>Note - </b><A NAME="indexterm-2656"></A><A NAME="indexterm-2657"></A>The SPI that is configured previously corresponds to the MD5 protection
mechanism that is required by RFC 2002. The SPI that is configured previously does
not correspond to the SPI that is used by IPsec. For more information about IPsec,
see <A HREF="p103.html#ipsec-ov-1">Chapter&nbsp;19, IP Security Architecture (Overview)</A> and <A HREF="p107.html#ipsec-mgtasks-1">Chapter&nbsp;20, Configuring IPsec (Tasks)</A>. Also see the <tt>ipsec</tt>(7P) man
page.</p>
<hr size="1" noshade></p></li>
<li><p><A NAME="indexterm-2658"></A><A NAME="indexterm-2659"></A><A NAME="indexterm-2660"></A><b>For a mobile node that is identified by its NAI,
use the following:</b></p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Address <i>NAI</i>]
     Type = Node
     SPI = <i>SPI-identifier</i>
     Pool = <i>pool-identifier</i></pre>
</td></table><br></li>
<li><p><b>For a default mobile node, use the following:</b></p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Address Node-Default]
     Type = Node
     SPI = <i>SPI-identifier</i>
     Pool = <i>pool-identifier</i></pre>
</td></table><br></li>
</ul>
</li>
</ol><A NAME="ettmw"></A><h2>Modifying the Mobile IP Configuration File (Task Map)</h2>
<A NAME="indexterm-2661"></A>
<table cellspacing="5" border="1">
<tr><td><p>Task</p></td><td><p>Description</p></td><td><p>For Instructions</p></td></tr>
<tr><td><p>Modify the <tt>General</tt> section.</p></td><td><p>Uses the <tt>mipagentconfig</tt> <tt>change</tt> command
to change the value of a label in the <tt>General</tt> section of the Mobile
IP configuration file.</p></td><td><p><A HREF="p147.html#mipimplementing-6">How to Modify the <tt>General</tt> Section</A>&nbsp;</p></td></tr>
<tr><td><p>Modify the <tt>Advertisements</tt> section.</p></td><td><p>Uses the <tt>mipagentconfig</tt> <tt>change</tt> command
to change the value of a label in the <tt>Advertisements</tt> section of
the Mobile IP configuration file.</p></td><td><p><A HREF="p147.html#mipimplementing-12">How to Modify the <tt>Advertisements</tt> Section</A>&nbsp;</p></td></tr>
<tr><td><p>Modify the <tt>GlobalSecurityParameters</tt> section.</p></td><td><p>Uses the <tt>mipagentconfig</tt> <tt>change</tt> command
to change the value of a label in the <tt>GlobalSecurityParameters</tt> section
of the Mobile IP configuration file.</p></td><td><p><A HREF="p147.html#mipimplementing-17">How to Modify the <tt>GlobalSecurityParameters</tt> Section</A>&nbsp;</p></td></tr>
<tr><td><p>Modify the <tt>Pool</tt> section.</p></td><td><p>Uses the <tt>mipagentconfig</tt> <tt>change</tt> command
to change the value of a label in the <tt>Pool</tt> section of the Mobile
IP configuration file.</p></td><td><p><A HREF="p147.html#mipimplementing-27">How to Modify the <tt>Pool</tt> Section</A>&nbsp;</p></td></tr>
<tr><td><p>Modify the <tt>SPI</tt> section.</p></td><td><p>Uses the <tt>mipagentconfig</tt> <tt>change</tt> command
to change the value of a label in the <tt>SPI</tt> section of the Mobile
IP configuration file.</p></td><td><p><A HREF="p147.html#mipimplementing-22">How to Modify the <tt>SPI</tt> Section</A>&nbsp;</p></td></tr>
<tr><td><p>Modify the <tt>Address</tt> section.</p></td><td><p>Uses the <tt>mipagentconfig</tt> <tt>change</tt> command
to change the value of a label in the <tt>Address</tt> section of the Mobile
IP configuration file.</p></td><td><p><A HREF="p147.html#mipimplementing-32">How to Modify the <tt>Address</tt> Section</A>&nbsp;</p></td></tr>
<tr><td><p>Add or delete parameters.</p></td><td><p>Uses the <tt>mipagentconfig</tt> <tt>add</tt> or <tt>delete</tt> commands to add new parameters, labels, and values or to delete existing
ones in any section of the Mobile IP configuration file.</p></td><td><p><A HREF="p147.html#mipimplementing-44">How to Add or Delete Configuration File Parameters</A>&nbsp;</p></td></tr>
<tr><td><p>Display the current settings of parameter destinations.</p></td><td><p>Uses the <tt>mipagentconfig</tt> <tt>get</tt> command to
display current settings of any section of the Mobile IP configuration file.</p></td><td><p><A HREF="p148.html#mipimplementing-46">How to Display Current Parameter Values in the Configuration File</A>&nbsp;</p></td></tr>
</table><A NAME="mipimplementing-63"></A><h2>Modifying the Mobile IP Configuration File</h2>
<p><A NAME="indexterm-2662"></A>This section
shows you how to modify the Mobile IP configuration file by using the <tt>mipagentconfig</tt> command. This section also shows you how to display the current settings
of parameter destinations.</p>
<p><A HREF="p154.html#mipmanaging-1">Configuring the Mobility IP Agent</A> provides
a conceptual description of the <tt>mipagentconfig</tt> command's usage.
You can also review the <tt>mipagentconfig</tt>(1M) man
page.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p145.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p147.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

