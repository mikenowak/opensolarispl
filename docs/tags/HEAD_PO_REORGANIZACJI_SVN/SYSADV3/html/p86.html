<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p85.html#dhcp-admin-206">Working With DHCP Options (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p85.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p87.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-admin-44art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Create DHCP Options (DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-283"></A><li><p><b>In DHCP Manager, select the Options tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-284"></A><li><p><b>Choose Create from the Edit menu.</b></p><p>The Create Options dialog box opens.</p>
</li>
<A NAME="dhcp-admin-step-285"></A><li><p><b>Type a short descriptive name for the
new option.</b></p><p>The name can contain up to 128 alphanumeric characters
and spaces.</p>
</li>
<A NAME="dhcp-admin-step-286"></A><li><p><b>Type or select values for each setting
in the dialog box.</b></p><p>Refer to <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A> for information about each setting, or view the DHCP Manager
help.</p>
</li>
<A NAME="dhcp-admin-step-287"></A><li><p><b>Select Notify DHCP Server of Change if
you are finished creating options.</b></p><p>This selection tells the DHCP
server to reread the <tt>dhcptab</tt> table to put the change into
effect immediately after you click OK.</p>
</li>
<A NAME="dhcp-admin-step-288"></A><li><p><b>Click OK.</b></p><p>You can now add
the option to macros, and assign a value to the option to pass to clients.</p>
</li>
</ol><A NAME="dhcp-admin-45art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Create DHCP Options (<tt>dhtadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-292"></A><li><p><b>Create a DHCP option by typing a command
using the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhtadm -A -s </tt><i>option-name<tt></i> -d '</tt><i>category,code,data-type,granularity,maximum<tt></i>' -g</b></tt></pre>
</td></table><br><table border="0" cellspacing="5"><tr><td valign="top"><p><i>option-name</i></p></td><td valign="top"><p>Is an alphanumeric string of 128 characters of less.</p>
</td></tr><tr><td valign="top"><p><i>category</i></p></td><td valign="top"><p>Is one of the following: <tt>Site</tt>, <tt>Extend</tt>, or <tt>Vendor=</tt><i>list-of-classes</i>. <i>list-of-classes</i> is a space-separated list of vendor client classes
to which the option applies. See <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A> for information about how to determine the vendor client
class. </p>
</td></tr><tr><td valign="top"><p><i>code</i></p></td><td valign="top"><p>Is a numeric value that is appropriate to the option category,
as explained in <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A>.</p>
</td></tr><tr><td valign="top"><p><i>data-type</i></p></td><td valign="top"><p>Is specified by a keyword that indicates the type of data
that is passed with the option, as explained in <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A>.</p>
</td></tr><tr><td valign="top"><p><i>granularity</i></p></td><td valign="top"><p>Is specified as a nonnegative number, as explained in <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A>.</p>
</td></tr><tr><td valign="top"><p><i>maximum</i></p></td><td valign="top"><p>Is a nonnegative number, as explained in <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A>.</p>
</td></tr></table>
</li>
</ol><A NAME="ewicy"></A><h5>Example 15-3 &nbsp;&nbsp;Creating a DHCP Option With <tt>dhtadm</tt></h5>
<p>The following command would create an option called <tt>NewOpt</tt>,
which is a Site category option. The option's code is 130. The option's value
can be set to a single 8-bit unsigned integer.</p>
<pre style="font-family:arial,helvetica,sans-serif"># <tt><b>dhtadm -A -s NewOpt -d 'Site,130,UNUMBER8,1,1' -g</b></tt></pre>
<p>The following command would create an option called <tt>NewServ</tt>,
which is a Vendor category option that applies to clients whose machine type
is <tt>SUNW,Sun-Blade-100</tt> or <tt>SUNW,Sun-Blade-1000</tt>.
The option's code is 200. The option's value can be set to one IP address.</p>
<pre style="font-family:arial,helvetica,sans-serif"># <tt><b>dhtadm -A -s NewServ -d 'Vendor=SUNW.Sun-Blade-100 \ 
SUNW.Sun-Blade-1000,200,IP,1,1' -g</b></tt></pre>
<A NAME="dhcp-admin-253"></A><h3>Modifying DHCP Options</h3>
<p><A NAME="indexterm-1484"></A><A NAME="indexterm-1485"></A><A NAME="indexterm-1486"></A>If you have created options for your DHCP service, you can change
the properties for these options. You can use the <tt>dhtadm -M -s</tt> command
or DHCP Manager's Option Properties dialog box to modify options.</p>
<p>Note that you should modify the Solaris DHCP client's option information
to reflect the same modification that you make to the DHCP service. See <A HREF="p87.html#dhcp-admin-49">Modifying the Solaris DHCP Client's Option Information</A>.</p>
<p>The following figure shows DHCP Manager's Option Properties dialog box.</p>
<A NAME="dhcp-admin-fig-294"></A><p><b>Figure 15-18 </b>Option Properties Dialog Box in DHCP
Manager</p>
<IMG src="figures/dhcp-option-props.gif" class="figure" alt="Dialog box shows current properties of selected option.
Shows Vendor Client Classes and Notify DHCP server check box." title="Dialog box shows current properties of selected option.
Shows Vendor Client Classes and Notify DHCP server check box."><A NAME="dhcp-admin-46art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify DHCP Option Properties (DHCP
Manager)</h3>
<ol><A NAME="dhcp-admin-step-298"></A><li><p><b>In DHCP Manager, select the Options tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-299"></A><li><p><b>Select the option that you want to modify.</b></p></li>
<A NAME="dhcp-admin-step-300"></A><li><p><b>Choose Properties from the Edit menu.</b></p><p>The Option Properties dialog box opens.</p>
</li>
<A NAME="dhcp-admin-step-301"></A><li><p><b>Edit the properties as needed.</b></p><p>See <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A> for information about
the properties, or view the DHCP Manager help.</p>
</li>
<A NAME="dhcp-admin-step-302"></A><li><p><b>Select Notify DHCP Server of Change when
you are finished with options.</b></p><p>The change is made to the <tt>dhcptab</tt> table. The DHCP server is signaled to reread the <tt>dhcptab</tt> table
to put the changes into effect.</p>
</li>
<A NAME="dhcp-admin-step-303"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-47art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify DHCP Option Properties (<tt>dhtadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-307"></A><li><p><b>Modify an option by typing a command
using the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhtadm -M -s </tt><i>option-name<tt></i> -d '</tt><i>category,code,data-type,granularity,maximum<tt></i>' -g</b></tt></pre>
</td></table><br><table border="0" cellspacing="5"><tr><td valign="top"><p><i>option-name</i></p></td><td valign="top"><p>Specifies the name of the option that you want to change.</p>
</td></tr><tr><td valign="top"><p><i>category</i></p></td><td valign="top"><p>Can be <tt>Site</tt>, <tt>Extend</tt>,
or <tt>Vendor=</tt><i>list-of-classes</i>. <i>list-of-classes</i> is a space-separated list of vendor client classes
to which the option applies. For example, <tt>SUNW.Sun-Blade-100 SUNW.Ultra-80
SUNWi86pc</tt>.</p>
</td></tr><tr><td valign="top"><p><i>code</i></p></td><td valign="top"><p>Specifies a numeric value that is appropriate to the option
category, as explained in <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A>.</p>
</td></tr><tr><td valign="top"><p><i>data-type</i></p></td><td valign="top"><p>Specifies a keyword that indicates the type of data that is
passed with the option, as explained in <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A>.</p>
</td></tr><tr><td valign="top"><p><i>granularity</i></p></td><td valign="top"><p>Is a nonnegative number, as explained in <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A>.</p>
</td></tr><tr><td valign="top"><p><i>maximum</i></p></td><td valign="top"><p>Is a nonnegative number, as explained in as explained in <A HREF="p85.html#dhcp-admin-tbl-243">Table 15-5</A>.</p>
</td></tr></table>
<p>Note that you must specify all of the DHCP option properties with the <tt>-d</tt> switch, not just the properties that you want to change.</p>
</li>
</ol><A NAME="ewicw"></A><h5>Example 15-4 &nbsp;&nbsp;Modifying a DHCP Option With <tt>dhtadm</tt></h5>
<p>The following command would modify an option called <tt>NewOpt</tt>.
The option is a Site category option. The option's code is 135. The option's
value can be set to a single 8-bit unsigned integer.</p>
<pre style="font-family:arial,helvetica,sans-serif"># <tt><b>dhtadm -M -s NewOpt -d 'Site,135,UNUMBER8,1,1'</b></tt></pre>
<p>The following command would modify an option called <tt>NewServ</tt>,
which is a Vendor category option. The option now applies to clients whose
machine type is <tt>SUNW,Sun-Blade-100</tt> or <tt>SUNW,i86pc</tt>.
The option's code is 200. The option's value can be set to one IP address.</p>
<pre style="font-family:arial,helvetica,sans-serif"># <tt><b>dhtadm -M -s NewServ -d 'Vendor=SUNW.Sun-Blade-100 \
SUNW.i86pc,200,IP,1,1' -g</b></tt></pre>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p85.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p87.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

