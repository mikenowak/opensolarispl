<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p75.html#dhcp-admin-51">Modifying DHCP Service Options (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p76.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p78.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-overview-5sm"></A><h3>Client Host Name Registration</h3>
<p>If you let the DHCP server generate host names for the IP addresses
that you place in the DHCP service, the DHCP server can register those host
names in NIS+, <tt>/etc/inet/hosts</tt>, or DNS name services. Host
name registration cannot be done in NIS because NIS does not provide a protocol
to allow programs to update and propagate NIS maps.</p>
<p><hr size="1" noshade><p><b>Note - </b>The DHCP server can update DNS with generated host names only
if the DNS server and the DHCP server are running on the same system.</p>
<hr size="1" noshade></p><p>If a DHCP client provides its host name and the DNS server is configured
to allow dynamic updates from the DHCP server, the DHCP server can update
DNS on the client's behalf. Dynamic updates can be done even if the DNS and
DHCP servers are running on different systems. See <A HREF="p76.html#dhcp-admin-202">Enabling Dynamic DNS Updates by a DHCP Server</A> for
more information about enabling this feature.</p>
<p><A NAME="indexterm-1426"></A><A NAME="indexterm-1427"></A>The following table summarizes client host name registration for
DHCP client systems with the various name services.</p>
<A NAME="dhcp-overview-tbl-4"></A><p><b>Table 15-2 </b>Client Host Name Registration
in Name Services</p>

<table cellspacing="5" border="1">
<tr><th scope="col">&nbsp;</th><th scope="col" colspan="2" align="center"><p>Who Registers Host Name</p></th></tr>
<tr><th scope="col"><p>Name Service</p></th><th scope="col"><p>DHCP-Generated Host Name</p></th><th scope="col"><p>DHCP Client-Supplied Host Name</p></th></tr>
<tr><td><p>NIS</p></td><td><p>NIS Administrator</p></td><td><p>NIS Administrator</p></td></tr>
<tr><td><p>NIS+</p></td><td><p>DHCP tools</p></td><td><p>DHCP tools</p></td></tr>
<tr><td><p><tt>/etc/hosts</tt></p></td><td><p>DHCP tools</p></td><td><p>DHCP tools</p></td></tr>
<tr><td><p>DNS</p></td><td><p>DHCP tools, if the DNS server runs on the same system as the DHCP server</p><p>DNS Administrator, if the DNS server runs on a different system</p></td><td><p>DHCP server, if configured for dynamic DNS updates</p><p>DNS Administrator, if DHCP server is not configured for dynamic DNS
updates</p></td></tr>
</table><p>Solaris DHCP clients can request particular host names in DHCP requests
if configured to do so as described in <A HREF="p92.html#dhcp-admin-1058sm">How to Enable a Solaris Client to Request a Specific Host Name</A>. Refer
to the vendor documentation for other DHCP clients to determine if the capability
is supported.</p>
<A NAME="dhcp-admin-76"></A><h3>Customizing Performance Options for the DHCP
Server</h3>
<p>You can change options that affect the performance of the DHCP server.
These options are described in the following table.</p>
<A NAME="dhcp-admin-tbl-276"></A><p><b>Table 15-3 </b>Options Affecting
DHCP Server Performance</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Server Option</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>Keyword</p></th></tr>
<tr><td><p>Maximum number of BOOTP relay agent hops</p></td><td><p><A NAME="indexterm-1428"></A><A NAME="indexterm-1429"></A>If a request has traveled through more than a given number of
BOOTP relay agents, the request is dropped. The default maximum number of
relay agent hops is four. This number is likely to be sufficient for most
networks. A network might need more than four hops if DHCP requests pass through
several BOOTP relay agents before reaching a DHCP server.</p></td><td><p><tt>RELAY_HOPS=</tt><i>integer</i></p></td></tr>
<tr><td><p>Detect duplicate addresses</p></td><td><p><A NAME="indexterm-1430"></A>By default, the server pings an IP address before offering the
address to a client. A lack of response to the ping verifies that the address
is not already in use. You can disable this feature to decrease the time that
the server takes to make an offer. However, disabling the feature creates
the risk of having duplicate IP addresses in use.</p></td><td><p><tt>ICMP_VERIFY=TRUE/FALSE</tt></p></td></tr>
<tr><td><p>Reload <tt>dhcptab</tt> automatically at specified intervals</p></td><td><p><A NAME="indexterm-1431"></A>The server can be set to automatically read the <tt>dhcptab</tt> at
the interval, in minutes, that you specify. If your network configuration
information does not change frequently, and you do not have multiple DHCP
servers, you do not need to reload the <tt>dhcptab</tt> automatically.
Also, note that DHCP Manager gives you the option to have the server reload
the <tt>dhcptab</tt> after you make a change to the data.</p></td><td><p><tt>RESCAN_INTERVAL=</tt><i>min</i></p></td></tr>
<tr><td><p>Cache offers of IP addresses for specified intervals</p></td><td><p><A NAME="indexterm-1432"></A>After a server offers an IP address to a client, the offer is
cached. While the offer is cached, the server does not offer the address again.
You can change the number of seconds for which the offer is cached. The default
is 10 seconds. On slow networks, you might need to increase the offer time.</p></td><td><p><tt>OFFER_CACHE_TIMEOUT=</tt><i>sec</i></p></td></tr>
</table><p>The following procedures describe how to change these options.</p>
<A NAME="dhcp-admin-121"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Customize DHCP Performance Options
(DHCP Manager)</h3>
<A NAME="indexterm-1433"></A><ol><A NAME="dhcp-admin-step-25"></A><li><p><b>In DHCP Manager, choose Modify from the
Service menu.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-26"></A><li><p><b>Change the desired options.</b></p><p>See <A HREF="p77.html#dhcp-admin-tbl-276">Table 15-3</A> for information about
the options.</p>
</li>
<A NAME="dhcp-admin-step-30"></A><li><p><b>Select Restart Server.</b></p></li>
<A NAME="dhcp-admin-step-31"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-20"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Customize DHCP Performance Options
(Command Line)</h3>
<A NAME="indexterm-1434"></A><p>If you change options with this procedure, the changed options are used
only after the DHCP server is restarted.</p>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-35"></A><li><p><b>Modify one or more performance options:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>/usr/sbin/dhcpconfig -P </tt><i>keyword=value,keyword=value...<tt></i></b></tt></pre>
</td></table><br><p><i>keyword=value</i> can be any of the following
keywords:</p>
<table border="0" cellspacing="5"><tr><td valign="top"><p><tt>RELAY_HOPS=</tt><i>integer</i></p></td><td valign="top"><p>Specifies the maximum number of relay agent hops that can
occur before the daemon drops the DHCP or BOOTP datagram.</p>
</td></tr><tr><td valign="top"><p><tt>ICMP_VERIFY=TRUE/FALSE</tt></p></td><td valign="top"><p>Enables or disables automatic duplicate IP address detection.
Setting this keyword to <tt>FALSE</tt> is not recommended.</p>
</td></tr><tr><td valign="top"><p><tt>RESCAN_INTERVAL=</tt><i>minutes</i></p></td><td valign="top"><p>Specifies the interval in minutes that the DHCP server should
use to schedule the automatic rereading of the <tt>dhcptab</tt> information.</p>
</td></tr><tr><td valign="top"><p><tt>OFFER_CACHE_TIMEOUT=</tt><i>seconds</i></p></td><td valign="top"><p>Specifies the number of seconds the DHCP server should cache
the offers that are extended to discovering DHCP clients. The default setting
is 10 seconds.</p>
</td></tr></table>
</li>
</ol><A NAME="ewasm"></A><h5>Example 15-1 &nbsp;&nbsp;Setting DHCP Performance Options</h5>
<p>The following is an example of how to specify all the command options.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhcpconfig -P RELAY_HOPS=2,ICMP_VERIFY=TRUE,\
RESCAN_INTERVAL=30,OFFER_CACHE_TIMEOUT=20</b></tt></pre>
</td></table><br><A NAME="dhcp-admin-15"></A><h2>Adding, Modifying, and Removing DHCP Networks
(Task Map)</h2>
<A NAME="indexterm-1435"></A><p>When you configure a DHCP server, you must also configure at least one
network in order to use the DHCP service. You can add more networks at any
time.</p>
<p><A NAME="indexterm-1436"></A>The following task map lists tasks that you can perform when working
with DHCP networks. The task map includes links to procedures for carrying
out the tasks.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Enable or disable the DHCP service on server network interfaces</p></td><td><p>The default behavior is to monitor all network interfaces for DHCP requests.
If you do not want all interfaces to accept DHCP requests, you can remove
an interface from the list of monitored interfaces.</p></td><td><p><A HREF="p77.html#dhcp-admin-123">How to Specify Network Interfaces for DHCP Monitoring (DHCP Manager)</A>&nbsp;</p></td></tr>
<tr><td><p>Add a new network to the DHCP service.</p></td><td><p>Places a network under DHCP management, for the purpose of managing
IP addresses on the network.</p></td><td><p><A HREF="p78.html#dhcp-admin-24">How to Add a DHCP Network (DHCP Manager)</A>&nbsp;</p><p><A HREF="p78.html#dhcp-admin-127-1115">How to Add a DHCP Network (<tt>dhcpconfig</tt>)</A> </p></td></tr>
<tr><td><p>Change parameters of a DHCP-managed network.</p></td><td><p>Modifies the information that is passed to clients of a particular network.</p></td><td><p><A HREF="p78.html#dhcp-admin-26">How to Modify the Configuration of a DHCP Network (DHCP Manager)</A>&nbsp;</p><p><A HREF="p79.html#dhcp-admin-127">How to Modify the Configuration of a DHCP Network (<tt>dhtadm</tt>)</A>&nbsp;</p></td></tr>
<tr><td><p>Delete a network from the DHCP service.</p></td><td><p>Removes a network so that IP addresses on the network are no longer
managed by DHCP.</p></td><td><p><A HREF="p79.html#dhcp-admin-28">How to Remove a DHCP Network (DHCP Manager)</A>&nbsp;</p><p><A HREF="p79.html#dhcp-admin-27">How to Remove a DHCP Network (<tt>pntadm</tt>)</A>&nbsp;</p></td></tr>
</table><A NAME="dhcp-admin-93"></A><h3>Specifying Network Interfaces for DHCP Monitoring</h3>
<A NAME="indexterm-1437"></A><A NAME="indexterm-1438"></A><p>By default, both <tt>dhcpconfig</tt> and DHCP Manager's Configuration
Wizard configure the DHCP server to monitor all the server system's network
interfaces. If you add a new network interface to the server system, the DHCP
server automatically monitors the new interface when you boot the system.
You can then add any networks to be monitored through the network interface.</p>
<p>However, you can also specify which network interfaces should be monitored,
and which interfaces should be ignored. You might want to ignore an interface
if you do not want to offer DHCP service on that network.</p>
<p>If you specify that any interface should be ignored, and then install
a new interface, the DHCP server ignores the new interface. You must add the
new interface to the server's list of monitored interfaces. You can specify
interfaces with DHCP Manager or the <tt>dhcpconfig</tt> utility.</p>
<p>This section includes procedures that enable you to specify which network
interfaces DHCP should monitor or ignore. The DHCP Manager procedure uses
the Interfaces tab of the DHCP Manager's Modify Service Options dialog box,
which is shown in the following figure.</p>
<A NAME="dhcp-admin-fig-39"></A><p><b>Figure 15-4 </b>Interfaces Tab of Modify Service Options
Dialog Box in DHCP Manager</p>
<IMG src="figures/dhcp-modify-serv-int.gif" class="figure" alt="Dialog box lists Monitored and Ignored Interfaces on
left and right with selection arrows between lists. OK, Reset, Cancel, and
Help buttons shown." title="Dialog box lists Monitored and Ignored Interfaces on
left and right with selection arrows between lists. OK, Reset, Cancel, and
Help buttons shown."><A NAME="dhcp-admin-123"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Specify Network Interfaces for DHCP
Monitoring (DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-134"></A><li><p><b>In DHCP Manager, choose Modify from the
Service menu.</b></p><p>The Modify Service Options dialog box is displayed.</p>
<p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-41"></A><li><p><b>Select the Interfaces tab.</b></p></li>
<A NAME="dhcp-admin-step-1213"></A><li><p><b>Select the appropriate network interface.</b></p></li>
<A NAME="dhcp-admin-step-42"></A><li><p><b>Click the arrow buttons to move the interface
to the appropriate list.</b></p><p>For example, to ignore an interface,
select the interface in the Monitored Interfaces list, and then click the
right arrow button. The interface is then shown in the Ignored Interfaces
list.</p>
</li>
<A NAME="dhcp-admin-step-43"></A><li><p><b>Select Restart Server, and click OK.</b></p><p>The changes you make persist across reboots.</p>
</li>
</ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p76.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p78.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

