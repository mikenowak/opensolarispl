<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Non-Global Zone Characteristics - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage> > <a href="p52.html">16.&nbsp;&nbsp;Introduction to Solaris Zones</a> > <a href="p52.html#zones.intro-5">How Zones Work</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p52.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p54.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="zones.intro-7"></a><h4>Non-Global Zone Characteristics</h4>
<p>A zone provides isolation at almost any level of granularity you require.
A zone does not need a dedicated CPU, a physical device, or a portion of physical
memory. These resources can either be multiplexed across a number of zones
running within a single domain or system, or allocated on a per-zone basis
using the resource management features available in the operating system.</p>
<p>Each zone can provide a customized set of services. To enforce basic
process isolation, a process can see or signal only those processes that exist
in the same zone. Basic communication between zones is accomplished by giving
each zone IP network connectivity. An application running in one zone cannot
observe the network traffic of another zone. This isolation is maintained
even though the respective streams of packets travel through the same physical
interface.</p>
<p>Each zone is given a portion of the file system hierarchy. Because each
zone is confined to its subtree of the file system hierarchy, a  workload
running in a particular zone cannot access the on-disk data  of another workload
running in a different zone.</p>
<p>Files used by naming services reside within a zone's own root file system
view. Thus, naming services in different zones are isolated from one other
and the services can be configured differently.</p>
<a name="zones.intro-13"></a><h4>Using Resource Management Features With
Non-Global Zones</h4>
<p>If you use resource management features, you should align the boundaries
of the resource management controls with those of the zones. This alignment
creates a more complete model of a virtual machine, where namespace access,
security isolation, and resource usage are all controlled.</p>
<p>Any special requirements for using the various resource management features
with zones are addressed in the individual chapters of this manual that document
those features.</p>
<a name="zones.intro-9"></a><h3>Features Provided by Non-Global Zones</h3>
<p><a name="indexterm-154"></a>Non-global zones provide the following features:</p>
<dl><dt>Security</dt>
<dd><p>Once a process has been placed in a zone other than the global
zone, neither the process nor any of its subsequent children can change zones.</p>
<p>Network services can be run in a zone. By running network services in
a zone, you limit the damage possible in the event of a security violation.
An intruder who successfully exploits a security flaw in software running
within a zone is confined to the restricted set of actions possible within
that zone. The privileges available within a zone are a subset of those available
in the system as a whole.</p>
</dd>
<dt>Isolation</dt>
<dd><p>Zones allow the deployment of multiple applications on the
same machine, even if those applications operate in different trust domains,
require exclusive access to a global resource, or present difficulties with
global configurations. For example, multiple applications running in different
shared-IP zones on the same system can bind to the same network port by using
the distinct IP addresses associated with each zone or by using the wildcard
address. The applications are also prevented from monitoring or intercepting
each other's network traffic, file system data, or process activity.</p>
</dd>
<dt>Network Isolation</dt>
<dd><p>If a zone needs to be isolated at the IP layer on the network,
for example, by being connected to different VLANs or different LANs than
the global zone and other non-global zones, then for security reasons the
zone can have an exclusive IP. The exclusive-IP zone can be used to consolidate
applications that must communicate on different subnets that are on different
VLANs or different LANs.</p>
<p>Zones can also be configured as shared-IP zones. These zones connect
to the same VLANs or same LANs as the global zone and share the IP routing
configuration with the global zone. Shared-IP zones have separate IP addresses,
but share the other parts of IP.</p>
</dd>
<dt>Virtualization</dt>
<dd><p>Zones provide a virtualized environment that can hide details
such as physical devices and the system's primary IP address and host name
from applications. The same application environment can be maintained on different
physical machines. The virtualized environment allows separate administration
of each zone. Actions taken by a zone administrator in a non-global zone do
not affect the rest of the system.</p>
</dd>
<dt>Granularity</dt>
<dd><p>A zone can provide isolation at almost any level of granularity.
See <a href="p53.html">Non-Global Zone Characteristics</a> for
more information.</p>
</dd>
<dt>Environment</dt>
<dd><p>Zones do not change the environment in which applications
execute except when necessary to achieve the goals of security and isolation.
Zones do not present a new API or ABI to which applications must be ported.
Instead, zones provide the standard Solaris interfaces and application environment,
with some restrictions. The restrictions primarily affect applications that
attempt to perform privileged operations.</p>
<p>Applications in the global zone run without modification, whether or
not additional zones are configured.</p>
</dd>
</dl>
<a name="zones.intro-10"></a><h3>Setting Up Zones on Your System (Task Map)</h3>
<p>The following table provides a basic overview of the tasks that are
involved in setting up zones on your system for the first time.</p>
<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>Identify the applications that you would like to run in zones.</p>
</td><td><p>Review the applications running on your system:</p>
<ul><li><p>Determine which applications are critical to your business
goals.</p>
</li>
<li><p>Assess the system needs of the applications you are running.</p>
</li>
</ul>
</td><td><p>Refer to your business goals and to your system documentation if necessary.</p>
</td></tr>
<tr><td><p>Determine how many zones to configure.</p>
</td><td><p>Assess:</p>
<ul><li><p>The performance requirements of the applications you intend
to run in zones</p>
</li>
<li><p>The availability of the recommended 100 MB of free disk space
per zone to be installed</p>
</li>
</ul>
<p></p>
</td><td><p>See <a href="p61.html#z.conf.start-3">Evaluating the Current System Setup</a>.</p>
</td></tr>
<tr><td><p>Determine whether you will use resource pools with your zone to create
a container.</p>
</td><td><p>If you are also using resource management features on your system, align
the zones with the resource management boundaries. Configure resource pools
before you configure zones.</p>
<p>Note that you can add zone-wide resource controls and pool functionality
to a zone quickly by using <tt>zonecfg</tt> properties.</p>
</td><td><p>See <a href="p63.html#z.conf.start-29">How to Configure the Zone</a>,
and <a href="p42.html">Chapter&nbsp;13, Creating and Administering Resource Pools (Tasks)</a>.</p>
</td></tr>
<tr><td><p>Perform the preconfiguration tasks.</p>
</td><td><p>Determine the zone name and the zone path. Determine whether the zone
will be a shared-IP zone or an exclusive-IP zone, and obtain IP addresses
or the data-link name. Determine the required file systems and devices for
each zone. Determine the scheduling class for the zone. Determine the set
of privileges that processes inside the zone should be limited to, if the
standard default set is not sufficient.</p>
</td><td><p>For information on the zone name and path, IP types, IP addresses, file
systems, devices, scheduling class, and privileges, see <a href="p54.html">Chapter&nbsp;17, Non-Global Zone Configuration (Overview)</a> and <a href="p61.html#z.conf.start-3">Evaluating the Current System Setup</a>. For a listing of default privileges and privileges that can
be configured in a non-global zone, see <a href="p100.html#z.admin.ov-18">Privileges in a Non-Global Zone</a>. For information about IP feature availability,
see <a href="p98.html">Networking in Shared-IP Non-Global Zones</a> and <a href="p99.html">Networking in Exclusive-IP Non-Global Zones</a>.</p>
</td></tr>
<tr><td><p>Develop configurations.</p>
</td><td><p>Configure non-global zones.</p>
</td><td><p>See <a href="p63.html">Configuring, Verifying, and Committing a Zone</a> and the <tt>zonecfg</tt>(1M) man
page.</p>
</td></tr>
<tr><td><p>As global administrator, verify and install configured zones.</p>
</td><td><p>Zones must be verified and installed prior to login.</p>
</td><td><p>See <a href="p67.html">Chapter&nbsp;19, About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a> and <a href="p70.html">Chapter&nbsp;20, Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a>.</p>
</td></tr>
<tr><td><p>As global administrator, boot the non-global zones.</p>
</td><td><p>Boot each zone to place the zone in the running state.</p>
</td><td><p>See <a href="p67.html">Chapter&nbsp;19, About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a> and <a href="p70.html">Chapter&nbsp;20, Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a>.</p>
</td></tr>
<tr><td><p>As global administrator, perform the initial internal configuration
of the zone.</p>
</td><td><p>Place a <tt>sysidcfg</tt> file in the zone's <tt>/etc</tt> directory
or log in to each non-global zone using the <tt>zlogin</tt> command
with the <tt>-C</tt> option and enter the requested information, including
assigning the zone root password.</p>
</td><td><p>See <a href="p75.html">Chapter&nbsp;21, Non-Global Zone Login (Overview)</a> and <a href="p77.html">Chapter&nbsp;22, Logging In to Non-Global Zones (Tasks)</a>.</p>
</td></tr>
<tr><td><p>Prepare the new zone for production use.</p>
</td><td><p>Create user accounts, add additional software, and customize the zone's
configuration.</p>
</td><td><p>Refer to the documentation you use to set up a newly installed machine.
Special considerations applicable to a system with zones installed are covered
in this guide.</p>
</td></tr>
</table>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p52.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p54.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

