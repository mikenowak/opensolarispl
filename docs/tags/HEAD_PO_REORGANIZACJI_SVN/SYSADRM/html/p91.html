<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Adding and Removing Packages and Patches
on a Solaris System With Zones Installed (Tasks) - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p90.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p92.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="z.pkginst.task-1"></a>Chapter&nbsp;25<h3>Adding and Removing Packages and Patches
on a Solaris System With Zones Installed (Tasks)</h3><p>This chapter describes how to add and remove packages and patches on
a system with zones installed. Other tasks associated with managing packages
and patches, such as checking package parameter settings and obtaining package
information, are also addressed. For an overview of patching and packaging
concepts on a with zones installed, see <a href="p84.html">Chapter&nbsp;24, About Packages and Patches on a Solaris System With Zones Installed (Overview)</a>.</p>
<a name="z.pkginst.task-9"></a><h3>Adding and Removing Packages and Patches
on a Solaris System With Zones Installed (Task Map)</h3>
<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>Add a package.</p>
</td><td><p>Add a package on a system with zones installed.</p>
</td><td><p><a href="p91.html#z.pkginst.task-2">Adding a Package on a Solaris System With Zones Installed</a></p>
</td></tr>
<tr><td><p>Check package information.</p>
</td><td><p>Check package information on a system with zones installed.</p>
</td><td><p><a href="p92.html">Checking Package Information on a Solaris System With Zones Installed</a></p>
</td></tr>
<tr><td><p>Remove a package.</p>
</td><td><p>Remove a package on a system with zones installed.</p>
</td><td><p><a href="p92.html#z.pkginst.task-8">Removing a Package From a Solaris System With Zones Installed</a></p>
</td></tr>
<tr><td><p>Apply a patch.</p>
</td><td><p>Apply a patch on a system with zones installed.</p>
</td><td><p><a href="p93.html">Applying a Patch to a Solaris System With Zones Installed</a></p>
</td></tr>
<tr><td><p>Remove a patch.</p>
</td><td><p>Remove a patch on a system with zones installed.</p>
</td><td><p><a href="p93.html#z.pkginst.task-42">Removing a Patch on a System with Zones Installed</a></p>
</td></tr>
<tr><td><p>(Optional) Check the package parameter settings.</p>
</td><td><p>When adding or removing packages, verify that the settings of the package
parameters support the action you want to perform.</p>
</td><td><p><a href="p94.html">Checking Package Parameter Settings on a System with Zones Installed</a></p>
</td></tr>
</table><a name="z.pkginst.task-2"></a><h3>Adding a Package on a Solaris System With
Zones Installed</h3>
<p>You can use the <tt>pkgadd</tt> system utility described in
the <tt>pkgadd</tt>(1M) man
page to perform the following tasks:</p>
<ul><li><p>Add a package to the global zone only</p>
</li>
<li><p>Add a package to both the global zone and all non-global zones</p>
</li>
<li><p>Add a package that is already installed in the global zone
to the non-global zones</p>
</li>
<li><p>Add a package to a specified non-global zone only</p>
</li>
</ul>
<p>The <tt>SUNW_PKG_ALLZONES</tt> and <tt>SUNW_PKG_HOLLOW</tt> package
parameter settings must match the correct value, either <tt>true</tt> or <tt>false</tt>, to add packages. Otherwise, the desired result will not be
achieved. For more information about the effect of these package parameter
settings, see <a href="p85.html">About Packages and Zones</a>.
For more information about how to check these package parameter settings,
see <a href="p94.html">Checking Package Parameter Settings on a System with Zones Installed</a>.</p>
<a name="z.pkginst.task-3"></a><h4><img src="graphics/procedure.gif"> How to Add a Package to the Global Zone
Only</h4>
<p>To add a package to the global zone only, the <tt>SUNW_PKG_ALLZONES</tt> package
parameter must be set to <tt>false</tt>.</p>
<p>You must be the global administrator in the global zone to perform this
procedure.</p>
<ol><li><b>Become superuser, or assume the Primary Administrator role.</b><p>To create the role and assign the role to a user, see Using
the Solaris Management Tools With RBAC (Task Map) in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="z.pkginst.task-step-13"></a><b>While in the global zone, run the <tt>pkgadd</tt> <tt>-d</tt> command followed by the location of the
package, the <tt>-G</tt> option, and then the package name.</b><ul><li><p>If installing the package from a CD-ROM, type:</p>
<pre>global# <tt><b>pkgadd</b></tt> <tt>-d</tt> <tt><b>/cdrom/cdrom0/</tt><i>directory</i><tt></b></tt> <tt>-G</tt> <tt><b></tt><i>package_name</i><tt></b></tt></pre></li>
<li><p>If installing the package from a directory to which it has
been copied, type:</p>
<pre>global# <tt><b>pkgadd</b></tt> <tt>-d</tt> <tt><b></tt><i>disk1</i><tt>/image</b></tt> <tt>-G</tt> <tt><b></tt><i>package_name</i><tt></b></tt></pre><p>where <i>disk1</i> is the location where the package
was copied.</p>
</li>
</ul>
<hr>
<p><b>Note - </b>If the <tt>pkgadd</tt> utility is run without the <tt>-G</tt> option and <tt>SUNW_PKG_THISZONE=true</tt>, then the specified
package is added to the current (global) zone by default.</p>
<hr>
</li></ol><a name="z.pkginst.task-5"></a><h4><img src="graphics/procedure.gif"> How to Add a Package to the Global Zone
and All Non-Global Zones</h4>
<p>Do not use <tt>pkgadd</tt> option <tt>-G</tt> in this
procedure.</p>
<p>You must be the global administrator in the global zone to perform this
procedure.</p>
<ol><li><b>Become superuser, or assume the Primary Administrator role.</b><p>To create the role and assign the role to a user, see Using
the Solaris Management Tools With RBAC (Task Map) in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="z.pkginst.task-step-16"></a><b>While in the global zone, run the <tt>pkgadd</tt> <tt>-d</tt> command followed by the location of the
package and then the package name.</b><ul><li><p>If installing the package from a CD-ROM, type:</p>
<pre>global# <tt><b>pkgadd</b></tt> <tt>-d</tt> <tt><b>/cdrom/cdrom0/</tt><i>directory</i><tt> </tt><i>package_name</i><tt></b></tt></pre></li>
<li><p>If installing the package from a directory to which it has
been copied, type:</p>
<pre>global# <tt><b>pkgadd</b></tt> <tt>-d</tt> <tt><b></tt><i>disk1</i><tt>/image </tt><i>package_name</i><tt></b></tt></pre><p>where <i>disk1</i> is the location where the package
was copied.</p>
</li>
</ul>
</li></ol><a name="z.pkginst.task-4"></a><h4><img src="graphics/procedure.gif"> How to Add a Package That Is Installed
in the Global Zone to All Non-Global Zones</h4>
<p>You must be the global administrator in the global zone to perform this
procedure.</p>
<ol><li><b>Become superuser, or assume the Primary Administrator role.</b><p>To create the role and assign the role to a user, see Using
the Solaris Management Tools With RBAC (Task Map) in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="z.pkginst.task-step-18"></a><b>In the global zone, use <tt>pkgrm</tt> to
remove the package.</b></li><li><b>Add  the package without using the <tt>-G</tt> option.</b></li></ol><a name="z.pkginst.task-6"></a><h4><img src="graphics/procedure.gif"> How to Add a Package to a Specified Non-Global
Zone Only</h4>
<p>To add a package to a specified non-global zone only, the <tt>SUNW_PKG_ALLZONES</tt> package parameter must be set to <tt>false</tt>. Do not
use the <tt>pkgadd</tt> option <tt>-G</tt> in
this procedure or the operation fails.</p>
<p>You must be the zone administrator in the non-global zone to perform
this procedure.</p>
<ol><li><b>Log in to the non-global zone as the zone administrator. </b></li><li><a name="z.pkginst.task-step-20"></a><b>While in the non-global zone, <tt>my-zone</tt> in this procedure, run the <tt>pkgadd</tt> <tt>-d</tt> command
followed by the location of the package and then the package name.</b><ul><li><p>If installing the package from a CD-ROM, type:</p>
<pre>my-zone# <tt><b>pkgadd</b></tt> <tt>-d</tt> <tt><b>/cdrom/cdrom0/</tt><i>directory</i><tt> </tt><i>package_name</i><tt></b></tt></pre></li>
<li><p>If installing the package from a directory to which it has
been copied, type:</p>
<pre>my-zone# <tt><b>pkgadd</b></tt> <tt>-d</tt> <tt><b></tt><i>disk1</i><tt>/image </tt><i>package_name</i><tt></b></tt></pre><p>where <i>disk1</i> is the location where the package
was copied.</p>
</li>
</ul>
</li></ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p90.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p92.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

