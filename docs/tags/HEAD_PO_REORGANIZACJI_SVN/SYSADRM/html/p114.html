<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>About Branded Zones and the Linux Branded
Zone - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p113.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p115.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="gchhy"></a>Chapter&nbsp;29<h3>About Branded Zones and the Linux Branded
Zone</h3><p>The branded zones facility in the Solaris Operating
System is a simple extension of Solaris Zones. This chapter discusses the
branded zones concept and the <tt>lx</tt> brand, which implements
Linux branded zones functionality. Linux branded zones are also known as Solaris
Containers for Linux Applications.</p>
<hr>
<p><b>Note - </b>Although you can configure and install branded zones on a Trusted Solaris system that has labels enabled, you cannot boot
branded zones on this system configuration.</p>
<hr>
<a name="gcxco"></a><h3>About Using Zones on a Solaris System</h3>
<p>See <a href="p52.html">Chapter&nbsp;16, Introduction to Solaris Zones</a> for general information on the use of zones on a Solaris
system.</p>
<p>You should be familiar with the following zones and resource management
concepts:</p>
<ul><li><p>The global zone and the non-global zone, described in <a href="p52.html#zones.intro-5">How Zones Work</a></p>
</li>
<li><p>The global administrator and the zone administrator, described
in <a href="p52.html#zones.intro-11">How Non-Global Zones Are Administered</a> and <a href="p52.html#zones.intro-8">How Non-Global Zones Are Created</a>.</p>
</li>
<li><p>The zone state model, discussed in <a href="p52.html#zones.intro-12">Non-Global Zone State Model</a>.</p>
</li>
<li><p>The zone isolation characteristics covered in <a href="p53.html">Non-Global Zone Characteristics</a>.</p>
</li>
<li><p>Privileges, described in <a href="p100.html#z.admin.ov-18">Privileges in a Non-Global Zone</a>.</p>
</li>
<li><p>Networking, described in <a href="p98.html">Networking in Shared-IP Non-Global Zones</a></p>
</li>
<li><p>The Solaris Container concept, which is the use of resource
management features, such as resource pools, with zones. The use and interaction
of zones and resource management features are described in <a href="p53.html#zones.intro-13">Using Resource Management Features With Non-Global Zones</a>, <a href="p56.html#z.config.ov-13">Setting Zone-Wide Resource Controls</a>, <a href="p95.html">Chapter&nbsp;26, Solaris Zones Administration (Overview)</a>, and the individual chapters in Part
1 Resource Management of this manual that document each resource management
feature. For example, resource pools are covered in <a href="p32.html">Chapter&nbsp;12, Resource Pools (Overview)</a> and <a href="p42.html">Chapter&nbsp;13, Creating and Administering Resource Pools (Tasks)</a> </p>
</li>
<li><p>The fair share scheduler (FSS), a scheduling class that enables
you to allocate CPU time based on shares, is covered in <a href="p22.html">Chapter&nbsp;8, Fair Share Scheduler (Overview)</a> and <a href="p25.html">Chapter&nbsp;9, Administering the Fair Share Scheduler (Tasks)</a>.</p>
</li>
<li><p>The resource capping daemon (<tt>rcapd</tt>), which
can be used from the global zone to control resident set size (RSS) usage
of branded zones. The <tt></tt> property of the <tt>zonecfg</tt> <tt>capped-memory</tt> resource sets the <tt>max-rss</tt> for a
zone. This value is enforced by <tt>rcapd</tt><tt></tt> running
in the global zone. For more information, see <a href="p27.html">Chapter&nbsp;10, Physical Memory Control Using the Resource Capping Daemon (Overview)</a>, <a href="p30.html">Chapter&nbsp;11, Administering the Resource Capping Daemon (Tasks)</a> and the <tt>rcapd</tt>(1M) man page.</p>
</li>
</ul>
<p>The <a href="p141.html">Glossary</a> provides definitions
for terms used with zones and resource management features.</p>
<p>Any additional information required to use branded zones on your system
is provided in this part of the guide.</p>
<hr>
<p><b>Note - </b>The following chapters in this guide are not applicable to branded
zones:</p>
<ul><li><p><a href="p84.html">Chapter&nbsp;24, About Packages and Patches on a Solaris System With Zones Installed (Overview)</a></p>
</li>
<li><p><a href="p91.html">Chapter&nbsp;25, Adding and Removing Packages and Patches on a Solaris System With Zones Installed (Tasks)</a></p>
</li>
</ul>
<hr>
<a name="gcvgi"></a><h3>Branded Zones Technology</h3>
<p><a name="indexterm-334"></a><a name="indexterm-335"></a><a name="indexterm-336"></a><a name="indexterm-337"></a><a name="indexterm-338"></a>The branded zone (BrandZ) framework extends the Solaris Zones infrastructure, documented in this manual in <a href="p51.html#zone">Part&nbsp;II, Zones</a>, to include the creation of brands.
The term <b>brand</b> can refer to a wide range of operating
environments. BrandZ enables the creation of  non-global zones that contain
non-native operating environments used for running applications. The brand
type is used to determine the scripts that are executed when a zone is installed
and booted. In addition, a zone's brand is used to properly identify the correct
application type at application launch time. All brand management is performed
through extensions to the current zones structure.</p>
<p>A brand can provide a simple or a complex environment. For example,
a simple environment could replace the standard Solaris utilities with their
GNU equivalents. A complex environment could provide a complete Linux user
space which supports the execution of Linux applications.</p>
<p>Every zone is configured with an associated brand. The default is the <tt>native</tt> brand, Solaris. A branded zone will support exactly one brand
of non-native binary, which means that a branded zone provides a single operating
environment.</p>
<p>BrandZ extends the zones tools in the following ways:</p>
<ul><li><p>The <tt>zonecfg</tt> command is used to set a zone's
brand type when the zone is configured.</p>
</li>
<li><p>The <tt>zoneadm</tt> command is used to report a
zone's brand type as well as administer the zone.</p>
</li>
</ul>
<hr>
<p><b>Note - </b>You can change the brand of a zone in the configured state. Once
a branded zone has been installed, that brand cannot be changed or removed.</p>
<hr>
<a name="gcvyd"></a><h4>Processes Running in a Branded Zone</h4>
<p><a name="indexterm-339"></a>Branded zones provide a set of interposition points in the kernel
that are only applied to processes executing in a branded zone.</p>
<ul><li><p>These points are found in such paths as the <tt>syscall</tt> path,
the process loading path, and the thread creation path.</p>
</li>
<li><p>At each of these points, a brand can choose to supplement
or  replace the standard Solaris behavior.</p>
</li>
</ul>
<p>A brand can also provide a plug-in library for <tt>librtld_db</tt>.
The plug-in library allows Solaris tools such as the debugger, described in <tt>mdb</tt>(1), and DTrace, described in <tt>dtrace</tt>(1M), to access the symbol information
of processes running inside a branded zone.</p>
<a name="gcvxq"></a><h4>Branded Zone Device Support</h4>
<p><a name="indexterm-340"></a>The devices supported by each zone are documented in the man pages
and other documentation for that brand. Device support is defined by the brand.
A brand can choose to disallow the addition of any unsupported or unrecognized
devices.</p>
<a name="gcycb"></a><h4>Branded Zone File System Support</h4>
<p><a name="indexterm-341"></a>The file systems required for a branded zone are defined by the
brand.</p>
<a name="gcybn"></a><h4>Privileges in a Branded Zone</h4>
<p><a name="indexterm-342"></a>The privileges available in a branded zone are defined by the
brand. For more information about privileges, see <a href="p100.html#z.admin.ov-18">Privileges in a Non-Global Zone</a> and <a href="p119.html#gcxai">Configurable Privileges in an <tt>lx</tt> Branded Zone</a>.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p113.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p115.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

