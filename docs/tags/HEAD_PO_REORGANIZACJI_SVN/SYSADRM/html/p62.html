<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Determine the Zone Host Name and Obtain
the Network Address - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage> > <a href="p61.html">18.&nbsp;&nbsp;Planning and Configuring Non-Global Zones (Tasks)</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p61.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p63.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="z.conf.start-4"></a><h3>Determine the Zone Host Name and Obtain
the Network Address</h3>
<p>You must determine the host name for the zone. Then, you must assign
an IPv4 address or manually configure and assign an IPv6 address for the zone
if you want it to have network connectivity.</p>
<a name="z.conf.start-5"></a><h4>Zone Host Name</h4>
<p><a name="indexterm-225"></a>The host name
you select for the zone must be defined either in the <tt>hosts</tt> database
or in the <tt>/etc/inet/hosts</tt> database, as specified by the <tt>/etc/nsswitch.conf</tt> file in the global zone. The network databases
are files that provide network configuration information. The <tt>nsswitch.conf</tt> file specifies which naming service to use.</p>
<p>If you use local files for the naming service, the <tt>hosts</tt> database
is maintained in the <tt>/etc/inet/hosts</tt> file. The host names
for zone network interfaces are resolved from the local <tt>hosts</tt> database
in <tt>/etc/inet/hosts</tt>. Alternatively, the IP address itself
can be specified directly when configuring a zone so that no host name resolution
is required.</p>
<p>For more information, see TCP/IP Configuration Files in <i>System Administration Guide: IP Services</i> and Network
Databases and the nsswitch.conf File in <i>System
Administration Guide: IP Services</i>.</p>
<a name="z.conf.start-6"></a><h4>Shared-IP Zone Network Address</h4>
<p><a name="indexterm-226"></a>Each shared-IP zone that requires network connectivity has one
or more unique IP addresses. Both IPv4 and IPv6 addresses are supported.</p>
<a name="z.conf.start-94"></a><h5>IPv4 Zone Network Address</h5>
<p>If you are using IPv4, obtain an address and assign the address to the
zone.</p>
<p>A prefix length can also be specified with the IP address. The format
of this prefix is <i>address</i>/<i>prefix-length</i>,
for example, <tt>192.168.1.1/24</tt>. Thus, the address to use is <tt>192.168.1.1</tt> and the netmask to use is <tt>255.255.255.0</tt>,
or the mask where the first 24 bits are 1-bits.</p>
<a name="z.conf.start-95"></a><h5>IPv6 Zone Network Address</h5>
<p>If you are using IPv6, you must manually configure the address. Typically,
at least the following two types of addresses must be configured:</p>
<dl><dt>Link-local address</dt>
<dd><p>A link-local address is of the form <tt>fe80::</tt><i>64-bit interface ID</i><tt>/10</tt>. The <tt>/10</tt> indicates
a prefix length of 10 bits.</p>
</dd>
<dt>Address formed from a global prefix configured on the
subnet</dt>
<dd><p>A global unicast address is based off a 64&ndash;bit prefix
that the administrator configures for each subnet, and a 64-bit interface
ID. The prefix can also be obtained by running the <tt>ifconfig</tt> command
with the <tt>-a6</tt> option on any system on the same subnet that
has been configured to use IPv6.</p>
<p>The 64&ndash;bit interface ID is typically derived from a system's MAC
address. For zones use, an alternate address that is unique can be derived
from the global zone's IPv4 address as follows:</p>
<p><tt>16 bits of zero:upper 16 bits of IPv4 address:lower 16 bits
of IPv4 address:a zone-unique number</tt></p>
<p>For example, if the global zone's IPv4 address is 192.168.200.10, a
suitable link-local address for a non-global zone using a zone-unique number
of <tt>1</tt> is <tt>fe80::c0a8:c80a:1/10</tt>. If the
global prefix in use on that subnet is <tt>2001:0db8:aabb:ccdd/64</tt>,
a unique global unicast address for the same non-global zone is <tt>2001:0db8:aabb:ccdd::c0a8:c80a:1/64</tt>. Note that you must specify a prefix length when configuring an
IPv6 address.</p>
</dd>
</dl>
<p>For more information about link-local and global unicast addresses,
see the <tt>inet6</tt>(7P) ma
page.</p>
<a name="gekzd"></a><h4>Exclusive-IP Zone Network Address</h4>
<p>Inside an exclusive-IP zone, configure addresses as you do for the global
zone. Note that DHCP and IPv6 stateless address autoconfiguration can be used
to configure addresses.</p>
<p> See <tt>sysidcfg</tt>(4) for
more information.</p>
<a name="z.conf.start-12"></a><h3>File System Configuration</h3>
<p>You can specify a number of mounts to be performed when the virtual
platform is set up. File systems that are loopback-mounted into a zone by
using the loopback virtual file system (LOFS) file system should be mounted
with the <tt>nodevices</tt> option. For information on the <tt>nodevices</tt> option, see <a href="p96.html#z.admin.ov-2">File Systems and Non-Global Zones</a>.</p>
<p>LOFS lets you create a new virtual file system so that you can access
files by using an alternative path name. In a non-global zone, a loopback
mount makes the file system hierarchy look as though it is duplicated under
the zone's root. In the zone, all files will be accessible with a path name
that starts from the zone's root. LOFS mounting preserves the file system
name space.</p>
<a name="z.conf.start-fig-87"></a>Figure 18-1 Loopback-Mounted File Systems<img src="figures/lofs-mount.gif" alt=""></img><p>See the <tt>lofs</tt>(7S) man page for more information.</p>
<a name="z.conf.start-116"></a><h3>Creating, Revising, and Deleting Non-Global
Zone Configurations (Task Map)</h3>
<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>Configure a non-global zone.</p>
</td><td><p>Use the <tt>zonecfg</tt> command to create a zone, verify
the configuration, and commit the configuration. You can also use a script
to configure and boot multiple zones on your system.  </p>
<p>You can use the <tt>zonecfg</tt> command to display the configuration
of a non-global zone.</p>
</td><td><p><a href="p63.html">Configuring, Verifying, and Committing a Zone</a>, <a href="p64.html#z.conf.start-96">Script to Configure Multiple Zones</a></p>
</td></tr>
<tr><td><p>Modify a zone configuration.</p>
</td><td><p>Use these procedures to modify a resource type in a zone configuration,
modify a property type such as the name of a zone, or add a dedicated device
to a zone.</p>
</td><td><p><a href="p64.html#z.conf.start-115">Using the <tt>zonecfg</tt> Command to Modify a Zone Configuration</a></p>
</td></tr>
<tr><td><p>Revert a zone configuration or delete a zone configuration.</p>
</td><td><p>Use the <tt>zonecfg</tt> command to undo a resource setting
made to a zone configuration or to delete a zone configuration.</p>
</td><td><p><a href="p66.html">Using the <tt>zonecfg</tt> Command to Revert or Remove a Zone Configuration</a></p>
</td></tr>
<tr><td><p>Delete a zone configuration.</p>
</td><td><p>Use the <tt>zonecfg</tt> command with the <tt>delete</tt> subcommand
to delete a zone configuration from the system.</p>
</td><td><p><a href="p66.html#z.conf.start-82">How to Delete a Zone Configuration</a></p>
</td></tr>
</table>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p61.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p63.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

