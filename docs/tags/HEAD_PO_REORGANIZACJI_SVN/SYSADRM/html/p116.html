<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Debugging Tools - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage> > <a href="p114.html">29.&nbsp;&nbsp;About Branded Zones and the Linux Branded Zone</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p115.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p117.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="gcxek"></a><h3>Debugging Tools</h3>
<p>Solaris debugging tools such as DTrace and <tt>mdb</tt> can
be applied to Linux processes executing inside the zone, but the tools themselves
must be running in the global zone. Any core files generated are produced
in the Solaris format and can only be debugged with Solaris tools.</p>
<p>DTrace is enabled for Linux applications by the DTrace <tt>lxsyscall</tt> dynamic
tracing provider. The provider acts like the DTrace <tt>syscall</tt> provider.
The <tt>lxsyscall</tt> provider provides probes that fire whenever
a thread enters or returns from a Linux system call entry point.</p>
<p>For more information on debugging options, see the Solaris Dynamic Tracing
Guide, and the <tt>dtrace</tt>(1M) and <tt>mdb</tt>(1) man pages. The <i>Solaris Dynamic Tracing Guide</i> describes
the public documented interfaces available for the DTrace facility. The documentation
about the <tt>syscall</tt> provider can be used for the <tt>lxsyscall</tt> provider.</p>
<hr>
<p><b>Note - </b>Because NFS is dependent on name services, which are zone specific,
you cannot access any NFS file system that is mounted outside of the current
zone. Thus, you cannot debug NFS-based Linux processes from the global zone.</p>
<hr>
<a name="gdcln"></a><h3>Commands and Other Interfaces</h3>
<p><a name="indexterm-348"></a><a name="indexterm-349"></a>The
commands identified in the following table provide the primary administrative
interface to the zones facility.</p>
<a name="gdefg"></a>Table 29-1 Commands and Other Interfaces Used With <tt>lx</tt> Branded Zones<table><tr><th><p>Command Reference</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>zlogin</tt>(1)</p>
</td><td><p>Log in to a non-global zone</p>
</td></tr>
<tr><td><p><tt>zoneadm</tt>(1M)</p>
</td><td><p>Administers zones on a system</p>
</td></tr>
<tr><td><p><tt>zonecfg</tt>(1M)</p>
</td><td><p>Used to set up a zone configuration</p>
</td></tr>
<tr><td><p><tt>getzoneid</tt>(3C)</p>
</td><td><p>Used to map between zone ID and name</p>
</td></tr>
<tr><td><p><tt>brands</tt>(5)</p>
</td><td><p>Provides description of branded zones facility</p>
</td></tr>
<tr><td><p><tt>lx</tt>(5)</p>
</td><td><p>Provides description of Linux branded zones</p>
</td></tr>
<tr><td><p><tt>zones</tt>(5)</p>
</td><td><p>Provides description of zones facility</p>
</td></tr>
<tr><td><p><tt>lx_systrace</tt>(7D)</p>
</td><td><p>DTrace Linux system call tracing provider</p>
</td></tr>
<tr><td><p><tt>zcons</tt>(7D)</p>
</td><td><p>Zone console device driver</p>
</td></tr>
</table><p>The <tt>zoneadmd</tt> daemon is the primary process for managing
the zone's virtual platform. The man page for the <tt>zoneadmd</tt> daemon
is <tt>zoneadmd</tt>(1M). The daemon does not constitute a programming interface.</p>
<hr>
<p><b>Note - </b><a href="p103.html#z.admin.ov-tbl-34">Table 26-5</a> covers
commands that can be used in the global zone to display information about
all non-global zones, including branded zones. <a href="p103.html#gekhm">Table 26-4</a> covers commands used with the resource capping daemon.</p>
<hr>
<a name="gcxjv"></a><h3>Setting Up <tt>lx</tt> Branded Zones on
Your System (Task Map)</h3>
<p>The following table provides an overview of the tasks that are involved
in setting up <tt>lx</tt> zones on your system for the first time.</p>
<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>Identify each 32&ndash;bit Linux application that you would like to
run in a zone.</p>
</td><td><p>Assess the system needs of the application.</p>
</td><td><p>Refer to your business goals and to your system documentation if necessary.</p>
</td></tr>
<tr><td><p>Determine how many zones to configure.</p>
</td><td><p>Assess:</p>
<ul><li><p>The number of Linux applications you intend to run.</p>
</li>
<li><p>The disk space requirements for Linux branded zones.</p>
</li>
<li><p>Whether you need to use a script.</p>
</li>
</ul>
</td><td><p>See <a href="p115.html#gdlps">Application Support</a>, <a href="p117.html#gcxax">System and Space Requirements</a>, <a href="p61.html#z.conf.start-3">Evaluating the Current System Setup</a>, <a href="p124.html#gdbkd">Script to Configure Multiple <tt>lx</tt> Branded Zones</a>.</p>
</td></tr>
<tr><td><p>Determine whether you will use resource pools with your zone to create
a container.</p>
</td><td><p>If you are using resource pools, configure the pools before you configure
zones.</p>
<p>Note that you can add zone-wide resource controls and pool functionality
to a zone quickly by using <tt>zonecfg</tt> properties.</p>
</td><td><p>See <a href="p123.html#gcziw">How to Configure the <tt>lx</tt> Branded Zone</a>, <a href="p42.html">Chapter&nbsp;13, Creating and Administering Resource Pools (Tasks)</a>.</p>
</td></tr>
<tr><td><p>Perform the preconfiguration tasks.</p>
</td><td><p>Determine the zone name and the zone path for each zone. If network
connectivity is required, obtain IP addresses. Determine the scheduling class
for the zone. Determine the set of privileges that processes inside the zone
should be limited to, if the standard default set is not sufficient.</p>
</td><td><p>For information on the zone name, zone path, IP addresses, and scheduling
class, see <a href="p118.html"><tt>lx</tt> Branded Zone Configuration Components</a>. For a listing of default privileges and privileges that can be configured
in a non-global zone, see <a href="p100.html#z.admin.ov-18">Privileges in a Non-Global Zone</a>.</p>
<p>For information on resource pool association, see <a href="p52.html#zones.intro-5">How Zones Work</a> and <a href="p123.html#gcziw">How to Configure the <tt>lx</tt> Branded Zone</a>.</p>
</td></tr>
<tr><td><p>Develop configurations.</p>
</td><td><p>Configure non-global zones.</p>
</td><td><p>See <a href="p63.html">Configuring, Verifying, and Committing a Zone</a> and the <tt>zonecfg</tt>(1M) man
page.</p>
</td></tr>
<tr><td><p>As global administrator, verify and install configured zones.</p>
</td><td><p>Zones must be verified and installed prior to booting the zone. You
must obtain a Linux distribution before you install a Linux branded zone.</p>
</td><td><p>See <a href="p125.html">Chapter&nbsp;32, About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a> and <a href="p128.html">Chapter&nbsp;33, Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a>.</p>
</td></tr>
<tr><td><p>As global administrator, boot the non-global zones.</p>
</td><td><p>Boot each zone to place the zone in the running state.</p>
</td><td><p>See <a href="p128.html">Chapter&nbsp;33, Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a>.</p>
</td></tr>
<tr><td><p>Prepare the new zone for production use.</p>
</td><td><p>Create user accounts, add additional software, and customize the zone's
configuration using standard Linux system administration tools and methodologies
from within the zone.</p>
</td><td><p>Refer to the documentation you use to set up a newly installed machine
and install applications. Special considerations applicable to a system with
zones installed are covered in this guide.</p>
</td></tr>
</table>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p115.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p117.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

