<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Repairing a Damaged ZFS Configuration</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="Solaris ZFS Administration Guide"><link rel="up" href="ch09.html" title="Chapter 9. ZFS Troubleshooting and Data Recovery"><link rel="prev" href="ch09s03.html" title="Identifying Problems in ZFS"><link rel="next" href="ch09s05.html" title="Repairing a Missing Device"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Repairing a Damaged ZFS Configuration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch09s03.html">Prev</a> </td><th width="60%" align="center">Chapter 9. ZFS Troubleshooting and Data Recovery</th><td width="20%" align="right"> <a accesskey="n" href="ch09s05.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gbbve"></a>Repairing a Damaged ZFS Configuration</h2></div></div></div>

<p>ZFS maintains a cache of active pools and their configuration on the
root file system. If this file is corrupted or somehow becomes out of sync
with what is stored on disk, the pool can no longer be opened. ZFS tries to
avoid this situation, though arbitrary corruption is always possible given
the qualities of the underlying file system and storage. This situation typically
results in a pool disappearing from the system when it should otherwise be
available. This situation can also manifest itself as a partial configuration
that is missing an unknown number of top-level virtual devices. In either
case, the configuration can be recovered by exporting the pool (if it is visible
at all), and re-importing it.<a class="indexterm" name="indexterm-531"></a>
<a class="indexterm" name="indexterm-532"></a>
<a class="indexterm" name="indexterm-533"></a>
</p>
<p>For more information about importing and exporting pools, see <span class="olink">Migrating ZFS Storage Pools</span>.</p>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch09s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch09.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch09s05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Identifying Problems in ZFS </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Repairing a Missing Device</td></tr></table></div></body></html>
