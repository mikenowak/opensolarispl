<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Using <tt>libpool</tt> to Manipulate
Pool Configurations - Solaris Containers: Resource Management and Solaris Zones Developer's Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >Solaris Containers: Resource Management and Solaris Zones Developer's Guide<?GenHTML /ReferencePage> > <a href="p19.html">6.&nbsp;&nbsp;Resource Pools</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p20.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p22.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="resource-pools-40"></a><h3>Using <tt>libpool</tt> to Manipulate
Pool Configurations</h3>
<p>The <tt>libpool</tt>(3LIB) pool configuration library defines
the interface for reading and writing pools configuration files. The library
also defines the interface for committing an existing configuration to becoming
the running operating system configuration. The &lt;<tt>pool.h</tt>>
header provides type and function declarations for all library services.</p>
<p>The resource pools facility brings together process-bindable resources
into a common abstraction that is called a pool. Processor sets and other
entities can be configured, grouped, and labelled in a persistent fashion.
Workload components can be associated with a subset of a system's total resources.
The <tt>libpool</tt>(3LIB) library provides a C language API for
accessing the resource pools facility. The <tt>pooladm</tt>(1M), <tt>poolbind</tt>(1M), and <tt>poolcfg</tt>(1M) make the resource
pools facility available through command invocations from a shell.</p>
<a name="resource-pools-42"></a><h4>Manipulate <tt>psets</tt></h4>
<p>The following list contains the functions associated with creating or
destroying psets and manipulating <tt>psets</tt>.</p>
<dl><dt><tt>processor_bind</tt>(2)</dt>
<dd><p>Bind an LWP (lightweight process) or set of LWPs to a specified
processor.</p>
</dd>
<dt><tt>pset_assign</tt>(2)</dt>
<dd><p>Assign a processor to a processor set.</p>
</dd>
<dt><tt>pset_bind</tt>(2)</dt>
<dd><p>Bind one or more LWPs (lightweight processes) to a processor
set.</p>
</dd>
<dt><tt>pset_create</tt>(2)</dt>
<dd><p>Create an empty processor set that contains no processors.</p>
</dd>
<dt><tt>pset_destroy</tt>(2)</dt>
<dd><p>Destroy a processor set and release the associated constituent
processors and processes.</p>
</dd>
<dt><tt>pset_setattr</tt>(2), <tt>pset_getattr</tt>(2)</dt>
<dd><p>Set or get processor set attributes.</p>
</dd>
</dl>
<a name="resource-pools-1"></a><h3>Resource Pools API Functions</h3>
<p>This section lists all of the resource pool functions. Each function
has a link to the man page and a short description of the function's purpose.
The functions are divided into two groups, depending on whether the function
performs an action or a query:</p>
<ul><li><p><a href="p21.html#frjko">Functions for Operating on Resource Pools and Associated Elements</a></p>
</li>
<li><p><a href="p22.html">Functions for Querying Resource Pools and Associated Elements</a></p>
</li>
</ul>
<p>The imported interfaces for libpool for swap sets is identical to the
ones defined in this document.</p>
<a name="frjko"></a><h4>Functions for Operating on Resource Pools and Associated
Elements</h4>
<p>The interfaces listed in this section are for performing actions related
to pools and the associated elements.</p>
<dl><dt><tt>pool_associate</tt>(3POOL)</dt>
<dd><p>Associate a resource with a specified pool.</p>
</dd>
<dt><tt>pool_component_to_elem</tt>(3POOL)</dt>
<dd><p>Convert specified component to the pool element type.</p>
</dd>
<dt><tt>pool_conf_alloc</tt>(3POOL)</dt>
<dd><p>Create a pool configuration.</p>
</dd>
<dt><tt>pool_conf_close</tt>(3POOL)</dt>
<dd><p>Close the specified pool configuration and release the associated
resources.</p>
</dd>
<dt><tt>pool_conf_commit</tt>(3POOL)</dt>
<dd><p>Commit changes made to the specified pool configuration to
permanent storage.</p>
</dd>
<dt><tt>pool_conf_export</tt>(3POOL)</dt>
<dd><p>Save the given configuration to the specified location.</p>
</dd>
<dt><tt>pool_conf_free</tt>(3POOL)</dt>
<dd><p>Release a pool configuration.</p>
</dd>
<dt><tt>pool_conf_open</tt>(3POOL)</dt>
<dd><p>Create a pool configuration at the specified location.</p>
</dd>
<dt><tt>pool_conf_remove</tt>(3POOL)</dt>
<dd><p>Removes the permanent storage for the configuration.</p>
</dd>
<dt><tt>pool_conf_rollback</tt>(3POOL)</dt>
<dd><p>Restore the configuration state to the state that is held
in the pool configuration's permanent storage.</p>
</dd>
<dt><tt>pool_conf_to_elem</tt>(3POOL)</dt>
<dd><p>Convert specified pool configuration to the pool element type.</p>
</dd>
<dt><tt>pool_conf_update</tt>(3POOL)</dt>
<dd><p>Update the library snapshot of kernel state.</p>
</dd>
<dt><tt>pool_create</tt>(3POOL)</dt>
<dd><p>Create a new pool with the default properties and with default
resources for each type.</p>
</dd>
<dt><tt>pool_destroy</tt>(3POOL)</dt>
<dd><p>Destroy the specified pool. The associated resources are not
modified.</p>
</dd>
<dt><tt>pool_dissociate</tt>(3POOL)</dt>
<dd><p>Remove the association between the given resource and pool.</p>
</dd>
<dt><tt>pool_put_property</tt>(3POOL)</dt>
<dd><p>Set the named property on the element to the specified value.</p>
</dd>
<dt><tt>pool_resource_create</tt>(3POOL)</dt>
<dd><p>Create a new resource with the specified name and type for
the provided configuration. </p>
</dd>
<dt><tt>pool_resource_destroy</tt>(3POOL)</dt>
<dd><p>Remove the specified resource from the configuration file.</p>
</dd>
<dt><tt>pool_resource_to_elem</tt>(3POOL)</dt>
<dd><p>Convert specified pool resource to the pool element type.</p>
</dd>
<dt><tt>pool_resource_transfer</tt>(3POOL)</dt>
<dd><p>Transfer basic units from the source resource to the target
resource.</p>
</dd>
<dt><tt>pool_resource_xtransfer</tt>(3POOL)</dt>
<dd><p>Transfer the specified components from the source resource
to the target resource.</p>
</dd>
<dt><tt>pool_rm_property</tt>(3POOL)</dt>
<dd><p>Remove the named property from the element.</p>
</dd>
<dt><tt>pool_set_binding</tt>(3POOL)</dt>
<dd><p>Bind the specified processes to the resources that are associated
with pool on the running system.</p>
</dd>
<dt><tt>pool_set_status</tt>(3POOL)</dt>
<dd><p>Modify the current state of the pools facility.</p>
</dd>
<dt><tt>pool_to_elem</tt>(3POOL)</dt>
<dd><p>Convert specified pool to the pool element type.</p>
</dd>
<dt><tt>pool_value_alloc</tt>(3POOL)</dt>
<dd><p>Allocate and return an opaque container for a pool property
value.</p>
</dd>
<dt><tt>pool_value_free</tt>(3POOL)</dt>
<dd><p>Release an allocated property values.</p>
</dd>
<dt><tt>pool_value_set_bool</tt>(3POOL)</dt>
<dd><p>Set a property value of type <tt>boolean</tt>.</p>
</dd>
<dt><tt>pool_value_set_double</tt>(3POOL)</dt>
<dd><p>Set a property value of type <tt>double</tt>.</p>
</dd>
<dt><tt>pool_value_set_int64</tt>(3POOL)</dt>
<dd><p>Set a property value of type <tt>int64</tt>.</p>
</dd>
<dt><tt>pool_value_set_name</tt>(3POOL)</dt>
<dd><p>Set a <tt>name=value</tt> pair for a pool property.</p>
</dd>
<dt><tt>pool_value_set_string</tt>(3POOL)</dt>
<dd><p>Copy the string that was passed in.</p>
</dd>
<dt><tt>pool_value_set_uint64</tt>(3POOL)</dt>
<dd><p>Set a property value of type <tt>uint64</tt>.</p>
</dd>
</dl>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p20.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p22.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

