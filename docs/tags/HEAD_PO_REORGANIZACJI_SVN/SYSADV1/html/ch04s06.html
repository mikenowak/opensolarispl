<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Customizing a User's Work Environment</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Basic Administration"><link rel="up" href="ch04.html" title="Chapter 4. Managing User Accounts and Groups (Overview)"><link rel="prev" href="ch04s05.html" title="Tools for Managing User Accounts and
Groups"><link rel="next" href="ch05.html" title="Chapter 5. Managing User Accounts and
Groups (Tasks)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Customizing a User's Work Environment</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s05.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Managing User Accounts and Groups (Overview)</th><td width="20%" align="right"> <a accesskey="n" href="ch05.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="userconcept-23295"></a>Customizing a User's Work Environment</h2></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix503"></a>
<a class="indexterm" name="userconcept-ix505"></a>
<a class="indexterm" name="indexterm-87"></a>Part of setting up a user's home directory is providing user initialization
files for the user's login shell. A <span class="emphasis"><em>user initialization file</em></span> is
a shell script that sets up a work environment for a user after the user logs
in to a system. Basically, you can perform any task in a user initialization
file that you can do in a shell script. However, a user initialization file's
primary job is to define the characteristics of a user's work environment,
such as a user's search path, environment variables, and windowing environment.
Each login shell has its own user initialization file or files, which are
listed in the following table.     </p>
<div class="table"><a name="userconcept-90062"></a><p class="title"><b>Table 4.17. User Initialization Files
for Bourne, C, and Korn Shells</b></p>


<table summary="User Initialization Files
for Bourne, C, and Korn Shells" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>Shell</p>
</th><th>
<p>User Initialization File</p>
</th><th>
<p>Purpose</p>
</th></tr></thead><tbody><tr><td>
<p>Bourne</p>
</td><td>
<p>
<code class="filename">$HOME/.profile</code>
</p>
</td><td>
<p>Defines the user's environment at login</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix508"></a>
<a class="indexterm" name="userconcept-ix509"></a>C  </p>
</td><td>
<p>
<code class="filename">$HOME/.cshrc</code>
</p>
</td><td>
<p>Defines the user's environment for all C shells and is invoked after
login shell</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix510"></a>
<code class="filename">$HOME/.login</code> </p>
</td><td>
<p>Defines the user's environment at login</p>
<p>
</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix511"></a>Korn </p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix512"></a>
<code class="filename">$HOME/.profile</code> </p>
</td><td>
<p>Defines the user's environment at login</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">$HOME/$ENV</code> </p>
</td><td>
<p>Defines user's environment at login in the file and is specified by
the Korn shell's <span><strong class="command">ENV</strong></span> environment variable</p>
</td></tr></tbody></table>
</div>
<p>
<a class="indexterm" name="userconcept-ix515"></a>
<a class="indexterm" name="userconcept-ix516"></a>
<a class="indexterm" name="userconcept-ix517"></a>The Solaris environment provides default user initialization files
for each shell in the <code class="filename">/etc/skel</code> directory on each system,
as shown in the following table.    </p>
<div class="table"><a name="userconcept-60246"></a><p class="title"><b>Table 4.18. Default User Initialization
Files</b></p>


<table summary="Default User Initialization
Files" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Shell</p>
</th><th>
<p>Default File</p>
</th></tr></thead><tbody><tr><td>
<p>
<a class="indexterm" name="userconcept-ix519"></a>C </p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix520"></a>
<code class="filename">/etc/skel/local.login</code> </p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix521"></a>
<code class="filename">/etc/skel/local.cshrc</code> </p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix523"></a>Bourne or Korn  </p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix524"></a>
<code class="filename">/etc/skel/local.profile</code> </p>
</td></tr></tbody></table>
</div>
<p>
<a class="indexterm" name="userconcept-ix355"></a>
<a class="indexterm" name="userconcept-ix357"></a>
<a class="indexterm" name="userconcept-ix358"></a>
<a class="indexterm" name="userconcept-ix359"></a>
<a class="indexterm" name="userconcept-ix360"></a>You can use these files as a starting point and modify them to
create a standard set of files that provide the work environment common to
all users. Or, you can modify these files to provide the working environment
for different types of users. Although you cannot create customized user initialization
files with the Users tool, you can populate a user's home directory with user
initialization files located in a specified &#8220;skeleton&#8221; directory.
You can do this by creating a user template with the User Templates tool and
specifying a skeleton directory from which to copy user initialization files. </p>
<p>
<a class="indexterm" name="userconcept-ix525"></a>For step-by-step instructions on how to create sets of user initialization
files for different types of users, see <span class="olink">How to Customize User Initialization Files</span>.</p>
<p>When you use the Users tool to create a new user account and select
the create home directory option, the following files are created, depending
on which login shell is selected.</p>
<div class="table"><a name="userconcept-tbl-15"></a><p class="title"><b>Table 4.19. Files Created by Users
Tool When Adding a User</b></p>


<table summary="Files Created by Users
Tool When Adding a User" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Shell</p>
</th><th>
<p>Files Created</p>
</th></tr></thead><tbody><tr><td>
<p>C </p>
</td><td>
<p>The <code class="filename">/etc/skel/local.cshrc</code> and the <code class="filename">/etc/skel/local.login</code> files are copied into the user's home directory and are renamed <code class="filename">.cshrc</code> and <code class="filename">.login</code>, respectively.</p>
</td></tr><tr><td>
<p>Bourne and Korn</p>
</td><td>
<p>The <code class="filename">/etc/skel/local.profile</code> file is copied into
the user's home directory and renamed <code class="filename">.profile.</code>
</p>
</td></tr></tbody></table>
</div>
<p>If you use the <span><strong class="command">useradd</strong></span> command to add a new user
account and specify the <code class="filename">/etc/skel</code> directory by using
the <code class="option">
k</code> and <code class="option">
m</code> options, all three <code class="filename">/etc/skel/local</code>* files and the <code class="filename">/etc/skel/.profile</code> file are
copied into the user's home directory. At this point, you need to rename them
to whatever is appropriate for the user's login shell.</p>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="userconcept-42091"></a>Using Site Initialization Files</h3></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix526"></a>
<a class="indexterm" name="userconcept-ix527"></a>The user initialization files can be customized by both the administrator
and the user. This important feature can be accomplished with centrally located
and globally distributed user initialization files, called <span class="emphasis"><em>site
initialization files</em></span>. Site initialization files enable you to continually
introduce new functionality to the user's work environment, while enabling
the user to customize the user's initialization file.</p>
<p>When you reference a site initialization file in a user initialization
file, all updates to the site initialization file are automatically reflected
when the user logs in to the system or when a user starts a new shell. Site
initialization files are designed for you to distribute site-wide changes
to users' work environments that you did not anticipate when you added the
users.</p>
<p>You can customize a site initialization file the same way that you customize
a user initialization file. These files typically reside on a server, or set
of servers, and appear as the first statement in a user initialization file.
Also, each site initialization file must be the same type of shell script
as the user initialization file that references it.</p>
<p>
<a class="indexterm" name="userconcept-ix528"></a>
<a class="indexterm" name="userconcept-ix530"></a>To reference a site initialization file in a C-shell user initialization
file, place a line similar to the following at the beginning of the user initialization
file:</p>
<pre class="screen">source /net/<em class="replaceable"><code>machine-name/export/site-files/site-init-file</code></em>
</pre>
<p>To reference a site initialization file in a Bourne-shell or Korn-shell
user initialization file, place a line similar to the following at the beginning
of the user initialization file:  </p>
<pre class="screen">. /net/<em class="replaceable"><code>machine-name/export/site-files/site-init-file</code></em>
</pre>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="userconcept-18"></a>Avoiding Local System References</h3></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix533"></a>
<a class="indexterm" name="userconcept-ix534"></a>You should not add specific references to the local system in
the user initialization file. You want the instructions in a user initialization
file to be valid regardless of which system the user logs into. For example:
 </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>To make a user's home directory available anywhere on the
network, always refer to the home directory with the variable <code class="literal">$HOME</code>.
For example, use <code class="literal">$HOME/bin</code> instead of <code class="filename">/export/home/</code>
<em class="replaceable"><code>username</code></em>
<code class="filename">/bin</code>. The <code class="literal">$HOME</code> variable
works when the user logs in to another system and the home directories are
automounted. </p>
</li><li>
<p>To access files on a local disk, use global path names, such
as <code class="filename">/net/</code>
<em class="replaceable"><code>system-name/directory-name</code></em>.
Any directory referenced by <code class="filename">/net/</code>
<em class="replaceable"><code>system-name</code></em> can
be mounted automatically on any system on which the user logs in, assuming
the system is running AutoFS.</p>
</li></ul></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="userconcept-19"></a>Shell Features</h3></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix536"></a>
<a class="indexterm" name="userconcept-ix537"></a>
<a class="indexterm" name="userconcept-ix538"></a>
<a class="indexterm" name="userconcept-ix539"></a>
<a class="indexterm" name="userconcept-ix540"></a>
<a class="indexterm" name="userconcept-ix541"></a>
<a class="indexterm" name="userconcept-ix543"></a>
<a class="indexterm" name="userconcept-ix544"></a>
<a class="indexterm" name="userconcept-ix545"></a>
<a class="indexterm" name="userconcept-ix547"></a>The following table lists basic shell features that each shell
provides, which can help you determine what you can and can't do when creating
user initialization files for each shell.            </p>
<div class="table"><a name="userconcept-75869"></a><p class="title"><b>Table 4.20. Basic Features of Bourne,
C, and Korn Shells</b></p>


<table summary="Basic Features of Bourne,
C, and Korn Shells" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
<p>Feature</p>
</th><th>
<p>Bourne</p>
</th><th>
<p>C</p>
</th><th>
<p>Korn</p>
</th></tr></thead><tbody><tr><td>
<p>Known as the standard shell in UNIX</p>
</td><td>
<p>Yes</p>
</td><td>
<p>No</p>
</td><td>
<p>No</p>
</td></tr><tr><td>
<p>Compatible syntax with Bourne shell</p>
</td><td>
<p>-</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Job control</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>History list</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Command-line editing</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Aliases</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Single-character abbreviation for login directory</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Protection from overwriting (<code class="literal">noclobber</code>)</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Setting to ignore Control-D <code class="literal">(ignoreeof)</code>
</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Enhanced <span><strong class="command">cd</strong></span> command</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Initialization file separate from <code class="filename">.profile</code>
</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>Yes</p>
</td></tr><tr><td>
<p>Logout file</p>
</td><td>
<p>No</p>
</td><td>
<p>Yes</p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix548"></a>
<a class="indexterm" name="userconcept-ix549"></a>
<a class="indexterm" name="userconcept-ix551"></a>No    </p>
</td></tr></tbody></table>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="userconcept-26"></a>Shell Environment</h3></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix552"></a>
<a class="indexterm" name="userconcept-ix553"></a>
<a class="indexterm" name="userconcept-ix554"></a>
<a class="indexterm" name="userconcept-ix555"></a>A shell maintains an environment that includes a set of variables
defined by the <span><strong class="command">login</strong></span> program, the system initialization
file, and the user initialization files. In addition, some variables are defined
by default. A shell can have two types of variables: </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>
<a class="indexterm" name="userconcept-ix557"></a>
<a class="indexterm" name="userconcept-ix558"></a>
<span class="strong"><strong>Environment variables &#8211;</strong></span> Variables
that are exported to all processes spawned by the shell. Their settings can
be seen with the <span><strong class="command">env</strong></span> command. A subset of environment variables,
such as <code class="literal">PATH</code>, affects the behavior of the shell itself.
 </p>
</li><li>
<p>
<a class="indexterm" name="userconcept-ix559"></a>
<a class="indexterm" name="indexterm-88"></a>
<a class="indexterm" name="userconcept-ix566"></a>
<span class="strong"><strong>Shell (local) variables &#8211;</strong></span> Variables
that affect only the current shell. In the C shell, a set of these shell variables
have a special relationship to a corresponding set of environment variables.
These shell variables are <code class="literal">user</code>, <code class="literal">term</code>, <code class="literal">home</code>, and <code class="literal">path</code>. The value of the environment
variable counterpart is initially used to set the shell variable.   </p>
</li></ul></div>
<p>
<a class="indexterm" name="userconcept-ix567"></a>
<a class="indexterm" name="userconcept-ix568"></a>
<a class="indexterm" name="userconcept-ix569"></a>
<a class="indexterm" name="userconcept-ix570"></a>In the C shell, you use the lowercase names with the <span><strong class="command">set</strong></span> command
to set shell variables. You use uppercase names with the <span><strong class="command">setenv</strong></span> command
to set environment variables. If you set a shell variable, the shell sets
the corresponding environment variable and vice versa. For example, if you
update the <code class="literal">path</code> shell variable with a new path, the shell
also updates the <code class="literal">PATH</code> environment variable with the new
path.    </p>
<p>In the Bourne and Korn shells, you can use the uppercase variable name
equal to some value to set both shell and environment variables. You also
have to use the <span><strong class="command">export</strong></span> command to activate the variables
for any subsequently executed commands.</p>
<p>For all shells, you generally refer to shell and environment variables
by their uppercase names. </p>
<p>
<a class="indexterm" name="userconcept-ix577"></a>
<a class="indexterm" name="userconcept-ix578"></a>In a user initialization file, you can customize a user's shell
environment by changing the values of the predefined variables or by specifying
additional variables. The following table shows how to set environment variables
in a user initialization file.  </p>
<div class="table"><a name="userconcept-23034"></a><p class="title"><b>Table 4.21. Setting Environment Variables
in a User Initialization File</b></p>


<table summary="Setting Environment Variables
in a User Initialization File" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p> Shell Type</p>
</th><th>
<p>Line to Add to the User Initialization File</p>
</th></tr></thead><tbody><tr><td>
<p>
<a class="indexterm" name="userconcept-ix579"></a>
<a class="indexterm" name="userconcept-ix580"></a>C shell  </p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix581"></a>
<span><strong class="command">setenv</strong></span> <em class="replaceable"><code>VARIABLE</code></em> <em class="replaceable"><code>value</code></em> </p>
<p>
<a class="indexterm" name="userconcept-ix582"></a>Example: </p>
<p>
<span><strong class="command">setenv MAIL /var/mail/ripley</strong></span>
</p>
</td></tr><tr><td>
<p>Bourne or Korn shell </p>
</td><td>
<p>
<em class="replaceable"><code>VARIABLE</code></em>
<span><strong class="command">=</strong></span>
<em class="replaceable"><code>value</code></em>
<span><strong class="command">; export</strong></span> <em class="replaceable"><code>VARIABLE</code></em>
</p>
<p>Example:</p>
<p>
<span><strong class="command">MAIL=/var/mail/ripley;export MAIL</strong></span>
</p>
</td></tr></tbody></table>
</div>
<p>
<a class="indexterm" name="userconcept-ix588"></a>
<a class="indexterm" name="userconcept-ix589"></a>
<a class="indexterm" name="userconcept-ix590"></a>The following table describes environment variables and shell
variables that you might want to customize in a user initialization file.
For more information about variables that are used by the different shells,
see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">sh</span>
(
1
)
</span>
</span>, <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">ksh</span>
(
1
)
</span>
</span>, or <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">csh</span>
(
1
)
</span>
</span> man pages.</p>
<div class="table"><a name="userconcept-25244"></a><p class="title"><b>Table 4.22. Shell and Environment
Variable Descriptions</b></p>


<table summary="Shell and Environment
Variable Descriptions" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Variable</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<a class="indexterm" name="userconcept-ix594"></a>
<code class="literal">CDPATH</code>, or <code class="literal">cdpath</code> in the
C shell  </p>
</td><td>
<p>Sets a variable used by the <span><strong class="command">cd</strong></span> command. If the target
directory of the <span><strong class="command">cd</strong></span> command is specified as a relative
path name, the <span><strong class="command">cd</strong></span> command first looks for the target directory
in the current directory (&#8220;.&#8221;). If the target is not found, the
path names listed in the <code class="literal">CDPATH</code> variable are searched consecutively
until the target directory is found and the directory change is completed.
If the target directory is not found, the current working directory is left
unmodified. For example, the <code class="literal">CDPATH</code> variable is set to <code class="filename">/home/jean</code>, and two directories exist under <code class="filename">/home/jean</code>, <code class="filename">bin</code>, and <code class="filename">rje</code>. If you are in the <code class="filename">/home/jean/bin</code> directory and type <span><strong class="command">cd rje</strong></span>, you change directories
to <code class="filename">/home/jean/rje</code>, even though you do not specify a full
path.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix597"></a>
<code class="literal">history</code> </p>
</td><td>
<p>Sets the history for the C shell.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix599"></a>
<code class="literal">HOME</code>, or <code class="literal">home</code> in the C shell</p>
</td><td>
<p>Sets the path to the user's home directory.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix600"></a>
<a class="indexterm" name="userconcept-ix601"></a>
<code class="literal">LANG</code>  </p>
</td><td>
<p>Sets the locale.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix602"></a>
<code class="literal">LOGNAME</code> </p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix603"></a>Defines the name of the user currently logged in. The default
value of <code class="literal">LOGNAME</code> is set automatically by the login program
to the user name specified in the <code class="filename">passwd</code> file. You should
only need to refer to, not reset, this variable. </p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix604"></a>
<a class="indexterm" name="userconcept-ix606"></a>
<code class="literal">LPDEST</code>  </p>
</td><td>
<p>Sets the user's default printer.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix607"></a>
<code class="literal">MAIL</code> </p>
</td><td>
<p>Sets the path to the user's mailbox.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix608"></a>
<code class="literal">MANPATH</code> </p>
</td><td>
<p>Sets the hierarchies of man pages that are available.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix611"></a>
<a class="indexterm" name="userconcept-ix612"></a>
<code class="literal">PATH</code>, or <code class="literal">path</code> in the C shell
 </p>
</td><td>
<p>Specifies, in order, the directories that the shell searches to find
the program to run when the user types a command. If the directory is not
in the search path, users must type the complete path name of a command. </p>
<p>
<a class="indexterm" name="userconcept-ix615"></a>As part of the login process, the default <code class="literal">PATH</code> is
automatically defined and set as specified in <code class="filename">.profile</code> (Bourne
or Korn shell) or <code class="filename">.cshrc</code> (C shell). </p>
<p>The order of the search path is important. When identical commands exist
in different locations, the first command found with that name is used. For
example, suppose that <code class="literal">PATH</code> is defined in Bourne and Korn
shell syntax as <code class="literal">PATH=/bin:/usr/bin:/usr/sbin:$HOME/bin</code> and
a file named <code class="filename">sample</code> resides in both <code class="filename">/usr/bin</code> and <code class="filename">/home/jean/bin</code>. If the user types the command <span><strong class="command">sample</strong></span> without
specifying its full path name, the version found in <code class="filename">/usr/bin</code> is
used.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix616"></a>
<code class="literal">prompt</code> </p>
</td><td>
<p>Defines the shell prompt for the C shell.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix617"></a>
<code class="literal">PS1</code> </p>
</td><td>
<p>Defines the shell prompt for the Bourne or Korn shell.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix618"></a>
<a class="indexterm" name="userconcept-ix620"></a>
<code class="literal">SHELL</code>, or <code class="literal">shell</code> in the C
shell   </p>
</td><td>
<p>Sets the default shell used by <span><strong class="command">make</strong></span>, <span><strong class="command">vi</strong></span>,
and other tools.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix622"></a>
<code class="literal">TERMINFO</code> </p>
</td><td>
<p>Specifies the path name for an unsupported terminal that has been added
to the <code class="filename">terminfo</code> file. Use the <code class="literal">TERMINFO</code> variable
in either the <code class="filename">/etc/profile</code> or <code class="filename">/etc/.login</code> file. </p>
<p>
</p>
<p>When the <code class="literal">TERMINFO</code> environment variable is set, the
system first checks the <code class="literal">TERMINFO</code> path defined by the user.
If the system does not find a definition for a terminal in the <code class="literal">TERMINFO</code> directory
defined by the user, it searches the default directory, <code class="filename">/usr/share/lib/terminfo</code>, for a definition. If the system does not find a definition in
either location, the terminal is identified as &#8220;dumb.&#8221;</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix623"></a>
<code class="literal">TERM</code>, or term in the C shell  </p>
</td><td>
<p>Defines the terminal. This variable should be reset in either the <code class="filename">/etc/profile</code> or <code class="filename">/etc/.login</code> file. When the
user invokes an editor, the system looks for a file with the same name that
is defined in this environment variable. The system searches the directory
referenced by <code class="literal">TERMINFO</code> to determine the terminal characteristics.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="userconcept-ix625"></a>
<a class="indexterm" name="userconcept-ix626"></a>
<code class="literal">TZ</code>  </p>
</td><td>
<p>
<a class="indexterm" name="userconcept-ix627"></a>
<a class="indexterm" name="userconcept-ix628"></a>Sets the time zone. The time zone is used to display dates, for
example, in the <span><strong class="command">ls -l</strong></span>  command. If <code class="literal">TZ</code> is
not set in the user's environment, the system setting is used. Otherwise,
Greenwich Mean Time is used.  </p>
</td></tr></tbody></table>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="userconcept-39855"></a>The <code class="literal">PATH</code> Variable</h3></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix637"></a>
<a class="indexterm" name="userconcept-ix638"></a>When the user executes a command by using the full path, the shell
uses that path to find the command. However, when users specify only a command
name, the shell searches the directories for the command in the order specified
by the <code class="literal">PATH</code> variable. If the command is found in one of
the directories, the shell executes the command.  </p>
<p>A default path is set by the system. However, most users modify it to
add other command directories. Many user problems related to setting up the
environment and accessing the correct version of a command or a tool can be
traced to incorrectly defined paths.</p>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="userconcept-21"></a>Setting Path Guidelines</h4></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix639"></a>Here are some guidelines for setting up efficient <code class="literal">PATH</code> variables: </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>If security is not a concern, put the current working directory
(.) first in the path. However, including the current working directory in
the path poses a security risk that you might want to avoid, especially for
superuser. </p>
</li><li>
<p>Keep the search path as short as possible. The shell searches
each directory in the path. If a command is not found, long searches can slow
down system performance.</p>
</li><li>
<p>The search path is read from left to right, so you should
put directories for commonly used commands at the beginning of the path.</p>
</li><li>
<p>Make sure that directories are not duplicated in the path.</p>
</li><li>
<p>Avoid searching large directories, if possible. Put large
directories at the end of the path.</p>
</li><li>
<p>Put local directories before NFS mounted directories to lessen
the chance of &#8220;hanging&#8221; when the NFS server does not respond.
This strategy also reduces unnecessary network traffic.</p>
</li></ul></div>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="userconcept-22"></a>Examples&#8212;Setting a User's Default
Path</h4></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix641"></a>
<a class="indexterm" name="userconcept-ix642"></a>
<a class="indexterm" name="userconcept-ix643"></a>The following examples show how to set a user's default path to
include the home directory and other NFS mounted directories. The current
working directory is specified first in the path. In a C-shell user initialization
file, you would add the following: </p>
<pre class="screen">set path=(. /usr/bin $HOME/bin /net/glrr/files1/bin)</pre>
<p>In a Bourne-shell or Korn-shell user initialization file, you would
add the following:</p>
<pre class="screen">PATH=.:/usr/bin:/$HOME/bin:/net/glrr/files1/bin
export PATH</pre>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="userconcept-23"></a>Locale Variables</h3></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix644"></a>
<a class="indexterm" name="userconcept-ix645"></a>
<a class="indexterm" name="userconcept-ix646"></a>The <code class="literal">LANG</code> and <code class="literal">LC</code> environment
variables specify the locale-specific conversions and conventions for the
shell. These conversions and conventions include time zones, collation orders,
and formats of dates, time, currency, and numbers. In addition, you can use
the <span><strong class="command">stty</strong></span> command in a user initialization file to indicate
whether the terminal session will support multibyte characters.   </p>
<p>The <code class="literal">LANG</code> variable sets all possible conversions and
conventions for the given locale. You can set various aspects of localization
separately through these <code class="literal">LC</code> variables: <code class="literal">LC_COLLATE</code>, <code class="literal">LC_CTYPE</code>, <code class="literal">LC_MESSAGES</code>, <code class="literal">LC_NUMERIC</code>, <code class="literal">LC_MONETARY</code>, and <code class="literal">LC_TIME</code>.</p>
<p>The following table describes some of the values for the <code class="literal">LANG</code> and <code class="literal">LC</code> environment variables.</p>
<div class="table"><a name="userconcept-26294"></a><p class="title"><b>Table 4.23. Values for <code class="literal">LANG</code> and <code class="literal">LC</code> Variables</b></p>


<table summary="Values for LANG and LC Variables" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Value</p>
</th><th>
<p>Locale</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">de_DE.ISO8859-1</code>
</p>
</td><td>
<p>
<code class="literal">German</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">en_US.UTF-8</code>
</p>
</td><td>
<p>
<code class="literal">American English</code> (UTF-8)</p>
</td></tr><tr><td>
<p>
<code class="literal">es_ES.ISO8859-1</code>
</p>
</td><td>
<p>
<code class="literal">Spanish</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">fr_FR.ISO8859-1</code>
</p>
</td><td>
<p>
<code class="literal">French</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">it_IT.ISO8859-1</code> </p>
</td><td>
<p>
<code class="literal">Italian</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">ja_JP.eucJP</code>
</p>
</td><td>
<p>
<code class="literal">Japanese</code> (EUC)</p>
</td></tr><tr><td>
<p>
<code class="literal">ko_KR.EUC</code>
</p>
</td><td>
<p>
<code class="literal">Korean</code> (EUC)</p>
</td></tr><tr><td>
<p>
<code class="literal">sv_SE.ISO8859-1</code>
</p>
</td><td>
<p>
<code class="literal">Swedish</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">zh_CN.EUC</code>
</p>
</td><td>
<p>
<code class="literal">Simplified Chinese</code> (EUC)</p>
</td></tr><tr><td>
<p>
<code class="literal">zh_TW.EUC</code>
</p>
</td><td>
<p>
<code class="literal">Traditional Chinese</code> (EUC)</p>
</td></tr></tbody></table>
</div>
<p>For more information on supported locales, see the <em class="citetitle">International
Language Environments Guide</em>.</p>
<div class="example"><a name="userconcept-24"></a><p class="title"><b>Example 4.1. Setting the Locale Using the <code class="literal">LANG</code> Variables</b></p>


<p>
<a class="indexterm" name="userconcept-ix648"></a>
<a class="indexterm" name="userconcept-ix649"></a>
<a class="indexterm" name="userconcept-ix650"></a>
<a class="indexterm" name="userconcept-ix651"></a>
<a class="indexterm" name="userconcept-ix652"></a>
<a class="indexterm" name="userconcept-ix655"></a>
<a class="indexterm" name="userconcept-ix656"></a>The following examples show how to set the locale by using the <code class="literal">LANG</code> environment variables. In a C-shell user initialization file,
you would add the following:</p>
<pre class="screen">setenv LANG de_DE.ISO8859-1</pre>
<p>In a Bourne-shell or Korn-shell user initialization file, you would
add the following:</p>
<pre class="screen">LANG=de_DE.ISO8859-1; export LANG</pre>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="userconcept-95347"></a>Default File Permissions (<span><strong class="command">umask</strong></span>)</h3></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix657"></a>
<a class="indexterm" name="userconcept-ix658"></a>
<a class="indexterm" name="userconcept-ix660"></a>
<a class="indexterm" name="userconcept-ix661"></a>
<a class="indexterm" name="userconcept-ix663"></a>
<a class="indexterm" name="userconcept-ix664"></a>
<a class="indexterm" name="userconcept-ix665"></a>
<a class="indexterm" name="userconcept-ix666"></a>When you create a file or directory, the default file permissions
assigned to the file or directory are controlled by the <span class="emphasis"><em>user mask</em></span>.
The user mask is set by the <span><strong class="command">umask</strong></span> command in a user initialization
file. You can display the current value of the user mask by typing <span><strong class="command">umask</strong></span> and pressing Return.        </p>
<p>
<a class="indexterm" name="userconcept-ix667"></a>
<a class="indexterm" name="userconcept-ix668"></a>
<a class="indexterm" name="userconcept-ix669"></a>The user mask contains the following octal values:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The first digit sets permissions for the user</p>
</li><li>
<p>The second digit sets permissions for group</p>
</li><li>
<p>The third digit sets permissions for other, also referred
to as <code class="literal">world</code>
</p>
</li></ul></div>
<p>Note that if the first digit is zero, it is not displayed. For example,
if the user mask is set to 022, 22 is displayed.</p>
<p>To determine the <span><strong class="command">umask</strong></span> value you want to set, subtract
the value of the permissions you want from 666 (for a file) or 777 (for a
directory). The remainder is the value to use with the <span><strong class="command">umask</strong></span> command.
For example, suppose you want to change the default mode for files to 644
(<span><strong class="command">rw-r--r--</strong></span>). The difference between 666 and 644 is 022,
which is the value you would use as an argument to the <span><strong class="command">umask</strong></span> command.</p>
<p>You can also determine the <span><strong class="command">umask</strong></span> value you want to
set by using the following table. This table shows the file and directory
permissions that are created for each of the octal values of <span><strong class="command">umask</strong></span>.</p>
<div class="table"><a name="userconcept-86325"></a><p class="title"><b>Table 4.24. Permissions for <span>umask</span> Values</b></p>


<table summary="Permissions for umask Values" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>
<span><strong class="command">umask</strong></span> Octal Value</p>
</th><th>
<p>File Permissions</p>
</th><th>
<p>Directory Permissions</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">0</code>
</p>
</td><td>
<p>
<code class="literal">rw-</code>
</p>
</td><td>
<p>
<code class="literal">rwx</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">1</code>
</p>
</td><td>
<p>
<code class="literal">rw-</code>
</p>
</td><td>
<p>
<code class="literal">rw-</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">2</code>
</p>
</td><td>
<p>
<code class="literal">r--</code>
</p>
</td><td>
<p>
<code class="literal">r-x</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">3</code>
</p>
</td><td>
<p>
<code class="literal">r--</code>
</p>
</td><td>
<p>
<code class="literal">r--</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">4</code>
</p>
</td><td>
<p>
<code class="literal">-w-</code>
</p>
</td><td>
<p>
<code class="literal">-wx</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">5</code>
</p>
</td><td>
<p>
<code class="literal">-w-</code>
</p>
</td><td>
<p>
<code class="literal">-w-</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">6</code>
</p>
</td><td>
<p>
<code class="literal">--x</code>
</p>
</td><td>
<p>
<code class="literal">--x</code>
</p>
</td></tr><tr><td>
<p>
<code class="literal">7</code>
</p>
</td><td>
<p>
<code class="literal">---</code> (none)</p>
</td><td>
<p>
<code class="literal">---</code> (none)</p>
</td></tr></tbody></table>
</div>
<p>The following line in a user initialization file sets the default file
permissions to <code class="literal">rw-rw-rw-</code>.</p>
<pre class="screen">umask 000</pre>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="userconcept-12669"></a>Examples of User and Site Initialization
Files</h3></div></div></div>

<p>
<a class="indexterm" name="userconcept-ix670"></a>The following sections provide examples of user and site initialization
files that you can use to start customizing your own initialization files.
These examples use system names and paths that you need to change for your
particular site. </p>
<div class="example"><a name="userconcept-25"></a><p class="title"><b>Example 4.2. The <code class="filename">.profile</code> File</b></p>


<a class="indexterm" name="userconcept-ix671"></a>
<a class="indexterm" name="userconcept-ix673"></a>
<a class="indexterm" name="userconcept-ix674"></a>
<a class="indexterm" name="userconcept-ix676"></a>
<a class="indexterm" name="userconcept-ix677"></a>
<a class="indexterm" name="userconcept-ix678"></a>
<a class="indexterm" name="userconcept-ix679"></a>
<pre class="screen">
<em class="lineannotation"><span class="lineannotation">(Line 1)</span></em> PATH=$PATH:$HOME/bin:/usr/local/bin:/usr/ccs/bin:. 
<em class="lineannotation"><span class="lineannotation">(Line 2)</span></em> MAIL=/var/mail/$LOGNAME 
<em class="lineannotation"><span class="lineannotation">(Line 3)</span></em> NNTPSERVER=server1 
<em class="lineannotation"><span class="lineannotation">(Line 4)</span></em> MANPATH=/usr/share/man:/usr/local/man 
<em class="lineannotation"><span class="lineannotation">(Line 5)</span></em> PRINTER=printer1 
<em class="lineannotation"><span class="lineannotation">(Line 6)</span></em> umask 022 
<em class="lineannotation"><span class="lineannotation">(Line 7)</span></em> export PATH MAIL NNTPSERVER MANPATH PRINTER</pre>
<div class="orderedlist"><ol type="1"><li>
<p>Defines the user's shell search path</p>
</li><li>
<p>Defines the path to the user's mail file</p>
</li><li>
<p>Defines the user's Usenet news server</p>
</li><li>
<p>Defines the user's search path for man pages</p>
</li><li>
<p>Defines the user's default printer</p>
</li><li>
<p>Sets the user's default file creation permissions</p>
</li><li>
<p>Sets the listed environment variables</p>
</li></ol></div>
</div>
<div class="example"><a name="userconcept-25815"></a><p class="title"><b>Example 4.3. The <code class="filename">.cshrc</code> File</b></p>


<pre class="screen">
<em class="lineannotation"><span class="lineannotation">(Line 1)</span></em> set path=($PATH $HOME/bin /usr/local/bin /usr/ccs/bin)
<em class="lineannotation"><span class="lineannotation">(Line 2)</span></em> setenv MAIL /var/mail/$LOGNAME 
<em class="lineannotation"><span class="lineannotation">(Line 3)</span></em> setenv NNTPSERVER server1 
<em class="lineannotation"><span class="lineannotation">(Line 4)</span></em> setenv PRINTER printer1 
<em class="lineannotation"><span class="lineannotation">(Line 5)</span></em> alias h history 
<em class="lineannotation"><span class="lineannotation">(Line 6)</span></em> umask 022 
<em class="lineannotation"><span class="lineannotation">(Line 7)</span></em> source /net/server2/site-init-files/site.login </pre>
<div class="orderedlist"><ol type="1"><li>
<p>Defines the user's shell search path.</p>
</li><li>
<p>Defines the path to the user's mail file.</p>
</li><li>
<p>Defines the user's Usenet news server.</p>
</li><li>
<p>Defines the user's default printer.</p>
</li><li>
<p>Creates an alias for the <span><strong class="command">history</strong></span> command.
The user needs to type only <span><strong class="command">h</strong></span> to run the <span><strong class="command">history</strong></span> command.</p>
</li><li>
<p>Sets the user's default file creation permissions.</p>
</li><li>
<p>Sources the site initialization file.</p>
</li></ol></div>
</div>
<div class="example"><a name="userconcept-38844"></a><p class="title"><b>Example 4.4. Site Initialization File</b></p>


<p>The following shows an example site initialization file in which a user
can choose a particular version of an application. </p>
<pre class="programlisting"># @(#)site.login
main: 
echo "Application Environment Selection"
echo ""
echo "1. Application, Version 1"
echo "2. Application, Version 2"
echo "" 
echo -n "Type 1 or 2 and press Return to set your 
application environment: " 

set choice = $&lt;	

if ( $choice !~ [1-2] ) then 
goto main 
endif 

switch ($choice) 

case "1": 
setenv APPHOME /opt/app-v.1 
breaksw 

case "2": 
setenv APPHOME /opt/app-v.2 
endsw</pre>
<p>This site initialization file could be referenced in a user's <code class="filename">.cshrc</code> file (C shell users only) with the following line:</p>
<pre class="screen">source /net/server2/site-init-files/site.login</pre>
<p>In this line, the site initialization file is named <code class="filename">site.login</code> and
is located on a server named <code class="literal">server2</code>. This line also assumes
that the automounter is running on the user's system.</p>
</div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Tools for Managing User Accounts and
Groups </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 5. Managing User Accounts and
Groups (Tasks)</td></tr></table></div></body></html>
