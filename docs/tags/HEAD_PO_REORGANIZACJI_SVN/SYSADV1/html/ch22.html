<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 22. Managing Solaris Patches by Using Sun Patch
Manager (Tasks)</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Basic Administration"><link rel="up" href="index.html" title="System Administration Guide: Basic Administration"><link rel="prev" href="ch21s06.html" title="Solaris Patch Management Terms and Definitions"><link rel="next" href="ch22s02.html" title="Sun Patch Manager Concepts"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 22. Managing Solaris Patches by Using Sun Patch
Manager (Tasks)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch21s06.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch22s02.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="patchmanager-1"></a>Chapter 22. Managing Solaris Patches by Using Sun Patch
Manager (Tasks)</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="ch22.html#newfeatures">Patch Manager Features</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch22.html#ppoverview">PatchPro Analysis Engine</a></span></dt><dt><span class="sect2"><a href="ch22.html#localmodesmpatch">Local-Mode Command-Line Interface</a></span></dt><dt><span class="sect2"><a href="ch22.html#singleuseroperations">Single-User Mode Operations in Local
Mode</a></span></dt><dt><span class="sect2"><a href="ch22.html#oploverview">Patch List Operations</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch22s02.html">Sun Patch Manager Concepts</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch22s02.html#patchprocess">Patch Management Process</a></span></dt><dt><span class="sect2"><a href="ch22s02.html#sourceofpatches">Specifying the Source of Patches</a></span></dt><dt><span class="sect2"><a href="ch22s02.html#patchpolicy">Customizing the Policy for Applying Patches</a></span></dt><dt><span class="sect2"><a href="ch22s02.html#configproperties">Setting Patch Manager Configuration Parameters</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch22s03.html">Getting Started With Patch Manager</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch22s03.html#featuresummary">Tasks
Supported by Sun Patch Manager</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch22s04.html">Managing Solaris Patches by Using
the Sun Patch Manager Command-Line Interface (Task Map)</a></span></dt><dt><span class="sect1"><a href="ch22s05.html">Accessing the Sun Patch Manager Command-Line
Interface</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch22s05.html#id2145259"></a></span></dt></dl></dd><dt><span class="sect1"><a href="ch22s06.html">Configuring Your Patch Management
Environment by Using the Command-Line Interface (Task Map)</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch22s06.html#id2146261"></a></span></dt><dt><span class="sect2"><a href="ch22s06.html#id2146506"></a></span></dt><dt><span class="sect2"><a href="ch22s06.html#id2146724"></a></span></dt></dl></dd><dt><span class="sect1"><a href="ch22s07.html">Managing Patches by Using the Command-Line
Interface (Task Map)</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch22s07.html#id2147793"></a></span></dt><dt><span class="sect2"><a href="ch22s07.html#id2148168"></a></span></dt><dt><span class="sect2"><a href="ch22s07.html#id2148676"></a></span></dt><dt><span class="sect2"><a href="ch22s07.html#id2149096"></a></span></dt><dt><span class="sect2"><a href="ch22s07.html#id2149330"></a></span></dt><dt><span class="sect2"><a href="ch22s07.html#id2149585"></a></span></dt><dt><span class="sect2"><a href="ch22s07.html#id2150150"></a></span></dt><dt><span class="sect2"><a href="ch22s07.html#id2150336"></a></span></dt></dl></dd><dt><span class="sect1"><a href="ch22s08.html">Tuning Your Patch Management Environment
by Using the Command-Line Interface (Task Map)</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch22s08.html#id2151009"></a></span></dt><dt><span class="sect2"><a href="ch22s08.html#id2151413"></a></span></dt><dt><span class="sect2"><a href="ch22s08.html#id2151673"></a></span></dt><dt><span class="sect2"><a href="ch22s08.html#id2151869"></a></span></dt><dt><span class="sect2"><a href="ch22s08.html#id2152253"></a></span></dt></dl></dd><dt><span class="sect1"><a href="ch22s09.html">Patch Manager Troubleshooting</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch22s09.html#generaltroubleshooting">Patch Manager General
Errors</a></span></dt></dl></dd></dl></div>





<div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="newfeatures"></a>Patch Manager Features</h2></div></div></div>

<p>Patch Manager has the following features:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>PatchPro analysis engine</p>
</li><li>
<p>Local-mode command-line interface</p>
</li><li>
<p>Patch list operations</p>
</li></ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>The Sun Update Connection software has the same functionality
as the Sun Patch Manager 2.0 tools, with the addition of some new features
and enhancements. If you are running the Solaris 10 initial release, and you
want to use Sun Update Connection, install the appropriate patches or upgrade
your system to the Solaris Express 10/05 release.</p>
<p>For information about installing and using the Sun Update Connection,
System Edition software, see the product documentation at <a href="http://docs.sun.com/app/docs/coll/1320.1" target="_top">
</a>.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="ppoverview"></a>PatchPro Analysis Engine</h3></div></div></div>

<a class="indexterm" name="indexterm-426"></a>
<a class="indexterm" name="indexterm-427"></a>
<p>Patch Manager incorporates <span class="olink">
<span class="emphasis"><em>PatchPro</em></span>
</span> functionality
to automate the patch management process. This process includes performing
patch analyses on systems, then downloading and applying the resulting patches.
This automation functionality was previously available for Solaris 2.6, Solaris
7, Solaris 8, and Solaris 9 as a separate PatchPro product and is now part
of the standard Solaris 10 release.</p>
<p>PatchPro uses signed patches, which improves the security of Solaris
patches by ensuring that they have not been modified.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>The <span><strong class="command">pprosetup</strong></span> and <span><strong class="command">pprosvc</strong></span> commands
are included with Sun Patch Manager 2.0 for transition purposes. It is best <span class="emphasis"><em>not</em></span> to use these commands and to use the <span><strong class="command">smpatch</strong></span> command
instead.</p>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="localmodesmpatch"></a>Local-Mode Command-Line Interface</h3></div></div></div>

<a class="indexterm" name="indexterm-428"></a>
<a class="indexterm" name="indexterm-429"></a>
<a class="indexterm" name="indexterm-430"></a>
<a class="indexterm" name="indexterm-431"></a>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>On Solaris 8 systems, you can only run <span><strong class="command">smpatch</strong></span> in
local mode.</p>
</div>
<p>Starting with Solaris 9, the <span><strong class="command">smpatch</strong></span> command is available
in two modes: local mode and remote mode. <span class="emphasis"><em>Local mode</em></span> can
only be run on the local system. This mode can be run while the system is
in single-user or multiuser mode. <span class="emphasis"><em>Remote mode</em></span> can be
used to perform tasks on remote systems. Both local mode and remote mode can
be used by users or roles that have the appropriate authorizations. <a class="indexterm" name="indexterm-432"></a>
</p>
<p>By default, local mode is run. In local mode, the Solaris WBEM services
are not used, and none of the authentication options or those options referring
to remote systems are available. The <span><strong class="command">smpatch</strong></span> command in
local mode runs faster than in remote mode.</p>
<p>If you specify any of the remote or authentication options (except for <code class="option">
L</code>), remote mode is used.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="singleuseroperations"></a>Single-User Mode Operations in Local
Mode</h3></div></div></div>

<a class="indexterm" name="indexterm-433"></a>
<a class="indexterm" name="indexterm-434"></a>
<p>You can use the <span><strong class="command">smpatch add</strong></span> command in local mode
to apply patches while the system is in single-user mode. Apply patches in
this way when the patches are associated with the <code class="literal">singleuser</code> patch
property, or when you want to apply any patches to a quiet system.</p>
<p>Use only the <span><strong class="command">smpatch add</strong></span>, <span><strong class="command">smpatch order</strong></span>,
and <span><strong class="command">smpatch remove</strong></span> commands to manage patches when your
system is running in single-user mode.</p>
<p>You can configure your patch management environment while the system
is running in single-user mode by using the <span><strong class="command">smpatch get</strong></span>, <span><strong class="command">smpatch set</strong></span>, and <span><strong class="command">smpatch unset</strong></span> commands.</p>
<p>Do not use the <span><strong class="command">smpatch analyze</strong></span>, <span><strong class="command">smpatch
download</strong></span>, and <span><strong class="command">smpatch update</strong></span> commands while the
system is running in single-user mode. These commands depend on network services
that are not available while the system is in single-user mode.</p>
<p>If you previously used the <span><strong class="command">smpatch update</strong></span> command to update your system with patches, some of the patches
might not have been applied. Such patches cannot be applied if they do not
meet the policy for applying patches, and must be applied manually in single-user
mode.</p>
<p>To apply the patches while the system is in single-user mode, use the <span><strong class="command">smpatch add</strong></span> command with the <code class="option">
x idlist=</code> option to
specify the list of patches to apply.</p>
<p>You can use the <code class="filename">disallowed_patch_list</code> file as input
to the <span><strong class="command">smpatch add</strong></span> command to apply the <code class="literal">singleuser</code> patches.
This file, stored in the <span class="olink">
<span class="emphasis"><em>download directory</em></span>
</span>,
lists any patch that could not be applied by <span><strong class="command">smpatch update</strong></span> while
the system was in multiuser mode. For example:</p>
<pre class="screen"># <strong class="userinput"><code>smpatch add -x idlist=/var/sadm/spool/disallowed_patch_list</code></strong>
</pre>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="oploverview"></a>Patch List Operations</h3></div></div></div>

<a class="indexterm" name="indexterm-435"></a>
<a class="indexterm" name="indexterm-436"></a>
<p>Patch Manager can create an <span class="olink">
<span class="emphasis"><em>ordered</em></span>
</span> list of patches
that you can save to a text file and use to perform patch operations.</p>
<p>You might use a patch list to apply the same set of patches to systems
that have the same hardware and software configurations. Or, you might create
a patch list file that contains all pertinent security patches and use the
patch list to apply those security patches to one or more systems.</p>
<p>You can create a file that contains an ordered <span class="olink">
<span class="emphasis"><em>patch list</em></span>
</span> by
using the <span><strong class="command">smpatch</strong></span> command in any of these ways:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>
<span class="strong"><strong>Perform an analysis of a system &#8211;</strong></span> Use
the <span><strong class="command">smpatch analyze</strong></span> command to <span class="olink">
<span class="emphasis"><em>analyze</em></span>
</span> a system
to generate an ordered list of patches and write it to a file. You can edit
this file to remove unneeded patches.</p>
</li><li>
<p>
<span class="strong"><strong>Supply a specific list of patches &#8211;</strong></span> Use the <span><strong class="command">smpatch analyze</strong></span> command to generate
an ordered list of patches based on a set of patches that you specify for
a particular system. The patch list is <span class="olink">
<span class="emphasis"><em>resolved</em></span>
</span> by augmenting
the list with patches on which they depend.</p>
</li><li>
<p>
<span class="strong"><strong>Point to a collection of patches stored
on a system &#8211;</strong></span> Use the <span><strong class="command">smpatch order</strong></span> command
to produce an ordered list of patches based on a collection of patches stored
on a system.</p>
</li></ul></div>
<p>If you modify a patch list and the patches are available on your system,
use the <span><strong class="command">smpatch order</strong></span> command to put the list in an order
suitable for applying patches. Otherwise, use the <span><strong class="command">smpatch analyze</strong></span> command,
which also produces an ordered list of patches.</p>
<p>You can use patch lists as input to the <span><strong class="command">smpatch add</strong></span>, <span><strong class="command">smpatch analyze</strong></span>, <span><strong class="command">smpatch download</strong></span>, <span><strong class="command">smpatch
order</strong></span>, and <span><strong class="command">smpatch update</strong></span> commands.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3>

<p>The <span><strong class="command">smpatch add</strong></span> command attempts to apply
all of the patches in the patch list, regardless of the policy for applying
patches and <span class="olink">
<span class="emphasis"><em>patch dependencies</em></span>
</span>.</p>
</div>
</div>
</div>








</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch21s06.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch22s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Solaris Patch Management Terms and Definitions </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Sun Patch Manager Concepts</td></tr></table></div></body></html>
