<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML//EN" "docbook.dtd"[
	<!ENTITY % xinclude SYSTEM "xinclude.mod">
	%xinclude;
]>

<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="printadmin-15883">



<title>Administering Printers (Tasks)</title>
<toc>
<para>This chapter describes the procedures for administer printers with the <command>lp</command> commands.</para>
<para>For information on the step-by-step procedures associated with administering
printers, see the following:</para>
<itemizedlist>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="enmwr">Managing Printers and the Print Scheduler (Task Map)</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="enmws">Setting or Resetting Miscellaneous Printer Definitions (Task Map)</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="enmwt">Managing Print Requests (Task Map)</olink>
</para>
</listitem>
</itemizedlist>
<para>For overview information about printing and the LP print service, see <olink remap="external" targetdoc="chapter-1.xml" targetptr="printconcept-76595">Chapter 1, Managing Printing Services (Overview)</olink>.</para>
</toc>
<sect1 xml:id="enmwr">
<title>Managing Printers and the Print Scheduler (Task Map)</title>
<informaltable frame="all">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="33*"/>
<colspec colwidth="33*"/>
<colspec colwidth="33*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Delete a printer and remove printer access.</para>
</entry>
<entry>
<para>If a printer needs to be replaced or moved to a different location,
you can delete information about the printer from the <replaceable>print-client</replaceable>.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-46496">How to Delete a Printer and Remove Printer Access</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Check the status of printers.</para>
</entry>
<entry>
<para>Use the <command>lpstat</command> command to check the status of all
printers or a specific printer. This command allows you to determine which
printers are available for use and enables you to examine the characteristics
of those printers. </para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-55230">How to Check the Status of Printers</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Stop the print scheduler.</para>
</entry>
<entry>
<para>If the print scheduler stops accepting print requests, you might need
to stop and restart the print scheduler.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-22789">How to Stop the Print Scheduler</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Restart the print scheduler .</para>
</entry>
<entry>
<para>After you stop the print scheduler, you will need to restart the print
scheduler, so the printer can begin accepting requests.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-29920">How to Restart the Print Scheduler</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Start the print scheduler with options.</para>
</entry>
<entry>
<para>There are two ways to pass options to the print scheduler under the
Solaris Management Facility (SMF). You can set options for the duration of
a call, or you can set options to remain over a system boot.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="fbdye">How to Set Print Option Values Only for the Duration of a Call</olink> and <olink remap="internal" targetdoc="chapter-4.xml" targetptr="fbdyy">How to Set Option Values That Remain Over a System Reboot</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Check the status of the LP print service.</para>
</entry>
<entry>
<para>The service that handles incoming print requests from the network is <filename>svc:/network/lp:default</filename>. You might need to check the status of
the LP print service. To do so, use the <command>inetadm</command> command.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="fqvau">How to Enable the LP Print Service</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1>
<sect1 xml:id="printadmin-1">
<title>Managing Printers and the Print Scheduler</title>
<para>This section provides instructions for day-to-day tasks you perform
to manage printers and the print scheduler.</para>
<sect2 xml:id="printconcept-43812">
<title>Deleting Printers and Printer Access</title>
<indexterm xml:id="printconcept-ix124">
<primary>printers</primary>
<secondary>deleting client access to (overview)</secondary>
</indexterm>
<para>If a printer needs to be replaced or you want to move the printer to
a different location, you must delete the printer information from the LP
print service before you physically remove it from the print server. You should
also make sure that all the current print requests on the printer are printed
or moved to another printer to be printed. </para>
<para>Besides deleting the printer information from the print server, you
need to delete the information from the print clients or network name service.
If you delete a local printer from a print server, you should delete the remote
printer entry from the print clients or network name service. If you move
a printer to another print server, you need to delete the old remote printer
entry from the print clients or network name service. Then, add access to
the remote printer in its new location. </para>
<para>For detailed information on how to delete a local printer and a remote
printer, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-46496">How to Delete a Printer and Remove Printer Access</olink>. You can use Solaris Print Manager to delete
either type of printer. However, Solaris Print Manager does not enable you
to move queued print requests to another printer.</para>
</sect2>
<sect2>
<title/>
<task id="printadmin-46496">

<title>How to Delete a Printer and Remove Printer
Access</title>
<indexterm xml:id="indexterm-48">
<primary>printers</primary>
</indexterm>
<indexterm xml:id="indexterm-49">
<primary>access</primary>
</indexterm>
<indexterm xml:id="indexterm-50">
<primary>deleting</primary>
</indexterm>
<tasksummary>
<para>Use this procedure when you remove a printer from service, and you want
to remove the printer access from the print clients. Then, remove the printer
information from the print server.</para>
</tasksummary>
<procedure>
<step xml:id="printadmin-step-3">
<para>
<indexterm xml:id="printadmin-ix377">
<primary>print client</primary>
<secondary>deleting access to printers (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on a print client that has access to the printer you want to delete.</para>
</step>
<step xml:id="printadmin-step-4">
<para>Delete information about the printer from
the print client.</para>
<screen>
<replaceable>print-client</replaceable># <userinput>lpadmin -x</userinput> <replaceable>printer-name</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
x</option>
</term>
<listitem>
<para>Deletes the specified printer.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer you want to delete.</para>
</listitem>
</varlistentry>
</variablelist>
<para>
<indexterm xml:id="printadmin-ix378">
<primary>
<filename>/etc/lp/printers</filename> directory</primary>
<secondary>of print client</secondary>
</indexterm>Information for the specified printer is deleted from the print
client's <filename>/etc/lp/printers</filename> directory. </para>
</step>
<step xml:id="printadmin-step-5">
<para>If the print client does not use another
printer on the same print server, delete information about the print server
from the print client. </para>
<screen>
<replaceable>print-client</replaceable># <userinput>lpsystem -r</userinput> <replaceable>print-server</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
r</option>
</term>
<listitem>
<para>Removes the specified print server.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<replaceable>print-server</replaceable>
</term>
<listitem>
<para>Specifies the name of the print server you want to delete.</para>
</listitem>
</varlistentry>
</variablelist>
<para>
<indexterm xml:id="printadmin-ix379">
<primary>
<filename>/etc/lp/Systems</filename> file</primary>
</indexterm>The print server is deleted from the print client's <filename>/etc/lp/Systems</filename> file. </para>
<para>Repeat <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-step-4">Step 2</olink> through <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-step-5">Step 3</olink> on
each print client that has access to the printer.</para>
</step>
<step xml:id="printadmin-step-7">
<para>Log in as superuser, <literal>lp</literal>,
or assume an equivalent role on the print server.</para>
</step>
<step xml:id="printadmin-step-8">
<para>
<indexterm xml:id="printadmin-ix380">
<primary>print requests</primary>
<secondary>rejecting (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix381">
<primary>rejecting print requests (how to)</primary>
</indexterm>Stop accepting print requests on the printer. </para>
<screen>
<replaceable>print-server</replaceable># <userinput>reject</userinput> <replaceable>printer-name</replaceable>
</screen>
<para>
<command>reject</command> <replaceable>printer-name</replaceable> rejects
print requests for the specified printer.</para>
<para>This step prevents any
new requests from entering the printer's queue while you are in the process
of removing the printer. For a detailed description, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-73033">How to Accept or Reject Print Requests for a Printer</olink>.</para>
</step>
<step xml:id="printadmin-step-9">
<para>
<indexterm xml:id="printadmin-ix382">
<primary>printers</primary>
<secondary>disabling (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix383">
<primary>disabling</primary>
<secondary>printers (how to)</secondary>
</indexterm>Stop the printer. </para>
<screen>
<replaceable>print-server</replaceable># <userinput>disable</userinput> <replaceable>printer-name</replaceable>
</screen>
<para>This step stops print requests from printing. For a detailed description
on how to stop printing, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-22348">How to Enable or Disable a Printer</olink>.</para>
</step>
<step xml:id="printadmin-step-10">
<para>Move any print requests that are still
in the queue to another printer.</para>
<para>For a detailed description on
how to move print requests to another printer, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-22663">How to Move Print Requests to Another Printer</olink>.</para>
</step>
<step xml:id="printadmin-step-11">
<para>
<indexterm xml:id="printadmin-ix385">
<primary>print server</primary>
<secondary>deleting printer from (how to)</secondary>
</indexterm>Delete the printer from the print server. </para>
<screen>
<replaceable>print-server</replaceable># <userinput>lpadmin -x</userinput> <replaceable>printer-name</replaceable>
</screen>
<para>
<indexterm xml:id="printadmin-ix386">
<primary>
<filename>/etc/lp/printers</filename> directory</primary>
<secondary>of print server</secondary>
</indexterm>Configuration information for the printer is deleted from the
print server's <filename>/etc/lp/printers</filename> directory. </para>
</step>
<step xml:id="printadmin-step-12">
<para>Delete information about the print clients
that were using the printer you just deleted, unless they are still using
another printer on the print server.</para>
<screen>
<replaceable>print-server</replaceable># <userinput>lpsystem -r</userinput> <replaceable>print-client1</replaceable>[,<replaceable>print-client2</replaceable> ...]</screen>
<variablelist>
<varlistentry>
<term>
<option>
r</option>
</term>
<listitem>
<para>Removes the specified print client.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<replaceable>print-client</replaceable>
</term>
<listitem>
<para>Specifies the name of the print client you want to delete
from the print server. You can specify multiple print clients in this command.
Use a space or a comma to separate print client names. If you use spaces,
enclose the list of print clients in quotation marks.</para>
</listitem>
</varlistentry>
</variablelist>
<para>The specified print clients are deleted from the print server's <filename>/etc/lp/Systems</filename> file.</para>
</step>
<step xml:id="printadmin-step-107">
<para>Verify that the printer information has
been deleted:</para>
<substeps>
<step xml:id="printadmin-step-122">
<para>Confirm that the printer information
has been deleted on the print client.</para>
<screen>
<replaceable>print-client</replaceable>$ <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable> <userinput>-l</userinput>
</screen>
<para>In the command output, you should receive an error indicating that the
printer does not exist.</para>
</step>
<step xml:id="printadmin-step-108">
<para>Confirm that the printer information
has been deleted on the print server.</para>
<screen>
<replaceable>print-server</replaceable>$ <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable> <userinput>-l</userinput>
</screen>
<para>In the command output, you should receive an error indicating that the
printer does not exist.</para>
</step>
</substeps>
</step>
</procedure>
<example xml:id="emjfg">

<title>Deleting a Printer and Remote Printer Access</title>
<para>The following example shows how to delete the printer <literal>luna</literal> from
the print client <literal>terra</literal> and from the print server <literal>jupiter</literal>. This example also shows how to delete the print client <literal>terra</literal> from the print server.</para>
<screen>terra# <userinput>lpadmin -x luna</userinput>
Removed “luna”.
terra# <userinput>lpstat -p luna -l</userinput> 
jupiter# <userinput>lpadmin -x luna</userinput>
jupiter# <userinput>lpsystem -r terra</userinput>
Removed “terra”.
jupiter# <userinput>lpstat -p luna -l</userinput> </screen>
</example>
</task>
</sect2>
<sect2 xml:id="printconcept-90847">
<title>Checking Printer Status</title>
<indexterm xml:id="printconcept-ix125">
<primary>printer status</primary>
</indexterm>
<indexterm xml:id="indexterm-51">
<primary>checking printer status</primary>
</indexterm>
<para>Many routine printer administration tasks require information about
the status of the LP print service or a specific printer. For example, you
can determine which printers are available for use. You can also examine the
characteristics of those printers. You can use the <command>lpstat</command> command
to find status information about the LP print service or a specific printer.</para>
<para>If a PPD file was used to create or modify a print queue, the specific
PPD file is listed in the <command>lpstat</command> output. If a PPD file
was not specified when the print queue was created, the PPD entry in the <command>lpstat</command> output is <literal>none</literal>.</para>
</sect2>
<sect2>
<title/>
<task id="printadmin-55230">

<title>How to Check the Status of Printers</title>
<indexterm xml:id="indexterm-52">
<primary>status of printers</primary>
<secondary>how to check</secondary>
</indexterm>
<procedure>
<step xml:id="printadmin-step-16">
<para>Log in to any system on the network.</para>
</step>
<step xml:id="printadmin-step-17">
<para>Check the status of printers.</para>
<para>Only
the most commonly used options are shown here. For other options, see the<olink remap="external" targetdoc="819-2239" targetptr="lpstat-1">
<citerefentry>
<refentrytitle>lpstat</refentrytitle>
<manvolnum>
1
</manvolnum>
</citerefentry>
</olink> man page.</para>
<screen>$ <userinput>lpstat</userinput> [<userinput>-d</userinput>] [<userinput>-p</userinput>] <replaceable>printer-name</replaceable> [<userinput>-D</userinput>] [<userinput>-l</userinput>] [<userinput>-t</userinput>]</screen>
<variablelist>
<varlistentry>
<term>
<option>
d</option>
</term>
<listitem>
<para>Shows the system's default printer.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
p</option> <replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Shows if a printer is active or idle, when the printer was
enabled or disabled, and whether the printer is accepting print requests.</para>
<para>You can specify multiple printer names with this command. Use a space
or a comma to separate printer names. If you use spaces, enclose the list
of printer names in quotation marks. If you don't specify <replaceable>printer-name</replaceable>, the status of all printers is displayed. </para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
D</option>
</term>
<listitem>
<para>Shows the description of the specified <replaceable>printer-name</replaceable>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
l</option>
</term>
<listitem>
<para>Shows the characteristics of the specified <replaceable>printer-name</replaceable>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
t</option>
</term>
<listitem>
<para>Shows status information about the LP print service, including
the status of all printers, such as whether they are active and whether they
are accepting print requests.</para>
</listitem>
</varlistentry>
</variablelist>
</step>
</procedure>
<example xml:id="emjfq">

<title>Checking the Status of Printers</title>
<para>The following example shows how to display the system's default printer.</para>
<screen>$ <userinput>lpstat -d</userinput>
system default destination: luna</screen>
<para>The following example shows how to display the status of the printer <literal>luna</literal>.</para>
<screen>$ <userinput>lpstat -p luna</userinput>
printer luna is idle. enabled since Jul 12 11:17 2001. available.</screen>
<para>The following example shows how to display the description of the printers <literal>asteroid</literal> and <literal>luna</literal>.</para>
<screen>$ <userinput>lpstat -p "asteroid luna" -D</userinput>
printer asteroid faulted. enabled since Jan 5 11:35 2004. available.
unable to print: paper misfeed jam

Description: Printer by break room
printer luna is idle. enabled since Jan 5 11:36 2004. available.
Description: Printer by server room.</screen>
<para>The following example shows how to display the characteristics of the
printer <literal>luna</literal>.</para>
<screen>$ <userinput>lpstat -p luna -l</userinput>
printer luna is idle. enabled since Thu Jul 12 15:02:32 PM PDT
        Form mounted: 
        Content types: postscript
        Printer types: PS
        Description:
        Connection: direct
        Interface: /usr/lib/lp/model/standard
				PPD: none
        After fault: continue
        Users allowed:
                (all)
        Forms allowed:
                (none)
        Banner not required
        Character sets:
							 (none)
				Default pitch:
        Default page size: 80 wide 66 long
        Default port settings:</screen>
</example>
<example xml:id="esbin">

<title>
<command>lpstat</command> Command Output When Using PPD Files</title>
<para>In this example, the <command>lpstat</command> command output indicates
that the print queue was configured by using the PPD file, <filename>Mitsubishi-CP50_Color_Printer-cp50.ppd.gz</filename>.</para>
<screen># <userinput>lpstat -l -p paper</userinput>
printer paper is idle. enabled since Tue 30 Mar 2004 01:48:38 PM PST
			available.
        Form mounted: 
        Content types: any
        Printer types: unknown
        Description: 
        Connection: direct
        Interface: /usr/lib/lp/model/standard_foomatic
        PPD: 
/path/Mitsubishi-CP50_Color_Printer-cp50.ppd.gz
        After fault: continue
        Users allowed:
                (all)
        Forms allowed:
                (none)
        Banner required
        Character sets:
                (none)
        Default pitch:
        Default page size:
        Default port settings# lpstat l p &lt;queue&gt; </screen>
</example>
</task>
</sect2>
<sect2 xml:id="printconcept-16">
<title>Stopping and Restarting the Print Scheduler</title>
<indexterm xml:id="indexterm-53">
<primary>
<command>svcs application/print/server</command>
</primary>
<secondary>stopping and restarting the print scheduler</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix126">
<primary>restarting</primary>
<secondary>print scheduler (how to)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix127">
<primary>print scheduler</primary>
<secondary>restarting (how to)</secondary>
</indexterm>
<para>The print scheduler, <command>lpsched</command>, handles print requests
on print servers. However, the print scheduler might sometimes stop running
on a system, so print requests stop being accepted or printed. </para>
<para>The <command>lpadmin</command> command automatically enables the <command>lpsched</command> service when local printers are added to the system and disables
it when the last local printer is removed. The following procedures describe
how to stop and restart the print scheduler. If a print request was printing
when the print scheduler stopped running, the print request will be printed
in its entirety when you restart the print scheduler.</para>
</sect2>
<sect2>
<title/>
<task id="printadmin-22789">

<title>How to Stop the Print Scheduler</title>
<indexterm xml:id="indexterm-54">
<primary>
<command>svcadm disable application/print/server</command>
</primary>
<secondary>stopping the print scheduler</secondary>
</indexterm>
<indexterm xml:id="indexterm-55">
<primary>print scheduler</primary>
</indexterm>
<indexterm xml:id="indexterm-56">
<primary>stopping</primary>
</indexterm>
<procedure>
<step xml:id="printadmin-step-20">
<para>Log in as superuser, <literal>lp</literal>,
or assume an equivalent role on the print server.</para>
</step>
<step xml:id="printadmin-step-21">
<para>Determine if the print scheduler is running.</para>
<screen># <userinput>svcs application/print/server</userinput>
</screen>
<para>You can also use the <command>lpstat</command> <option>
r</option> command
to determine if the print scheduler is running.</para>
<para>If the print scheduler
is not running, the message <literal>scheduler is not running</literal> is
displayed.</para>
</step>
<step xml:id="printadmin-step-22">
<para>If the print scheduler is running, stop
it.</para>
<screen># <userinput>svcadm disable application/print/server</userinput>
</screen>
<para>You can also use the <command>lpshut</command> command to stop the print
scheduler.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="printadmin-29920">

<title>How to Restart the Print Scheduler</title>
<indexterm xml:id="indexterm-57">
<primary>
<command>svcadm enable application/print/server</command>
</primary>
<secondary>restarting the print scheduler</secondary>
</indexterm>
<indexterm xml:id="indexterm-58">
<primary>print scheduler</primary>
</indexterm>
<indexterm xml:id="indexterm-59">
<primary>starting</primary>
</indexterm>
<procedure>
<step xml:id="printadmin-step-24">
<para>Log in as superuser, <literal>lp</literal>,
or assume an equivalent role on the print server.</para>
</step>
<step xml:id="printadmin-step-25">
<para>Determine if the print scheduler is running.</para>
<screen># <userinput>svcs application/print/server</userinput>
</screen>
<para>You can also use the <command>lpstat</command> <option>
r</option> command
to determine if the print scheduler is running.</para>
<para>If the print scheduler
is not running, the message <literal>scheduler is not running</literal> is
displayed.</para>
</step>
<step xml:id="printadmin-step-26">
<para>If the print scheduler is not running,
start it.</para>
<screen># <userinput>svcadm enable application/print/server</userinput>
</screen>
<para>You can also use the <command>/usr/lib/lpsched</command> command to
start the print scheduler. For more information about the difference between
starting the print scheduler by using the <command>/usr/lib/lpsched</command> command
or using the <command>svcadm enable application/print server</command> command
to start the print scheduler, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="fbdyt">Starting the Print Scheduler With Options</olink>.</para>
</step>
</procedure>
</task>
</sect2>
<sect2 xml:id="fbdyt">
<title>Starting the Print Scheduler With Options</title>
<para>There are two ways to pass options to the print scheduler under the
Solaris Management Facility (SMF):</para>
<itemizedlist>
<listitem>
<para>Modify option values only for the duration of a call.</para>
<para>Use the <command>/usr/lib/lpsched</command> command with the appropriate
options when you only want to pass options to the print scheduler for the
duration of a call. Before setting options, see the <olink remap="external" targetdoc="819-2240" targetptr="lpsched-1m">
<citerefentry>
<refentrytitle>lpsched</refentrytitle>
<manvolnum>
1M
</manvolnum>
</citerefentry>
</olink> man page for more information
about these default values and reasons to change them.</para>
</listitem>
<listitem>
<para>Maintain option values over a system reboot or if the print
scheduler is restarted.</para>
<para>The SMF manifest for the print server
contains properties that are utilized by the print server start-up script.
These property values are passed on to the print scheduler and represent the
options, which are set by using the <command>svccfg</command> command. The
properties are as follows:</para>
<itemizedlist>
<listitem>
<para>
<literal>lpsched/num_filters</literal>
</para>
</listitem>
<listitem>
<para>
<literal>lpsched/num_notifiers</literal>
</para>
</listitem>
<listitem>
<para>
<literal>lpsched/fd_limit</literal>
</para>
</listitem>
<listitem>
<para>
<literal>lpsched/reserved_fds</literal>
</para>
</listitem>
</itemizedlist>
<para>Any options that are not set with the <command>svccfg</command> command
will use the default values that are in the print scheduler. For more information
about using the <command>svccfg</command> command, see the <olink remap="external" targetdoc="819-2240" targetptr="svccfg-1m">
<citerefentry>
<refentrytitle>svccfg</refentrytitle>
<manvolnum>
1M
</manvolnum>
</citerefentry>
</olink> man page.</para>
</listitem>
</itemizedlist>
</sect2>
<sect2>
<title/>
<task id="fbdye">

<title>How to Set Print Option Values Only for the Duration
of a Call</title>
<procedure>
<step>
<para>Become superuser, <literal>lp</literal>, or assume an equivalent
role.</para>
<para>Roles contain authorizations and privileged commands. For
more information about roles, see <olink remap="external" targetdoc="819-3321" targetptr="rbactask-15">
<citetitle remap="section">Configuring RBAC (Task Map)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
</step>
<step>
<para>Set option values.</para>
<screen># <userinput>/usr/lib/lpsched <replaceable>option</replaceable> <replaceable>value</replaceable>
</userinput>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
f</option> num_filters</term>
<listitem>
<para>Specifies the number of concurrent slow  filters  that can
be run on a print server. </para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
n</option> num_notifiers</term>
<listitem>
<para>Specifies the number of concurrent notification processes
that can run on a print server.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
p</option> fd_limit</term>
<listitem>
<para>Specifies the file descriptor resource limit for the <command>lpsched</command>  process.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
r</option> reserved_fds</term>
<listitem>
<para>Specifies the number of file descriptors that the scheduler
reserves for internal communications under heavy load.</para>
</listitem>
</varlistentry>
</variablelist>
</step>
</procedure>
<example xml:id="fbdze">

<title>Setting Option Values Only for the Duration of a Call</title>
<para>This example shows how to set the number of filters to 2. The remaining
options will use the defaults that are in the print scheduler.</para>
<screen># <userinput>/usr/lib/lpsched -f 2</userinput>
</screen>
<para>To use the default options that are in the print scheduler, run the <command>/usr/lib/lpsched</command> command without any options.</para>
<para>Note that starting the print scheduler by using the <command>/usr/lib/lpsched</command> command does not utilize the values that are set with the <command>svccfg</command> command.</para>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="fbdyy">

<title>How to Set Option Values That Remain Over a System
Reboot</title>
<procedure>
<step>
<para>Become superuser, <literal>lp</literal>, or assume an equivalent
role.</para>
<para>Roles contain authorizations and privileged commands. For
more information about roles, see <olink remap="external" targetdoc="819-3321" targetptr="rbactask-15">
<citetitle remap="section">Configuring RBAC (Task Map)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>.</para>
</step>
<step>
<para>Set one or all options.</para>
<screen># <userinput>svccfg
svc:&gt; select svc:/application/print/server
svc:/application/print/server&gt; setprop <replaceable>property</replaceable> = <replaceable>value</replaceable>
.
.
.
svc:/application/print/server&gt; quit</userinput>
</screen>
<para>For each option that you want to set, repeat the <command>setprop <replaceable>property</replaceable> = <replaceable>value</replaceable>
</command> command
on a separate line.</para>
</step>
<step>
<para>Verify that the option has been correctly set by displaying the
current values of the print server properties.</para>
<screen># <userinput>svcprop svc:/application/print/server</userinput>
</screen>
</step>
<step>
<para>Restart the print scheduler.</para>
<itemizedlist>
<listitem>
<para>If the print scheduler is not running, use the following commands:</para>
<screen># <userinput>svcadm refresh svc:/application/print/server</userinput>
# <userinput>svcadm enable svc:/application/print/server</userinput>
</screen>
</listitem>
<listitem>
<para>If the print scheduler is running, use the following commands:</para>
<screen># <userinput>svcadm refresh svc:/application/print/server</userinput>
# <userinput>svcadm restart svc:/application/print/server</userinput>
</screen>
</listitem>
</itemizedlist>
<para>To determine if the print scheduler is running, run the <command>svcs
application/print/server</command> command.</para>
</step>
</procedure>
<example xml:id="fbdyw">

<title>Setting Option Values That Remain Over a System Reboot</title>
<para>This example shows how to set the number of filters to 1. This option
will remain set over a system reboot, or if you restart the print scheduler.</para>
<screen># <userinput>svccfg
svc:&gt; select svc:/application/print/server
svc:/application/print/server&gt; setprop lpsched/num_filters = count: 1
svc:/application/print/server&gt; quit</userinput>
</screen>
<para>This example shows how to set all options.</para>
<screen># <userinput>svccfg
svc:&gt; select svc:/application/print/server
svc:/application/print/server&gt; setprop lpsched/num_filters = count: 1
svc:/application/print/server&gt; setprop lpsched/num_notifiers = count: 1
svc:/application/print/server&gt; setprop lpsched/fd_limit = count: 4096
svc:/application/print/server&gt; setprop lpsched/reserved_fds = count: 2
svc:/application/print/server&gt; quit</userinput>
</screen>
<para>The following is a sample script that sets all options.</para>
<screen>#!/bin/ksh

svccfg &lt;&lt;-EOF
select svc:/application/print/server
setprop lpsched/num_filters = count: 1
setprop lpsched/num_notifiers = count: 1
setprop lpsched/fd_limit = count: 4096
setprop lpsched/reserved_fds = count: 2

EOF</screen>
</example>
</task>
</sect2>
<sect2 xml:id="fblhx">
<title>Using the RFC-1179 Protocol Listener to Cascade Print
Requests</title>
<para>The RFC-1179 protocol listener (<literal>in.lpd</literal>) is represented
by the FMRI, <command>svc:/application/print/rfc1179</command>. By default,
this FMRI is dependent on the print scheduler service, <command>svc:/application/print/server</command>, and will only run if the host is running the print scheduler service.</para>
<para>Normally, the RFC-1179 protocol listener is not needed when the print
scheduler is not running. However, if the host is used to cascade print requests,
the dependency on the print scheduler service should be removed, as shown
in the following example. Note that you must become superuser or assume an
equivalent role to remove the dependency on the print scheduler service.</para>
<screen># <userinput>cat &lt;&lt;EOF | svccfg
&gt;			select application/print/rfc1179
&gt;			delpg lpsched
&gt;			end
&gt;			EOF</userinput>
</screen>
<para>After you have removed the dependency, run the following command for
the changes to take effect immediately:</para>
<screen># <userinput>svcadm refresh application/print/rfc1179</userinput>
</screen>
</sect2>
<sect2>
<title/>
<task id="fqvau">

<title>How to Enable the LP Print Service</title>
<tasksummary>
<para>The <command>inetd</command> daemon is the SMF restarter process for
the LP print service. This daemon is usually started at boot time. The <command>inetd</command> daemon listens for requests for network services that are currently
enabled. The <filename>svc:/network/lp:default</filename> service handles
incoming print requests from the network. This procedure describes how to
enable or disable this service. Changes made to the service state persist
across system reboots.</para>
</tasksummary>
<procedure>
<step>
<para>Check the status of the LP print service.</para>
<screen>$ <userinput>inetadm | grep lp</userinput>
disabled 	disabled	 	svc:/network/lpdefault</screen>
</step>
<step>
<para>Enable the LP print service.</para>
<screen>$ <userinput>inetadm -e svc:/network/lp:default</userinput>
</screen>
</step>
<step>
<para>Check that the service has been enabled.</para>
<screen>$ <userinput>inetadm | grep lp</userinput>
enabled	online		svc:/network/lp:default</screen>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="enmws">
<title>Setting or Resetting Miscellaneous Printer Definitions
(Task Map)</title>
<informaltable frame="all">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="33*"/>
<colspec colwidth="33*"/>
<colspec colwidth="33*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Add a printer description.</para>
</entry>
<entry>
<para>User the <command>lp</command> command with the<option>
p</option> option
to add a printer description.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-51711">How to Add a Printer Description</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Set a default printer for a system.</para>
</entry>
<entry>
<para>You can specify a default printer destination for a user so the user
does not need to type the printer name.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-55845">How to Set a System's Default Printer Destination</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Make banner pages optional.</para>
</entry>
<entry>
<para>You can give users a choice to turn off printing of a banner page when
they submit a print request. </para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-63541">How to Make Banner Pages Optional</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Turn off banner pages.</para>
</entry>
<entry>
<para>By setting the <literal>-o banner=never</literal> variable for a printer
you can turn off banner pages under all circumstances.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-55007">How to Turn Off Banner Pages</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Define a class of printers.</para>
</entry>
<entry>
<para>You can group printers into a class by using the <command>lpadmin</command> <option>
c</option> command.</para>
<para>Printer could be grouped into the following classes:</para>
<itemizedlist>
<listitem>
<para>Printer type</para>
</listitem>
<listitem>
<para>Location</para>
</listitem>
<listitem>
<para>Work group</para>
</listitem>
</itemizedlist>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-63006">How to Define a Class of Printers</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Set fault alters for a printer.</para>
</entry>
<entry>
<para>If you choose, the print service can notify you when it detects a printer
fault. Use the <option>
A</option> option with the <command>lpadmin</command> command
to set fault alerts for a printer.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-22606">How to Set Fault Alerts for a Printer</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Set printer fault recovery.</para>
</entry>
<entry>
<para>You can choose to not receive any fault notification. You can find out
about printing faults so you can correct the problem. Use the <option>
F</option> option
with the <command>lpadmin</command> command to define fault recovery options.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-10528">How to Set Printer Fault Recovery</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Limit user access to a printer.</para>
</entry>
<entry>
<para>Create allow and deny lists on the print serve to control user access
to printers</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-73366">How to Limit User Access to a Printer</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1>
<sect1 xml:id="printadmin-27">
<title>Setting or Resetting Miscellaneous Printer
Definitions</title>
<para>The following procedures provide step-by-step instructions on setting
or resetting printer definitions. Some of the following printer definitions
can be set by using Solaris Print Manager. The following procedures show how
to use the LP print service commands to quickly set or reset printer definitions.</para>
<sect2>
<title/>
<task id="printadmin-51711">

<title>How to Add a Printer Description</title>
<procedure>
<step xml:id="printadmin-step-29">
<para>
<indexterm xml:id="printadmin-ix405">
<primary>adding</primary>
<secondary>printer description (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix406">
<primary>printer description</primary>
<secondary>adding with <command>lpadmin</command> command (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server.</para>
</step>
<step xml:id="printadmin-step-30">
<para>
<indexterm xml:id="printadmin-ix408">
<primary>
<command>lpadmin</command> command</primary>
<secondary>adding printer description with (how to)</secondary>
</indexterm>Add a printer description.  </para>
<screen># <userinput>lpadmin -p</userinput> <replaceable>printer-name</replaceable> <userinput>-D</userinput> "<replaceable>comment</replaceable>"</screen>
<variablelist>
<varlistentry>
<term>
<option>
p</option> <replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer for which you are adding
a description.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
D</option> <replaceable>"comment"</replaceable>
</term>
<listitem>
<para>Specifies the characteristics of the printer, such as the
location or administrative contact. Enclose characters that the shell might
interpret, such as <literal>*</literal>, <literal>?</literal>, <literal>\</literal>, <literal>!</literal>, <literal>^</literal>, in single quotation marks.</para>
</listitem>
</varlistentry>
</variablelist>
<para>For more information, see the <olink remap="external" targetdoc="819-2240" targetptr="lpadmin-1m">
<citerefentry>
<refentrytitle>lpadmin</refentrytitle>
<manvolnum>
1M
</manvolnum>
</citerefentry>
</olink> man page.</para>
<para>The
printer description is added in the print server's <filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/comment</filename> file. </para>
</step>
<step xml:id="printadmin-step-110">
<para>Verify that the <literal>Description</literal> information
is correct.</para>
<screen># <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable> <userinput>-l</userinput>
</screen>
</step>
</procedure>
<example xml:id="emjgf">

<title>Adding a Printer Description</title>
<para>The following example shows how to add a printer description for the
printer <literal>luna</literal>.</para>
<screen># <userinput>lpadmin -p luna -D "Nathans office"</userinput>
</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printplan-24">
<title>Setting Up a Default Printer Destination</title>
<indexterm xml:id="printconcept-ix103">
<primary>default printer</primary>
<secondary>setting with <command>lpadmin</command> command (overview)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix104">
<primary>printer destination</primary>
<secondary>setting with <command>lpadmin</command> command (overview)</secondary>
</indexterm>
<para>You can specify a default printer destination for a user so that the
user does not need to type the printer name when using the print commands.
Before you can designate a printer as the default, the printer must be known
to the print service on the system. You can set a user's default printer destination
by setting any of the following:</para>
<itemizedlist>
<listitem>
<para>
<literal>LPDEST</literal> environment variable</para>
</listitem>
<listitem>
<para>
<literal>PRINTER</literal> environment variable</para>
</listitem>
<listitem>
<para>The <literal>_default</literal> variable in the user's <filename>.PRINTERS</filename> file</para>
</listitem>
<listitem>
<para>The system's default printer by using the <command>lpadmin</command> <option>
d</option> command or Solaris Print Manager</para>
</listitem>
</itemizedlist>
<para>When an application provides a printer destination, that destination
is used by the print service, regardless of whether you have set a system's
default printer destination. If an application doesn't provide a printer destination
or if you don't provide a printer name when using a print command, the print
command searches for the default printer in a specific order. The following
table shows the search order for a system's default printer destination.</para>
<table frame="topbot" xml:id="printplan-25">

<title>Search Order for Default Printer
Destinations</title>
<tgroup cols="3" colsep="0" rowsep="0">
<colspec colname="column1" colwidth="72*"/>
<colspec colname="column2" colwidth="144*"/>
<colspec colname="column3" colwidth="141*"/>
<thead>
<row rowsep="1">
<entry>
<para>Search Order</para>
</entry>
<entry>
<para>Using <command>/usr/bin/lp</command> Command</para>
</entry>
<entry>
<para>Using <command>lpd</command>-Based Compatibility Commands (<command>lpr</command>, <command>lpq</command>, and <command>lprm</command>)</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>First</para>
</entry>
<entry>
<para>
<literal>LPDEST</literal> variable</para>
</entry>
<entry>
<para>
<literal>PRINTER</literal> variable</para>
</entry>
</row>
<row>
<entry>
<para>Second</para>
</entry>
<entry>
<para>
<literal>PRINTER</literal> variable</para>
</entry>
<entry>
<para>
<literal>LPDEST</literal> variable</para>
</entry>
</row>
<row>
<entry>
<para>Third</para>
</entry>
<entry>
<para>System's default printer</para>
</entry>
<entry>
<para>System's default printer</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2>
<sect2>
<title/>
<task id="printadmin-55845">

<title>How to Set a System's Default Printer Destination</title>
<procedure>
<step xml:id="printadmin-step-34">
<para>
<indexterm xml:id="printadmin-ix411">
<primary>default printer</primary>
<secondary>setting with <command>lpadmin</command> command (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the system where you want to set a default printer.</para>
</step>
<step xml:id="printadmin-step-35">
<para>
<indexterm xml:id="printadmin-ix412">
<primary>
<command>lpadmin</command> command</primary>
<secondary>setting default printer with (how to)</secondary>
</indexterm>Set the system's default printer.</para>
<screen># <userinput>lpadmin -d</userinput> [<replaceable>printer-name</replaceable>]</screen>
<para>
<command>-d</command> <replaceable>printer-name</replaceable> specifies
the name of the printer you are assigning as the system's default printer.
If you don't specify <replaceable>printer-name</replaceable>, the system is
set up with no default printer.</para>
<para>
<indexterm xml:id="printadmin-ix413">
<primary>
<filename>/etc/lp/default</filename> file</primary>
</indexterm>
<indexterm xml:id="printadmin-ix414">
<primary>
<filename>/etc/lp/default</filename> file</primary>
</indexterm>The default printer name is specififed in the system's <filename>/etc/lp/default</filename> file.  </para>
</step>
<step xml:id="printadmin-step-111">
<para>Check the system's default printer.</para>
<screen># <userinput>lpstat -d</userinput>
</screen>
</step>
</procedure>
<example xml:id="emjfs">

<title>Setting a System's Default Printer Destination</title>
<para>
<indexterm xml:id="printadmin-ix415">
<primary>
<literal>LPDEST</literal> environment variable</primary>
</indexterm>
<indexterm xml:id="printadmin-ix416">
<primary>environment variables</primary>
<secondary>
<literal>LPDEST</literal>
</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix417">
<primary>
<literal>PRINTER</literal> environment variable</primary>
</indexterm>
<indexterm xml:id="printadmin-ix418">
<primary>environment variables</primary>
<secondary>
<literal>PRINTER</literal>
</secondary>
</indexterm>The following example shows how to set the printer <literal>luna</literal> as
the system's default printer. The printer <literal>luna</literal> is used
as the system's default printer if the <literal>LPDEST</literal> or the <literal>PRINTER</literal> environment variables are not set.</para>
<screen># <userinput>lpadmin -d luna</userinput>
# <userinput>lpstat -d</userinput>
system default destination: luna</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printconcept-12">
<title>Printing Banner Pages</title>
<indexterm xml:id="printconcept-ix109">
<primary>banner pages</primary>
<secondary>setting</secondary>
<tertiary>with <command>lpadmin</command> command</tertiary>
</indexterm>
<indexterm xml:id="printconcept-ix110">
<primary>printing</primary>
<secondary>banner pages</secondary>
</indexterm>
<para>
<indexterm xml:id="printconcept-ix111">
<primary>print requests</primary>
<secondary>IDs</secondary>
<tertiary>in banner page</tertiary>
</indexterm>A banner page identifies who submitted the print request, the
print request ID, and when the request was printed. A banner page also has
a modifiable title to help users identify their printouts.  </para>
<para>
<indexterm xml:id="printconcept-ix113">
<primary>banner pages</primary>
<secondary>reasons to turn off</secondary>
</indexterm>Banner pages make identifying the owner of a print job easy, which
is especially helpful when many users submit jobs to the same printer. However,
printing banner pages uses more paper and might be unnecessary if a printer
has only a few users. In some cases, printing banner pages is undesirable.
For example, if a printer has special paper or forms mounted, such as paycheck
forms, printing banner pages might cause problems. </para>
<para>By default, the print service forces banner pages to be printed. However,
you can give users a choice to turn off printing of a banner page when they
submit a print request. You can set this choice through the <command>lpadmin</command> command
or through Solaris Print Manager. If you give the users a choice, they have
to use the <option>
o banner</option> option to turn off banner page printing. </para>
<para>Also, if you don't need or want banner pages, you can turn off banner
pages so that they are never printed. You can turn off banner page printing
by using the <command>lpadmin</command> command or through Solaris Print Manager.</para>
<table frame="topbot" xml:id="printadmin-tbl-123">

<title>Banner Page Printing</title>
<tgroup cols="3" colsep="0" rowsep="0">
<colspec colwidth="33*"/>
<colspec colwidth="33*"/>
<colspec colwidth="33*"/>
<thead>
<row rowsep="1">
<entry>
<para>Command Used</para>
</entry>
<entry>
<para>Banner Page Printing</para>
</entry>
<entry>
<para>Override?</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>
<command>lpadmin -p</command> <replaceable>printer</replaceable> <option>
o
banner</option> OR</para>
<para>
<command>lpadmin -p</command> <replaceable>printer</replaceable> <option>
o
banner=always</option>
</para>
</entry>
<entry>
<para>Required and printed</para>
</entry>
<entry>
<para>If you are a regular user and use <command>p -o nobanner</command>,
the request is printed. However, the <literal>nobanner</literal> argument
is ignored.</para>
<para>If you are superuser (<literal>root</literal>), or another privileged
user, the <literal>nobanner</literal> argument is honored.</para>
</entry>
</row>
<row>
<entry>
<para>
<command>lpadmin -p</command> <replaceable>printer</replaceable> <option>
o
nobanner</option>
</para>
<para>
<command>lpadmin -p</command> <replaceable>printer</replaceable> <option>
o
banner=optional</option>
</para>
</entry>
<entry>
<para>On by default, but can be disabled on a per request basis with the <command>lp -o nobanner</command> command</para>
</entry>
<entry>
<para>Not applicable.</para>
</entry>
</row>
<row>
<entry>
<para>
<command>lpadmin -p</command> <replaceable>printer</replaceable> <option>
o
banner=never</option>
</para>
</entry>
<entry>
<para>Disabled</para>
</entry>
<entry>
<para>No.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
<para>For step-by-step command-line instructions, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-55007">How to Turn Off Banner Pages</olink> and <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-63541">How to Make Banner Pages Optional</olink>.</para>
</sect2>
<sect2>
<title/>
<task id="printadmin-63541">

<title>How to Make Banner Pages Optional</title>
<procedure>
<step xml:id="printadmin-step-39">
<para>
<indexterm xml:id="printadmin-ix419">
<primary>banner pages</primary>
<secondary>making optional (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server.</para>
</step>
<step xml:id="printadmin-step-40">
<para>
<indexterm xml:id="printadmin-ix421">
<primary>
<command>lpadmin</command> command</primary>
<secondary>making banner pages optional with (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix422">
<primary>
<command>lpadmin</command> command</primary>
<secondary>
<option>
o banner</option> option</secondary>
</indexterm>Make banner pages optional.</para>
<screen># <userinput>lpadmin -p</userinput> <replaceable>printer-name</replaceable> <userinput>-o banner=optional</userinput>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
p</option> <replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer for which you are making
banner pages optional.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
o banner=optional</option>
</term>
<listitem>
<para>Enables users to specify no banner page when they submit a
print request.</para>
</listitem>
</varlistentry>
</variablelist>
<para>
<indexterm xml:id="printadmin-ix423">
<primary>banner option</primary>
</indexterm>If you want to force a banner page to print with every print request,
specify the <option>
o banner=always</option> option. The banner page setting
is specified in the print server's <filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/configuration</filename> file.</para>
</step>
<step xml:id="printadmin-step-112">
<para>Verify that the banner page is optional.
The command output contains the line <literal>Banner not required</literal>.</para>
<screen># <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable> <userinput>-l</userinput>
</screen>
</step>
</procedure>
<example xml:id="emjfl">

<title>Making Banner Pages Optional</title>
<para>The following example shows how to make the banner page optional on
the printer <literal>luna</literal>.</para>
<screen># <userinput>lpadmin -p luna -o banner=optional</userinput>
</screen>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="printadmin-55007">

<title>How to Turn Off Banner Pages</title>
<procedure>
<step xml:id="printadmin-step-44">
<para>
<indexterm xml:id="printadmin-ix425">
<primary>banner pages</primary>
<secondary>turning off (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server.</para>
</step>
<step xml:id="printadmin-step-45">
<para>Turn off banner printing.</para>
<screen># <userinput>lpadmin -p</userinput> <replaceable>printer-name</replaceable> <userinput>-o banner=never</userinput>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
p</option> <replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer for which you are turning
off banner pages.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
o banner=never</option>
</term>
<listitem>
<para>Disables banner page printing under all circumstances.</para>
</listitem>
</varlistentry>
</variablelist>
<para>The banner page setting is specified in the print server's <filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/configuration</filename> file. </para>
</step>
<step xml:id="printadmin-step-47">
<para>Verify that banner printing is turned
off. </para>
<screen># <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable> <userinput>-l</userinput>
</screen>
<para>The command output contains the line <literal>Banner not printed</literal>.</para>
</step>
<step xml:id="printadmin-step-113">
<para>Submit a print request to the printer
to ensure that a banner page does not print.</para>
</step>
</procedure>
<example xml:id="emjgi">

<title>Turning Off Printing Banner Pages</title>
<para>The following example shows how to disable the printing of banner pages
on the printer <literal>luna</literal>.</para>
<screen># <userinput>lpadmin -p luna -o banner=never</userinput>
</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printplan-27">
<title>Setting Up Printer Classes</title>
<indexterm xml:id="printconcept-ix117">
<primary>printer class</primary>
</indexterm>
<indexterm xml:id="printconcept-ix118">
<primary>class (printer)</primary>
</indexterm>
<para>The LP print service enables you to group several locally attached printers
into one class. You can perform this task only by using the <command>lpadmin</command> <option>
c</option> command.</para>
<para>After you set up a printer class, users can then specify that class,
rather than individual printers, as the destination for a print request. The
first printer in the class that is available to print is used. The result
is faster turnaround because printers are kept as busy as possible.</para>
<para>No default printer classes are known to the print service. Printer classes
exist only if you define them. Here are some ways you could define printer
classes:</para>
<itemizedlist>
<listitem>
<para>
<emphasis role="strong">By printer type</emphasis> –
For example, a PostScript printer.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">By location</emphasis> – For
example, a printer located on the 5th floor.</para>
</listitem>
<listitem>
<para>
<emphasis role="strong">By work group or department</emphasis> –
For example, the accounting department.</para>
</listitem>
</itemizedlist>
<para>Alternatively, a class might contain several printers that are used
in a particular order. The LP print service always checks for an available
printer in the order in which printers were added to a class. Therefore, if
you want a high-speed printer to be accessed first, add the high-speed printer
to the class before you add a low-speed printer. As a result, the high-speed
printer handles as many print requests as possible. The low-speed printer
is reserved as a backup printer when the high-speed printer is in use.</para>
<note>

<para>Print requests are balanced between printers in a class only for
local printers.</para>
</note>
<para>Class names, similar to printer names, must be unique and can contain
a maximum of 14 alphanumeric characters and underscores.</para>
<para>You are not obligated to define printer classes. You should add printer
classesonly if you determine that using them would benefit users on the network. </para>
</sect2>
<sect2>
<title/>
<task id="printadmin-63006">

<title>How to Define a Class of Printers</title>
<procedure>
<step xml:id="printadmin-step-50">
<para>
<indexterm xml:id="printadmin-ix430">
<primary>printer class</primary>
<secondary>defining with <command>lpadmin</command> command (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix431">
<primary>class (printer)</primary>
<secondary>defining with <command>lpadmin</command> command (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server.</para>
</step>
<step xml:id="printadmin-step-51">
<para>
<indexterm xml:id="printadmin-ix432">
<primary>
<command>lpadmin</command> command</primary>
<secondary>defining printer class with (how to)</secondary>
</indexterm>Define a class of printers. </para>
<screen># <userinput>lpadmin -p</userinput> <replaceable>printer-name</replaceable> <userinput>-c</userinput> <replaceable>printer-class</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
p</option> <replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer you are adding to a class
of printers.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
c</option> <replaceable>printer-class</replaceable>
</term>
<listitem>
<para>Specifies the name of a class of printers.</para>
</listitem>
</varlistentry>
</variablelist>
<para>
<indexterm xml:id="printadmin-ix433">
<primary>
<filename>/etc/lp/classes/printer-class</filename> file</primary>
</indexterm>The specified printer is added to the end of the class list in
the print server's <filename>/etc/lp/classes/</filename>
<replaceable>printer-class</replaceable> file. If the printer class does not exist, it is created.</para>
</step>
<step xml:id="printadmin-step-114">
<para>Verify that the printers are in a printer
class.</para>
<screen># <userinput>lpstat -c</userinput> <replaceable>printer-class</replaceable>
</screen>
</step>
</procedure>
<example xml:id="emjfp">

<title>Defining a Class of Printers</title>
<para>The following example shows how to add the printer <literal>luna</literal> in
the printer class <literal>roughdrafts</literal>.</para>
<screen># <userinput>lpadmin -p luna -c roughdrafts</userinput>
</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printplan-23">
<title>Setting Up Printer Fault Alerts</title>
<indexterm xml:id="printconcept-ix101">
<primary>fault notification (printer)</primary>
<secondary>setting with <command>lpadmin</command> command (overview)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix102">
<primary>printers</primary>
<secondary>fault notification</secondary>
</indexterm>
<para>If you choose, the LP print service can notify you when it detects a
printer fault. With the <command>lpadmin</command> <option>
A</option> command
or with Solaris Print Manager, you can select any of the following methods
to receive printer fault notification:</para>
<itemizedlist>
<listitem>
<para>A message to the terminal on which <literal>root</literal> is
logged in</para>
</listitem>
<listitem>
<para>Electronic mail to <literal>root</literal>
</para>
</listitem>
<listitem>
<para>No notification</para>
</listitem>
</itemizedlist>
<para>However, the <command>lpadmin</command> <option>
A</option> command offers
you an additional option of receiving a message specified by the program of
your choice. The <command>lpadmin</command> <option>
A</option> command also
enables you to selectively turn off notification for an error that you already
know about.</para>
<para>Unless you specify a program to deliver fault notification, the content
of the fault alert is a predefined message that states that the printer has
stopped printing and needs to be fixed.</para>
<para>
<indexterm xml:id="printadmin-ix399">
<primary>fault notification (printer)</primary>
<secondary>values for alerts</secondary>
</indexterm>The following table lists the alert values that you can set for
a printer with the <command>lpadmin</command> <option>
A</option> command.
These alert values can also be set for print wheels, font cartridges, and
forms. </para>
<table frame="topbot" xml:id="printadmin-97091">

<title>Values for Printer Fault
Alerts</title>
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colname="column1" colwidth="131*"/>
<colspec colname="column2" colwidth="226*"/>
<thead>
<row rowsep="1">
<entry>
<para>Value for <option>
A</option> <literal>alert</literal>
</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>'<literal>mail</literal> [<replaceable>username</replaceable>]'</para>
</entry>
<entry>
<para>Sends the alert message by email to <literal>root</literal> or <literal>lp</literal> on
the print server, or the specified <replaceable>username</replaceable>, which
is a name of a user.</para>
</entry>
</row>
<row>
<entry>
<para>'<literal>write</literal> [<replaceable>user-name</replaceable>]'</para>
</entry>
<entry>
<para>Sends the alert message to the <literal>root</literal> or <literal>lp</literal> console
window on the print server, or to the console window of the specified <replaceable>username</replaceable>, which is a name of a user. The specified user must
be logged in to the print server to get the alert message.</para>
</entry>
</row>
<row>
<entry>
<para>'<replaceable>command</replaceable>'</para>
</entry>
<entry>
<para>Runs the specified <replaceable>command</replaceable> file for each
alert. The environment variables and current directory are saved and restored
when the file is executed.</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>quiet</literal>
</para>
</entry>
<entry>
<para>Stops alerts until the fault is fixed. Use this valve when you, <literal>root</literal> or a specified user, receive repeated alerts.</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>none</literal>
</para>
</entry>
<entry>
<para>Does not send any alerts. This value is the default if you don't specify
fault alerts for a printer.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2>
<sect2>
<title/>
<task id="printadmin-22606">

<title>How to Set Fault Alerts for a Printer</title>
<procedure>
<step xml:id="printadmin-step-60">
<para>
<indexterm xml:id="printadmin-ix436">
<primary>alerts</primary>
<secondary>for printer faults (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server.</para>
</step>
<step xml:id="printadmin-step-61">
<para>
<indexterm xml:id="printadmin-ix438">
<primary>
<command>lpadmin</command> command</primary>
<secondary>setting printer fault alerts with (how to)</secondary>
</indexterm>Set fault alerts for a printer. </para>
<screen># <userinput>lpadmin -p</userinput> <replaceable>printer-name</replaceable> <userinput>-A</userinput> <replaceable>alert</replaceable> [<userinput>-W</userinput> <replaceable>minutes</replaceable>]</screen>
<variablelist>
<varlistentry>
<term>
<option>
p</option> <replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer for which you are specifying
an alert for printer faults.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
A</option> <replaceable>alert</replaceable>
</term>
<listitem>
<para>
<indexterm xml:id="printadmin-ix439">
<primary>fault notification (printer)</primary>
<secondary>setting with <command>lpadmin</command> command (how to)</secondary>
</indexterm>Specifies what kind of alert occurs when the printer faults. For
detailed information about the valid values for <replaceable>alert</replaceable>,
see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-97091">Table 4–3</olink>. Some valid
values are <literal>mail</literal>, <literal>write</literal>, and <literal>quiet</literal>. </para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
W</option> <replaceable>minutes</replaceable>
</term>
<listitem>
<para>Specifies how often, in minutes, the fault alert occurs. If
you don't specify this option, the alert is sent one time.</para>
</listitem>
</varlistentry>
</variablelist>
<para>The fault alert setting is specified in the print server's <filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/alert.sh</filename> file.</para>
</step>
<step xml:id="printadmin-step-116">
<para>Verify that the fault alert has been
sent properly.</para>
<screen># <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable> <userinput>-l</userinput>
</screen>
</step>
</procedure>
<example xml:id="emjfn">

<title>Setting Fault Alerts for a Printer</title>
<para>The following example shows how to set up the printer <literal>mars</literal> to
send fault alerts by email to a user named <literal>joe</literal>. A reminder
is sent every 5 minutes.</para>
<screen># <userinput>lpadmin -p mars -A 'mail joe' -W 5</userinput>
</screen>
<para>The following example shows how to set up the printer <literal>venus</literal> to
send fault alerts to the console window. A reminder i sent every 10 minutes.</para>
<screen># <userinput>lpadmin -p venus -A write -W 10</userinput>
</screen>
<para>The following example shows how to stop fault alerts for the printer <literal>mercury</literal>.</para>
<screen># <userinput>lpadmin -p mercury -A none</userinput>
</screen>
<para>The following example shows how to stop fault alerts until the printer <literal>venus</literal> has been fixed.</para>
<screen># <userinput>lpadmin -p venus -A quiet</userinput>
</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printadmin-107">
<title>Setting Up Printer Fault Recovery</title>
<para>If you choose not to send any fault notification, you can still find
out about printer faults so that you can correct the problem. The LP print
service will not continue to use a printer that has a fault. In addition to
alerts for printer faults, you can also provide alerts that instruct you to
mount print wheels, font cartridges, and forms when print requests require
them.</para>
<para>You can define the fault recovery options for a printer only by using
the <command>lpadmin</command> <option>
F</option> command. This task is not
available in Solaris Print Manager.</para>
<para>Printer faults can be as simple as running out of paper or needing to
replace a toner cartridge. Other more serious problems can include complete
printer failure or power failure. After you fix a printer fault, the print
request that was active when the fault occurred begins printing in one of
three ways: </para>
<itemizedlist>
<listitem>
<para>Starts printing from the beginning</para>
</listitem>
<listitem>
<para>Continues printing from the top of the page where printing
stopped</para>
</listitem>
<listitem>
<para>After you enable the printer, continues printing from the
top of the page where the printing stopped</para>
</listitem>
</itemizedlist>
<para>The LP print service requires a separate print filter to continue printing
from the top of a page where the printing stopped. This print filter records
the control sequences set by the default print filters. The printer uses these
control sequences to track page boundaries. You will be notified by the LP
print service if recovery cannot proceed with the specified print filter.
For information about writing filters, see <olink remap="external" targetdoc="chapter-6.xml" targetptr="printcust-53777">How to Create a New Print Filter</olink>. </para>
<para>If you want printing to resume immediately after a printer fault is
fixed, enable the printer by using the <command>enable</command> command. </para>
<para>
<indexterm xml:id="printadmin-ix397">
<primary>printers</primary>
<secondary>fault recovery (overview)</secondary>
</indexterm>The following table lists the fault recovery values that you can
set for a printer by using the <command>lpadmin</command> <option>
F</option> command. </para>
<table frame="topbot" xml:id="printadmin-90766">

<title>Values for Printer Fault
Recovery</title>
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colname="column1" colwidth="131*"/>
<colspec colname="column2" colwidth="228*"/>
<thead>
<row rowsep="1">
<entry>
<para>Value for <option>
F</option> <replaceable>recover-options</replaceable>
</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>
<literal>beginning</literal>
</para>
</entry>
<entry>
<para>After a fault recovery, printing restarts from the beginning of the
file.</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>continue</literal>
</para>
</entry>
<entry>
<para>
<indexterm xml:id="printadmin-ix398">
<primary>print filters</primary>
<secondary>required for printer fault recovery</secondary>
</indexterm>After a fault recovery, printing starts at the top of the page
where the printing stopped. This recovery option requires a print filter. </para>
</entry>
</row>
<row>
<entry>
<para>
<literal>wait</literal>
</para>
</entry>
<entry>
<para>After a fault recovery, printing stops until you enable the printer.
After you enable the printer by using the <command>enable</command> command,
printing starts at the top of the page where printing stopped. This recovery
option requires a print filter.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2>
<sect2>
<title/>
<task id="printadmin-10528">

<title>How to Set Printer Fault Recovery</title>
<procedure>
<step xml:id="printadmin-step-55">
<para>Log in as superuser, <literal>lp</literal>,
or assume an equivalent role on the print server.</para>
</step>
<step xml:id="printadmin-step-56">
<para>
<indexterm xml:id="printadmin-ix434">
<primary>
<command>lpadmin</command> command</primary>
<secondary>setting printer fault recovery with (how to)</secondary>
</indexterm>Set up fault recovery for the printer. </para>
<screen># <userinput>lpadmin -p</userinput> <replaceable>printer-name</replaceable> <userinput>-F</userinput> <replaceable>recovery-options</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
p</option> <replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer for which you are specifying
fault recovery.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
F</option> <replaceable>recovery-options</replaceable>
</term>
<listitem>
<para>Specifies one of the three valid recovery options: <literal>beginning</literal>, <literal>continue</literal>, or <literal>wait</literal>. </para>
<para>For detailed information about the valid values for <replaceable>recovery-options</replaceable>, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-90766">Table 4–4</olink>.</para>
</listitem>
</varlistentry>
</variablelist>
<para>For more information, see the <olink remap="external" targetdoc="819-2240" targetptr="lpadmin-1m">
<citerefentry>
<refentrytitle>lpadmin</refentrytitle>
<manvolnum>
1M
</manvolnum>
</citerefentry>
</olink> man page.</para>
<para>The
fault recovery setting is specified in the print server's <filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/configuration</filename> file. </para>
</step>
<step xml:id="printadmin-step-115">
<para>Verify that printer fault recovery has
been set up properly.</para>
<screen># <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable> <userinput>-l</userinput>
</screen>
</step>
</procedure>
<example xml:id="emjfw">

<title>Setting Printer Fault Recovery</title>
<para>The following example shows how to set up the printer <literal>luna</literal> to
continue printing at the top of the page where printing stopped.</para>
<screen># <userinput>lpadmin -p luna -F continue</userinput>
</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printplan-26">
<title>Limiting User Access to a Printer</title>
<indexterm xml:id="printconcept-ix115">
<primary>user</primary>
<secondary>access to printer (overview)</secondary>
<tertiary>limiting with <command>lpadmin</command> command</tertiary>
</indexterm>
<indexterm xml:id="printconcept-ix116">
<primary>user</primary>
<secondary>access to printer (overview)</secondary>
<tertiary>limiting with Solaris Print Manager</tertiary>
</indexterm>
<para>You can control which users can access some printers or all of the available
printers. For example, you can prevent some users from printing on a high-quality
printer to minimize expense. To restrict user access to printers, you create <filename>allow</filename> and <filename>deny</filename> lists by using the <command>lpadmin</command> <option>
u</option> command on the print server. Solaris Print Manager
enables you to create only <filename>allow</filename> lists. If you create
neither list, a printer is available to all users who can access the printer.</para>
<para>An <filename>allow</filename> list contains the names of users who are
allowed access to the specified printer. A <filename>deny</filename> list
contains the names of users denied access to the specified printer.</para>
<para>The rules for <filename>allow</filename> and <filename>deny</filename> lists
are explained in the following table:</para>
<informaltable frame="topbot">
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colname="column1" colwidth="179*"/>
<colspec colname="column2" colwidth="180*"/>
<thead>
<row rowsep="1">
<entry>
<para>Allow and Deny List Rule</para>
</entry>
<entry>
<para>User Consequence</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Do not create <filename>allow</filename> and <filename>deny</filename> lists.
Or, if you leave both lists empty.</para>
</entry>
<entry>
<para>All users can access the printer.</para>
</entry>
</row>
<row>
<entry>
<para>Specify <literal>all</literal> in the <filename>allow</filename> list.</para>
</entry>
<entry>
<para>All users can access the printer.</para>
</entry>
</row>
<row>
<entry>
<para>Specify <literal>all</literal> in the <filename>deny</filename> list</para>
</entry>
<entry>
<para>All users, except <literal>root</literal> and <literal>lp</literal> user
on the server, are denied access to the printer.</para>
</entry>
</row>
<row>
<entry>
<para>Make any entry in the <filename>allow</filename> list.</para>
</entry>
<entry>
<para>The <filename>deny</filename> list is ignored. Only users who are listed
can access the printer.</para>
</entry>
</row>
<row>
<entry>
<para>Create a deny list, but you do not create an <filename>allow</filename> list
or you leave the <filename>allow</filename> list empty.</para>
</entry>
<entry>
<para>Users who are listed in the <filename>deny</filename> list are denied
access to the printer.</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<para>Because the print server is responsible for controlling access to the
printer, <filename>allow</filename> and <filename>deny</filename> lists can
only be created on the print server. If you create <filename>allow</filename> and <filename>deny</filename> lists, the print server will exclusively control user access
to printers.</para>
<para>
<indexterm xml:id="printadmin-ix400">
<primary>allow list</primary>
<secondary>for user access to printers (overview)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix401">
<primary>printers</primary>
<secondary>allow list (overview)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix402">
<primary>deny list</primary>
<secondary>for user access to printers (overview)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix403">
<primary>printers</primary>
<secondary>deny list (overview)</secondary>
</indexterm>The following table lists the values that you can add to an <filename>allow</filename> list or a <filename>deny</filename> list to limit user access
to a printer.    </para>
<table frame="topbot" xml:id="printadmin-55566">

<title>Values for Allow and Deny
Lists</title>
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colname="column1" colwidth="132*"/>
<colspec colname="column2" colwidth="264*"/>
<thead>
<row rowsep="1">
<entry>
<para>Value for <replaceable>user-list</replaceable> </para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>
<replaceable>user</replaceable>
</para>
</entry>
<entry>
<para>
<replaceable>User</replaceable> on any system</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>all</literal>
</para>
</entry>
<entry>
<para>All users on all systems</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>none</literal>
</para>
</entry>
<entry>
<para>No user on any system</para>
</entry>
</row>
<row>
<entry>
<para>
<replaceable>system</replaceable>
<literal>!</literal>
<replaceable>user</replaceable>
</para>
</entry>
<entry>
<para>
<replaceable>User</replaceable> on <replaceable>system</replaceable> only</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>!</literal>
<replaceable>user</replaceable>
</para>
</entry>
<entry>
<para>
<replaceable>User</replaceable> on local system only</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>all!</literal>
<replaceable>user</replaceable>
</para>
</entry>
<entry>
<para>
<replaceable>User</replaceable> on any system</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>all!all</literal>
</para>
</entry>
<entry>
<para>All users on all systems</para>
</entry>
</row>
<row>
<entry>
<para>
<replaceable>system</replaceable>
<literal>!all</literal>
</para>
</entry>
<entry>
<para>All users on <replaceable>system</replaceable>
</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>!all</literal>
</para>
</entry>
<entry>
<para>All users on local system</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2>
<sect2>
<title/>
<task id="printadmin-73366">

<title>How to Limit User Access to a Printer</title>
<procedure>
<step xml:id="printadmin-step-65">
<para>
<indexterm xml:id="printadmin-ix441">
<primary>printers</primary>
<secondary>allowing user access (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix442">
<primary>printers</primary>
<secondary>denying user access (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server.</para>
</step>
<step xml:id="printadmin-step-66">
<para>
<indexterm xml:id="printadmin-ix443">
<primary>
<command>lpadmin</command> command</primary>
<secondary>limiting access to printers with (how to)</secondary>
</indexterm>Allow or deny users access to a printer. </para>
<screen># <userinput>lpadmin -p</userinput> <replaceable>printer-name</replaceable> <userinput>-u allow</userinput>:<replaceable>user-list</replaceable> [<userinput>deny</userinput>:<replaceable>user-list</replaceable>]</screen>
<variablelist>
<varlistentry>
<term>
<option>
p</option> <replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer to which the <filename>allow</filename> or <filename>deny</filename> access list applies.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
u allow:</option>
<replaceable>user-list</replaceable>
</term>
<listitem>
<para>Specifies the user names to be added to the <filename>allow</filename> access
list. You can specify multiple user names with this command. Use a space or
a comma to separate names. If you use spaces, enclose the list of names in
quotation marks.</para>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-55566">Table 4–5</olink> provides
the valid values for <replaceable>user-list</replaceable>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
u deny:</option>
<replaceable>user-list</replaceable>
</term>
<listitem>
<para>Specifies user names to be added to the deny user access list.
You can specify multiple user names with this command. Use a space or a comma
to separate names. If you use spaces, enclose the list of names in quotation
marks.</para>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-55566">Table 4–5</olink> provides
the valid values for <replaceable>user-list</replaceable>.</para>
</listitem>
</varlistentry>
</variablelist>
<para>The specified users are added to the <filename>allow</filename> or <filename>deny</filename> list for the printer in one of the following files on the
print server:</para>
<para>
<filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/users.allow</filename>
</para>
<para>
<filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/users.deny</filename> </para>
<note>

<para>If you specify <literal>none</literal> as the value for <replaceable>user-list</replaceable> in the <filename>allow</filename> list, the following
files are not created on the print server:</para>
<para>
<filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/alert.sh</filename>
</para>
<para>
<filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/alert.var</filename>
</para>
<para>
<filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/users.allow</filename>
</para>
<para>
<filename>/etc/lp/printers/</filename>
<replaceable>printer-name</replaceable>
<filename>/users.deny</filename>
</para>
</note>
</step>
<step xml:id="printadmin-step-117">
<para>Verify that information is correct under
the <literal>Users allowed</literal> or the <literal>Users denied</literal> heading
in the following command output:</para>
<screen># <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable> <userinput>-l</userinput>
</screen>
</step>
</procedure>
<example xml:id="emjfx">

<title>Limiting User Access to a Printer</title>
<para>The following example shows how to allow only the users <literal>nathan</literal> and <literal>george</literal> access to the printer <literal>luna</literal>. </para>
<screen># <userinput>lpadmin -p luna -u allow:nathan,george</userinput>
</screen>
<para>The following example shows how to deny the users <literal>nathan</literal> and <literal>george</literal> access to the printer <literal>asteroid</literal>. </para>
<screen># <userinput>lpadmin -p asteroid -u deny:"nathan george"</userinput>
</screen>
</example>
</task>
</sect2>
</sect1>
<sect1 xml:id="enmwt">
<title>Managing Print Requests (Task Map)</title>
<informaltable frame="all">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="33*"/>
<colspec colwidth="33*"/>
<colspec colwidth="33*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Check the status of print requests.</para>
</entry>
<entry>
<para>Use the <command>lpstat</command> command to check the status of print
requests.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-93252">How to Check the Status of Print Requests</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Enable or disable a printer.</para>
</entry>
<entry>
<para>Use the <command>enable</command> and <command>disable</command> commands
to control whether a printer prints requests or stops printing requests that
are in the print queue.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-22348">How to Enable or Disable a Printer</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Accept or reject print requests for a printer.</para>
</entry>
<entry>
<para>Use the <command>accept</command> and <command>reject</command> commands
to turn on or turn off a print queue that stores requests to be printed. </para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-73033">How to Accept or Reject Print Requests for a Printer</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Cancel a print request.</para>
</entry>
<entry>
<para>You can use the can use the cancel command to cancel print requests
in one of the following three ways:</para>
<itemizedlist>
<listitem>
<para>Cancel requests by request identification number (request
ID) </para>
</listitem>
<listitem>
<para>Cancel requests from a specific user on all printers or specific
printers</para>
</listitem>
<listitem>
<para>Cancel the job currently printing</para>
</listitem>
</itemizedlist>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-82243">How to Cancel a Print Request</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Cancel a print request from a specific user.</para>
</entry>
<entry>
<para>You can cancel the request for a user by using the <command>cancel -u</command> command
and specifying that user.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-14973">How to Cancel a Print Request From a Specific User</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Move print requests to another printer.</para>
</entry>
<entry>
<para>You can move or cancel any requests that are currently queued a printer.
You can use the <command>lpmove</command> command to move individual or all
print requests to another local printer.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-22663">How to Move Print Requests to Another Printer</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Change the priority of a print request.</para>
</entry>
<entry>
<para>You can change the priority of a print request in one of the following
ways:</para>
<itemizedlist>
<listitem>
<para>Put a print request on hold if it has not finished printing.</para>
</listitem>
<listitem>
<para>Move a print request to the head of the queue.</para>
</listitem>
<listitem>
<para>Change the priority of a job still waiting to be printed.</para>
</listitem>
</itemizedlist>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-30451">How to Change the Priority of a Print Request</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1>
<sect1 xml:id="printadmin-95646">
<title>Managing Print Requests</title>
<para>When a user submits a print request from a print client, the print request
is added to a queue on the print server before it is sent to the printer.
While a print request is in the queue, you can cancel or gain status information
on the request from a client system. You must log in to the print server to
move, hold, resume, or change the priorities of print requests with LP print
service commands. These actions can help you keep printing services operating
smoothly.</para>
<para>
<indexterm xml:id="printadmin-ix448">
<primary>print requests</primary>
<secondary>changing priority of (overview)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix449">
<primary>priority of print requests</primary>
</indexterm>
<indexterm xml:id="printadmin-ix450">
<primary>changing</primary>
<secondary>priority of print requests (overview)</secondary>
</indexterm>The following table lists the values for changing the priority
of a print request by using the <command>lp</command> <option>
H</option> command.
   </para>
<table frame="topbot" xml:id="printadmin-71857">

<title>Values for Changing the
Priority of a Print Request</title>
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colname="column1" colwidth="144*"/>
<colspec colname="column2" colwidth="215*"/>
<thead>
<row rowsep="1">
<entry>
<para>Value for <option>
H</option> <replaceable>change-priority</replaceable>
</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>
<literal>hold</literal>
</para>
</entry>
<entry>
<para>Places the print request on hold until you cancel the request or instruct
the LP print service to resume printing the request.</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>resume</literal>
</para>
</entry>
<entry>
<para>Places a print request that has been on hold back in the queue. The
request is printed according to its priority and placement in the queue. If
you place on hold a print job that is already printing, <literal>resume</literal> places
the print request at the head of the queue so that it becomes the next request
printed.</para>
</entry>
</row>
<row>
<entry>
<para>
<literal>immediate</literal>
</para>
</entry>
<entry>
<para>Places a print request at the head of the queue. If a request is already
printing, you can put the request on hold to allow the next request to print
immediately.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
<sect2>
<title/>
<task id="printadmin-93252">

<title>How to Check the Status of Print Requests</title>
<indexterm xml:id="indexterm-60">
<primary>printers</primary>
<secondary>checking status of print requests</secondary>
</indexterm>
<indexterm xml:id="indexterm-61">
<primary>print requests</primary>
</indexterm>
<procedure>
<step xml:id="printadmin-step-70">
<para>Log in on any system on the network.</para>
</step>
<step xml:id="printadmin-step-71">
<para>Check the status of printers and print
requests.</para>
<para>Only the most commonly used options are shown here.
For other valid options, see the <olink remap="external" targetdoc="819-2239" targetptr="lpstat-1">
<citerefentry>
<refentrytitle>lpstat</refentrytitle>
<manvolnum>
1
</manvolnum>
</citerefentry>
</olink> man
page.</para>
<screen>$ <userinput>lpstat -o</userinput> [<replaceable>list</replaceable>] | <userinput>-u</userinput> [<replaceable>user-list</replaceable>]</screen>
<variablelist>
<varlistentry>
<term>
<option>
o</option> <replaceable>list</replaceable>
</term>
<listitem>
<para>
<indexterm xml:id="printadmin-ix455">
<primary>printer class</primary>
<secondary>checking status for</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix456">
<primary>class (printer)</primary>
<secondary>checking status for</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix457">
<primary>print requests</primary>
<secondary>IDs</secondary>
</indexterm>Shows the status of print requests on a specific printer. <replaceable>list</replaceable> can be one or more printer names, printer class names,
or print request IDs.</para>
<para>To specify multiple printer names, class names, and IDs for <replaceable>list</replaceable>, use a space or a comma to separate values. If you use spaces,
enclose the list of values in quotation marks.</para>
<para>If you don't specify <replaceable>list</replaceable>, the status of
print requests sent to all printers is displayed.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
u</option> <replaceable>user-list</replaceable>
</term>
<listitem>
<para>Shows the status of print requests for a specific user. <replaceable>user-list</replaceable> can be one or more user names. </para>
<para>To specify multiple users with this command, use a space or a comma
to separate user names. If you use spaces, enclose the list of names in quotation
marks.</para>
<para>If you don't specify <replaceable>user-list</replaceable>, the status
of print requests for all users is displayed.</para>
</listitem>
</varlistentry>
</variablelist>
<para>
<indexterm xml:id="printadmin-ix459">
<primary>print requests</primary>
<secondary>IDs</secondary>
<tertiary>in status of print request</tertiary>
</indexterm>When used to check the status of print requests, the <command>lpstat</command> command
displays one line for each print request. From left to right, the line shows
the following information.</para>
<itemizedlist>
<listitem>
<para>Request ID</para>
</listitem>
<listitem>
<para>User</para>
</listitem>
<listitem>
<para>Output size in bytes</para>
</listitem>
<listitem>
<para>Date and time of the request,</para>
</listitem>
<listitem>
<para>Information about the request, such as “being filtered.”</para>
</listitem>
</itemizedlist>
</step>
</procedure>
<example xml:id="emjfb">

<title>Checking the Status of Print Requests</title>
<para>The following example shows that user <literal>fred</literal> has one
print request queued on the printer <literal>luna</literal>.</para>
<screen>$ <userinput>lpstat</userinput>
luna-1    fred     1261    Jul 12 17:34</screen>
<para>The following example shows that the user <literal>paul</literal> currently
has no print requests in queue.</para>
<screen>$ <userinput>lpstat -u paul</userinput>
</screen>
<para>The following example shows that  two print requests are queued on the
printer <literal>moon</literal>.</para>
<screen>$ <userinput>lpstat -o moon</userinput>
moon-78    root     1024   Jul 14 09:07
moon-79    root     1024   Jul 14 09:08</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printconcept-19168">
<title>Enabling or Disabling a Printer From
Printing</title>
<para>
<indexterm xml:id="printconcept-ix151">
<primary>stopping</primary>
<secondary>a printer (overview)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix152">
<primary>printers</primary>
<secondary>enabling (overview)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix153">
<primary>printers</primary>
<secondary>disabling (overview)</secondary>
</indexterm>The <command>enable</command> and <command>disable</command> commands
control whether a printer prints or stops printing requests that are in the
print queue. When you disable a printer, the printer stops printing requests
in the queue. However, requests are still added to the queue. You must set
the printer to reject print requests so that requests are not added to the
queue. For information about rejecting print requests, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printconcept-43797">Accepting or Rejecting Print Requests</olink>. </para>
<para>A printer is enabled to print and accepts print requests when the printer
is added by using Solaris Print Manager. Solaris Print Manager doesn't provide
any additional printer processing management.</para>
<para>You must enable the printer whenever it has been disabled, which can
happen when a printer fault occurs. When you enable a printer, it prints requests
from the print queue until the queue is empty, even if the print service rejects
additional requests for the print queue. </para>
<para>The following figure shows the point at which the processing of print
requests is interrupted when a printer is disabled.</para>
<figure xml:id="printconcept-fig-31">

<title xml:id="printconcept-77600">What Happens
When a Printer Is Enabled or Disabled</title>
<mediaobject>
<imageobject>
<imagedata fileref="figures/print_concept.fig116.gif"/>
</imageobject>
<textobject>
<simpara>Illustration of an enabled printer, which processes requests
in the queue, and of a disabled printer, which does not process requests in
the queue.</simpara>
</textobject>
</mediaobject>
</figure>
</sect2>
<sect2>
<title/>
<task id="printadmin-22348">

<title>How to Enable or Disable a Printer</title>
<procedure>
<step xml:id="printadmin-step-80">
<para>
<indexterm xml:id="printadmin-ix464">
<primary>printers</primary>
<secondary>disabling (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix465">
<primary>printers</primary>
<secondary>enabling (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix466">
<primary>enabling</primary>
<secondary>printers (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix467">
<primary>disabling</primary>
<secondary>printers (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server.</para>
</step>
<step xml:id="printadmin-step-81">
<para>
<indexterm xml:id="printadmin-ix473">
<primary>
<command>disable</command> command, example of</primary>
</indexterm>Stop printing print requests.</para>
<screen># <userinput>disable</userinput> [<userinput>-c</userinput> | <userinput>-W</userinput>] [<userinput>-r "</userinput>
<replaceable>reason</replaceable>
<userinput>"</userinput>] <replaceable>printer-name</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<command>disable</command>
</term>
<listitem>
<para>
<indexterm xml:id="printadmin-ix468">
<primary>canceling</primary>
<secondary>print requests (how to)</secondary>
<tertiary>by disabling printer</tertiary>
</indexterm>
<indexterm xml:id="printadmin-ix469">
<primary>print requests</primary>
<secondary>canceling (how to)</secondary>
<tertiary>by disabling printer</tertiary>
</indexterm>Cancels the current job, then disables the printer. The current
job is saved to reprint when the printer is enabled.  </para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
c</option>
</term>
<listitem>
<para>Cancels the current job, then disables the printer. The current
job is not printed later.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
W</option>
</term>
<listitem>
<para>Waits until the current job is finished before disabling the
printer.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
r</option> <replaceable>"reason"</replaceable>
</term>
<listitem>
<para>Provides users with a reason why the printer is disabled.
The reason is stored and displayed whenever a user checks on the status of
the printer by using the <command>lpstat -p</command> command.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer that will stop printing
print requests.</para>
</listitem>
</varlistentry>
</variablelist>
<note>

<para>
<indexterm xml:id="printadmin-ix470">
<primary>printer class</primary>
<secondary>not valid for enabling/disabling printer</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix471">
<primary>class (printer)</primary>
<secondary>not valid for enabling/disabling printer</secondary>
</indexterm>You cannot enable or disable classes of printers. Only individual
printers can be enabled or disabled.  </para>
</note>
</step>
<step xml:id="printadmin-step-82">
<para>
<indexterm xml:id="indexterm-62">
<primary>
<command>enable</command> command, example of</primary>
</indexterm>Start printing print requests.  </para>
<screen># <userinput>enable</userinput> <replaceable>printer-name</replaceable>
</screen>
</step>
<step xml:id="printadmin-step-119">
<para>Verify that the printer is enabled.</para>
<screen># <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable>
</screen>
</step>
</procedure>
<example xml:id="emjfj">

<title>Enabling or Disabling a Printer</title>
<para>The following example shows how to stop the current job on the printer <literal>luna</literal>, save the job to print later, and provide a reason why the
printer has stopped printing print requests.</para>
<screen># <userinput>disable -r "changing the form" luna</userinput>
</screen>
<para>The following example shows how to start printing print requests on
the printer <literal>luna</literal>.</para>
<screen># <userinput>enable luna</userinput>
printer "luna" enabled</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printconcept-43797">
<title>Accepting or Rejecting Print Requests</title>
<para>
<indexterm xml:id="printconcept-ix142">
<primary>accepting print requests (overview)</primary>
</indexterm>
<indexterm xml:id="printconcept-ix143">
<primary>rejecting print requests (overview)</primary>
</indexterm>
<indexterm xml:id="printconcept-ix145">
<primary>printers</primary>
<secondary>accepting print requests (overview)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix146">
<primary>printers</primary>
<secondary>rejecting print requests (overview)</secondary>
</indexterm>The <command>accept</command> and <command>reject</command> commands
enable you to turn on or turn off a print queue that stores requests to be
printed.  </para>
<para>When you use the <command>reject</command> command, the print queue
for a specified printer is turned off. No new print requests can enter the
queue on the print server. However, all print requests that are in the queue
are still printed. You must disable the printer if you want it to stop printing
requests that are already in the queue. The following table compares the functions
of the <command>accept</command>, <command>reject</command>, <command>enable</command>,
and <command>disable</command> commands.</para>
<table frame="topbot" xml:id="printconcept-22101">

<title>Functions of <command>accept</command>, <command>reject</command>, <command>enable</command>, and <command>disable</command> Print Commands</title>
<indexterm xml:id="printconcept-ix148">
<primary>
<command>accept</command> command</primary>
</indexterm>
<indexterm xml:id="printconcept-ix149">
<primary>
<command>reject</command> command</primary>
</indexterm>
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colname="column1" colwidth="143*"/>
<colspec colname="column2" colwidth="216*"/>
<thead>
<row rowsep="1">
<entry>
<para>Command</para>
</entry>
<entry>
<para>Function</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>
<command>accept</command>
</para>
</entry>
<entry>
<para>Accepts print requests that are sent to the print queue.</para>
</entry>
</row>
<row>
<entry>
<para>
<command>disable</command>
</para>
</entry>
<entry>
<para>Stops printing requests that are currently in the print queue.</para>
</entry>
</row>
<row>
<entry>
<para>
<command>enable</command>
</para>
</entry>
<entry>
<para>Prints the requests that are in the print queue.</para>
</entry>
</row>
<row>
<entry>
<para>
<command>reject</command>
</para>
</entry>
<entry>
<para>Rejects print requests that are sent to the print queue.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
<para>If a print request is rejected, the LP print service writes or mails
a message to the user who submitted the request. the message states that print
requests are not being accepted for the specified printer.</para>
<para>You can also specify a reason for not accepting requests through the
command line. The reason is displayed on a user's system when a user tries
to check the printer's queue. The following figure shows the point at which
the processing of print requests is interrupted when a print queue rejects
print requests. </para>
<figure xml:id="printconcept-fig-30">

<title xml:id="printconcept-41913">What Happens
When a Print Queue Accepts or Rejects Requests</title>
<mediaobject>
<imageobject>
<imagedata fileref="figures/print_concept.fig110.gif"/>
</imageobject>
<textobject>
<simpara>Illustration of a printer accepting and processing print
requests and of a printer rejecting print requests, which means the print
queue is blocked.</simpara>
</textobject>
</mediaobject>
</figure>
</sect2>
<sect2>
<title/>
<task id="printadmin-73033">

<title>How to Accept or Reject Print Requests
for a Printer</title>
<procedure>
<step xml:id="printadmin-step-74">
<para>
<indexterm xml:id="printadmin-ix460">
<primary>print requests</primary>
<secondary>accepting (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix461">
<primary>print requests</primary>
<secondary>rejecting (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix462">
<primary>accepting print requests (how to)</primary>
</indexterm>
<indexterm xml:id="printadmin-ix463">
<primary>rejecting print requests (how to)</primary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server.</para>
</step>
<step xml:id="printadmin-step-75">
<para>Stop accepting print requests for the
printer.</para>
<screen># <userinput>reject</userinput> [<userinput>-r</userinput> "<replaceable>reason</replaceable>"] <replaceable>printer-name</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
r</option> <replaceable>"reason"</replaceable>
</term>
<listitem>
<para>Provides users with a reason why the printer is rejecting
print requests. The reason is stored and displayed whenever a user checks
on the status of the printer by using the <command>lpstat -p</command> command.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer that will stop accepting
print requests.</para>
</listitem>
</varlistentry>
</variablelist>
<para>The queued requests continue printing as long as the printer is enabled.
For instructions on disabling a printer so that it stops printing, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-22348">How to Enable or Disable a Printer</olink>.</para>
</step>
<step xml:id="printadmin-step-76">
<para>Start accepting print requests for the
printer.</para>
<screen># <userinput>accept</userinput> <replaceable>printer-name</replaceable>
</screen>
</step>
<step xml:id="printadmin-step-118">
<para>Check that the status of the printer
to see whether it is accepting or rejecting print requests.</para>
<screen>$ <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable>
</screen>
</step>
</procedure>
<example xml:id="emjge">

<title>Accepting or Rejecting Print Requests for a Printer</title>
<para>The following example shows how to stop the printer <literal>luna</literal> from
accepting print requests.</para>
<screen># <userinput>reject -r "luna is down for repairs" luna</userinput>
destination "luna" will no longer accept requests</screen>
<para>The following example shows how to set the printer <literal>luna</literal> to
accept print requests.</para>
<screen># <userinput>accept luna</userinput>
destination "luna" now accepting requests</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printconcept-22518">
<title>Canceling a Print Request</title>
<indexterm xml:id="printconcept-ix131">
<primary>print requests</primary>
<secondary>canceling (overview)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix132">
<primary>canceling</primary>
<secondary>print requests (overview)</secondary>
</indexterm>
<para>
<indexterm xml:id="printconcept-ix133">
<primary>
<command>cancel</command> command</primary>
</indexterm>You can use the <command>cancel</command> command to cancel print
requests in printer queues or to cancel jobs that are printing. Three are
three ways to use the <command>cancel</command> command.</para>
<itemizedlist>
<listitem>
<para>
<indexterm xml:id="printconcept-ix134">
<primary>print requests</primary>
<secondary>IDs</secondary>
<tertiary>canceling print requests by</tertiary>
</indexterm>Cancel requests by request identification number (request ID)</para>
</listitem>
<listitem>
<para>Cancel requests from a specific user on all printers or specific
printers</para>
</listitem>
<listitem>
<para>Cancel the job currently printing</para>
</listitem>
</itemizedlist>
<para>When you use the <command>cancel</command> command, a message tells
you the request or requests are canceled, and the next request in queue is
being printed. You can cancel a print request only under the following conditions.</para>
<itemizedlist>
<listitem>
<para>You are the user who submitted the request and you are logged
in on the system from which you submitted the request.</para>
</listitem>
<listitem>
<para>You are the user who submitted the request on any client system
and the print server has the “user-equivalence” option configured
for the printer in its <filename>/etc/printers.conf</filename> file.</para>
</listitem>
<listitem>
<para>You are logged in as superuser, <literal>lp</literal>, or
have assumed an equivalent role on the print server.</para>
</listitem>
</itemizedlist>
<para>To cancel a specific request, you need to know its request ID. The request
ID contains the name of the printer, a dash, and the number of the print request.
For example, <literal>luna-185</literal>.</para>
<para>
<indexterm xml:id="printconcept-ix135">
<primary>print requests</primary>
<secondary>IDs</secondary>
<tertiary>components of</tertiary>
</indexterm>When you submit the print request, the request ID is displayed.
If you do not remember the print request ID, you can find it by using the <command>lpstat</command> command with the <option>
o printer</option> option.</para>
</sect2>
<sect2>
<title/>
<task id="printadmin-82243">

<title>How to Cancel a Print Request</title>
<procedure>
<step xml:id="printadmin-step-86">
<para>
<indexterm xml:id="printadmin-ix474">
<primary>print requests</primary>
<secondary>canceling (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix475">
<primary>canceling</primary>
<secondary>print requests (how to)</secondary>
</indexterm>If you are going to cancel the print requests of other users,
then become superuser, <literal>lp</literal>, or assume an equivalent role.</para>
</step>
<step xml:id="printadmin-step-87">
<para>Determine the request IDs of the print
requests to cancel. </para>
<screen># <userinput>lpstat</userinput> </screen>
<para>For more details, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-93252">How to Check the Status of Print Requests</olink>.</para>
</step>
<step xml:id="printadmin-step-88">
<para>Cancel the print request.</para>
<screen># <userinput>cancel</userinput> <replaceable>request-id</replaceable> | <replaceable>printer-name</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<replaceable>request-id</replaceable>
</term>
<listitem>
<para>
<indexterm xml:id="printadmin-ix477">
<primary>print requests</primary>
<secondary>IDs (how to)</secondary>
<tertiary>canceling print requests by</tertiary>
</indexterm>Specifies the request ID of a print request to be canceled. You
can specify multiple request IDs with this command. Use a space or a comma
to separate request IDs. If you use spaces, enclose the list of request IDs
in quotation marks.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the printer for which you want to cancel the currently
printing print request.</para>
<para>You can specify multiple printer names with this command. Use a space
or a comma to separate printer names. If you use spaces, enclose the list
of printer names in quotation marks.</para>
</listitem>
</varlistentry>
</variablelist>
</step>
<step xml:id="printadmin-step-120">
<para>Verify that the print requests are canceled.</para>
<screen>$ <userinput>lpstat -o</userinput> <replaceable>printer-name</replaceable>
</screen>
</step>
</procedure>
<example xml:id="emjfh">

<title>Canceling a Print Request</title>
<para>The following example shows how to cancel the <literal>luna-3</literal> and <literal>luna-4</literal> print requests.</para>
<screen>$ <userinput>cancel luna-3 luna-4</userinput>
request "luna-3" cancelled
request "luna-4" cancelled</screen>
<para>The following example shows how to cancel the print request that is
currently printing on the printer <literal>luna</literal>.</para>
<screen># <userinput>cancel luna</userinput>
request "luna-9" cancelled</screen>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="printadmin-14973">

<title>How to Cancel a Print Request From a Specific
User</title>
<procedure>
<step xml:id="printadmin-step-91">
<para>
<indexterm xml:id="printadmin-ix478">
<primary>print requests</primary>
<secondary>canceling (how to)</secondary>
<tertiary>for specific user</tertiary>
</indexterm>
<indexterm xml:id="printadmin-ix479">
<primary>canceling</primary>
<secondary>print requests (how to)</secondary>
<tertiary>for specific user</tertiary>
</indexterm>(Optional) Become superuser, <literal>lp</literal>, or assume
an equivalent role if you are going to cancel the print requests of other
users.</para>
</step>
<step xml:id="printadmin-step-92">
<para>Cancel a print request from a specific
user.</para>
<screen>$ <userinput>cancel -u</userinput> <replaceable>user-list</replaceable> [<replaceable>printer-name</replaceable>]</screen>
<variablelist>
<varlistentry>
<term>
<option>
u</option> <replaceable>user-list</replaceable>
</term>
<listitem>
<para>Cancels the print request for a specified user. </para>
<para>
<indexterm xml:id="printadmin-ix480">
<primary>user</primary>
<secondary>canceling print requests for (how to)</secondary>
</indexterm>
<replaceable>user-list</replaceable> can be one or more user names.
Use a space or a comma to separate user names. If you use spaces, enclose
the list of names in quotation marks</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<replaceable>printer-name</replaceable>
</term>
<listitem>
<para>Specifies the printer for which you want to cancel the print
requests for a specified user.</para>
<para>
<replaceable>printer-name</replaceable> can be one or more printer names.
Use a space or a comma to separate printer names. If you use spaces, enclose
the list of printer names in quotation marks.</para>
<para>If you don't specify the <replaceable>printer-name</replaceable>, the
user's print requests will be canceled on all printers.</para>
</listitem>
</varlistentry>
</variablelist>
</step>
</procedure>
<example xml:id="emjfy">

<title>Canceling a Print Request From a Specific User</title>
<para>The following example shows how to cancel all the print requests submitted
by the user <literal>george</literal> on the printer <literal>luna</literal>.</para>
<screen># <userinput>cancel -u george luna</userinput>
request "luna-23" cancelled</screen>
<para>The following example shows how to cancel all the print requests submitted
by the user <literal>george</literal> on all printers.</para>
<screen># <userinput>cancel -u george</userinput>
request "asteroid-3" cancelled
request "luna-8" cancelled</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printconcept-36709">
<title>Moving a Print Request</title>
<indexterm xml:id="printconcept-ix136">
<primary>print requests</primary>
<secondary>moving to another printer (overview)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix137">
<primary>moving print requests (overview)</primary>
</indexterm>
<para>If you plan to change the way a printer is used or decide to take a
printer out of service, you should set up the LP print service to reject additional
print requests. Then, move or cancel any requests that are currently queued
to the printer. You can use the <command>lpmove</command> command to move
individual or all print requests to another local printer.</para>
<para>Request IDs are not changed when you move print requests, so users can
still find their requests. Print requests that have requirements, such as
a specific file content type or form, that cannot be met by the newly specified
printer cannot be moved. These print requests must be canceled.</para>
</sect2>
<sect2>
<title/>
<task id="printadmin-22663">

<title>How to Move Print Requests to Another Printer</title>
<indexterm xml:id="indexterm-63">
<primary>print requests</primary>
</indexterm>
<indexterm xml:id="indexterm-64">
<primary>moving print requests (how to)</primary>
</indexterm>
<tasksummary>
<para>To move all print requests from one printer to another printer, you
do not need to know the request IDs. However, first determine how many print
requests are affected before you move them.</para>
</tasksummary>
<procedure>
<step xml:id="printadmin-step-95">
<para>Log in as superuser, <literal>lp</literal>,
or assume an equivalent role on the print server.</para>
</step>
<step xml:id="printadmin-step-96">
<para>
<indexterm xml:id="printadmin-ix483">
<primary>print requests</primary>
<secondary>IDs (how to)</secondary>
<tertiary>moving print requests by</tertiary>
</indexterm>(Optional) Determine if the request IDs of the print requests
on the original printer. </para>
<screen># <userinput>lpstat -o</userinput> <replaceable>printer-name1</replaceable>
</screen>
</step>
<step xml:id="printadmin-step-97">
<para>(Optional) Check to see if the destination
printer is accepting print requests.</para>
<screen># <userinput>lpstat -p</userinput> <replaceable>printer-name2</replaceable>
</screen>
<para>
<option>
p</option> <replaceable>printer-name2</replaceable> specifies
the name of the printer to which you are moving the print requests.</para>
</step>
<step xml:id="printadmin-step-98">
<para>Move all the print requests from the original
printer to the destination printer.</para>
<screen># <userinput>lpmove</userinput> <replaceable>printer-name1 printer-name2</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<replaceable>printer-name1</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer from which all print requests
will be moved. </para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<replaceable>printer-name2</replaceable>
</term>
<listitem>
<para>Specifies the name of the printer to which all print requests
will be moved.</para>
</listitem>
</varlistentry>
</variablelist>
<para>For more information, see the <olink remap="external" targetdoc="819-2240" targetptr="lpmove-1m">
<citerefentry>
<refentrytitle>lpmove</refentrytitle>
<manvolnum>
1M
</manvolnum>
</citerefentry>
</olink> man page.</para>
<para>If
some requests cannot be printed on the destination printer, the requests 
are left in the original printer's queue. By using request IDs, you can also
move specific print requests to another printer by using the <command>lpmove</command> command. </para>
</step>
<step xml:id="printadmin-step-99">
<para>(Optional) Start accepting print requests
on the original printer.</para>
<para>If you move all the print requests to
another printer, the <command>lpmove</command> command automatically stops
accepting print requests for the printer. This step is necessary if you want
to begin accepting new print requests for the printer.</para>
<screen># <userinput>accept</userinput> <replaceable>printer-name1</replaceable>
</screen>
</step>
<step xml:id="printadmin-step-121">
<para>Check for any remaining print requests
in the original printer's queue.</para>
<screen># <userinput>lpstat -o</userinput> <replaceable>printer-name1</replaceable>
</screen>
<para>Ensure that all specified print requests were moved to the destination
printer's queue.</para>
<screen># <userinput>lpstat -o</userinput> <replaceable>printer-name2</replaceable>
</screen>
</step>
</procedure>
<example xml:id="emjfm">

<title>Moving Print Requests to Another Printer</title>
<para>The following example shows how to move print requests from the printer <literal>luna</literal> to the printer <literal>terra</literal>. Then, the original
printer, <literal>luna</literal>, is instructed to resume accepting print
requests. </para>
<screen># <userinput>lpmove luna terra</userinput>
# <userinput>accept luna</userinput>
</screen>
</example>
</task>
</sect2>
<sect2 xml:id="printconcept-96948">
<title>Changing the Priority of Print Requests</title>
<indexterm xml:id="printconcept-ix138">
<primary>print requests</primary>
<secondary>changing priority of (overview)</secondary>
</indexterm>
<indexterm xml:id="printconcept-ix139">
<primary>priority of print requests</primary>
</indexterm>
<para>After a user has submitted a print request, you can change its priority
in the print server's queue by doing any of the following:</para>
<itemizedlist>
<listitem>
<para>
<indexterm xml:id="printconcept-ix140">
<primary>print requests</primary>
<secondary>putting on hold (overview)</secondary>
</indexterm>Putting any print request on hold if it has not finished printing.
Putting a request on hold stops the request, if it is currently printing,
and keeps it from printing until you resume printing it. Other print requests
go ahead of the on-hold request. </para>
</listitem>
<listitem>
<para>
<indexterm xml:id="printconcept-ix141">
<primary>print requests</primary>
<secondary>moving to head of queue (overview)</secondary>
</indexterm>Moving any print request to the head of the queue, where it will
become the next job eligible for printing. If you want a job to start printing
immediately, you can interrupt the job that is currently printing by putting
it on hold. </para>
</listitem>
<listitem>
<para>Changing the priority of a job still waiting to be printed
or moving the job in the queue. Doing so will move the job ahead of lower
priority requests and behind other requests that are the same priority or
higher priority.</para>
</listitem>
</itemizedlist>
</sect2>
<sect2>
<title/>
<task id="printadmin-30451">

<title>How to Change the Priority of a Print Request</title>
<procedure>
<step xml:id="printadmin-step-103">
<para>
<indexterm xml:id="printadmin-ix484">
<primary>print requests</primary>
<secondary>changing priority of (how to)</secondary>
</indexterm>
<indexterm xml:id="printadmin-ix486">
<primary>changing</primary>
<secondary>priority of print requests (how to)</secondary>
</indexterm>Log in as superuser, <literal>lp</literal>, or assume an equivalent
role on the print server that is holding the print request.</para>
</step>
<step xml:id="printadmin-step-104">
<para>Determine the request IDs of the print
requests whose priority you want to change. </para>
<screen># <userinput>lpstat</userinput>
</screen>
<para>For more information, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-93252">How to Check the Status of Print Requests</olink>.</para>
</step>
<step xml:id="printadmin-step-105">
<para>Change the priority of a print request.</para>
<screen># <userinput>lp -i</userinput> <replaceable>request-id</replaceable> <userinput>-H</userinput> <replaceable>change-priority</replaceable>
</screen>
<variablelist>
<varlistentry>
<term>
<option>
i</option> <replaceable>request-id</replaceable>
</term>
<listitem>
<para>
<indexterm xml:id="printadmin-ix487">
<primary>print requests</primary>
<secondary>IDs (how to)</secondary>
<tertiary>changing priority of print requests using</tertiary>
</indexterm>Specifies the request ID of a print request you want to change. </para>
<para>You can specify multiple request IDs with this command. Use a space
or a comma to separate request IDs. If you use spaces, enclose the list of
request IDs in quotation marks.</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
<option>
H</option> <replaceable>change-priority</replaceable>
</term>
<listitem>
<para>Specifies one of the three ways to change the priority of
a print request: <literal>hold</literal>, <literal>resume</literal>, <literal>immediate</literal>. </para>
<para>For detailed information about valid values for <replaceable>change-priority</replaceable>, see <olink remap="internal" targetdoc="chapter-4.xml" targetptr="printadmin-71857">Table 4–6</olink>.</para>
</listitem>
</varlistentry>
</variablelist>
<para>You can also use the <command>lp</command> <option>
q</option> command
to change the priority level of a specified print request. You can change
the priority level from 0, the highest priority, to 39, the lowest priority.</para>
</step>
</procedure>
<example xml:id="emjga">

<title>Changing the Priority of a Print Request</title>
<para>The following example shows how to change a print request with the request
ID <literal>asteroid-79</literal>, to priority level 1. </para>
<screen># <userinput>lp -i asteroid-79 -q 1</userinput>
</screen>
</example>
</task>
</sect2>
</sect1>
</chapter>
