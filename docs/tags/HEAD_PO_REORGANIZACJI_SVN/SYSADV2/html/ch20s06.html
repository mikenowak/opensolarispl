<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Monitoring System Activities (sar)</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="ch20.html" title="Chapter 20. Monitoring System Performance (Tasks)"><link rel="prev" href="ch20s05.html" title="Monitoring System Activities (Task Map)"><link rel="next" href="ch20s07.html" title="Collecting System Activity Data Automatically
(sar)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Monitoring System Activities (<span><strong class="command">sar</strong></span>)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch20s05.html">Prev</a> </td><th width="60%" align="center">Chapter 20. Monitoring System Performance (Tasks)</th><td width="20%" align="right"> <a accesskey="n" href="ch20s07.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="spmonitor-8"></a>Monitoring System Activities (<span><strong class="command">sar</strong></span>)</h2></div></div></div>

<p>
<a class="indexterm" name="spconcepts-ix3821"></a>
<a class="indexterm" name="spconcepts-ix3822"></a>
<a class="indexterm" name="spconcepts-ix3823"></a>Use the <span><strong class="command">sar</strong></span> command to perform the following
tasks:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Organize and view data about system activity.</p>
</li><li>
<p>Access system activity data on a special request basis.</p>
</li><li>
<p>Generate automatic reports to measure and monitor system performance,
as well as special request reports to pinpoint specific performance problems.
For information on how to set up the <span><strong class="command">sar</strong></span> command to run
on your system, as well as a description of these tools, see <span class="olink">Collecting System Activity Data Automatically (<span><strong class="command">sar</strong></span>)</span>.</p>
</li></ul></div>
<p>For a detailed description of this command, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">sar</span>
(
1
)
</span>
</span> man page.</p>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2246747"></a></h3></div></div></div>

<div class="task"><a name="enueh"></a><p class="title"><b>How to Check File Access (<span><strong class="command">sar -a</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Display file access operation statistics with the <span><strong class="command">sar
-a</strong></span> command.<a class="indexterm" name="spmonitor-ix4514"></a>
<a class="indexterm" name="spmonitor-ix4515"></a>
<a class="indexterm" name="spmonitor-ix4516"></a>
<a class="indexterm" name="spmonitor-ix4517"></a>
<a class="indexterm" name="spmonitor-ix4518"></a>
<a class="indexterm" name="spmonitor-ix4520"></a>
</p>
<pre class="screen">$ <strong class="userinput"><code>sar -a</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:00  iget/s namei/s dirbk/s
01:00:00       0       3       0
02:00:00       0       3       0
03:00:00       0       3       0
04:00:00       0       3       0
05:00:00       0       3       0
06:00:00       0       3       0
07:00:00       0       3       0
08:00:00       0       3       0
08:20:01       0       3       0
08:40:00       0       3       0
09:00:00       0       3       0
09:20:01       0      10       0
09:40:01       0       1       0
10:00:02       0       5       0

Average        0       4       0</pre>
<p>The following list describes the field names and description of operating
system routines that are reported by the <span><strong class="command">sar -a</strong></span> command.</p>
<div class="variablelist"><dl><dt><span class="term">
<code class="literal">iget/s</code>
</span></dt><dd>
<p>The number of requests made for inodes that were not in the
directory name look-up cache (DNLC).</p>
</dd><dt><span class="term">
<code class="literal">namei/s</code>
</span></dt><dd>
<p>The number of file system path searches per second. If <code class="literal">namei</code> does not find a directory name in the DNLC, it calls <code class="literal">iget</code> to
get the inode for either a file or directory. Hence, most <code class="literal">igets</code> are
the result of DNLC misses.</p>
</dd><dt><span class="term">
<code class="literal">dirbk/s</code>
</span></dt><dd>
<p>The number of directory block reads issued per second.</p>
</dd></dl></div>
<p>
<a class="indexterm" name="spmonitor-ix4528"></a>
<a class="indexterm" name="spmonitor-ix4529"></a>
<a class="indexterm" name="spmonitor-ix4530"></a>
<a class="indexterm" name="spmonitor-ix4531"></a>The larger the reported values for these operating system routines,
the more time the kernel is spending to access user files. The amount of time
reflects how heavily programs and applications are using the file systems.
The <code class="option">
a</code> option is helpful for viewing how  disk-dependent an
application is.</p>
</li></ul></div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2247103"></a></h3></div></div></div>

<div class="task"><a name="enuef"></a><p class="title"><b>How to Check Buffer Activity (<span><strong class="command">sar -b</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Display buffer activity statistics with the <span><strong class="command">sar -b</strong></span> command. </p>
<p>The buffer is used to cache metadata. Metadata includes inodes,
cylinder group blocks, and indirect blocks. </p>
<pre class="screen">$ <strong class="userinput"><code>sar -b</code></strong>
00:00:00 bread/s lread/s %rcache bwrit/s lwrit/s %wcache pread/s pwrit/s
01:00:00       0       0     100       0       0      55       0       0</pre>
</li></ul></div><div class="example"><a name="spmonitor-9"></a><p class="title"><b>Example 20.5. Checking Buffer Activity (<span>sar <code class="option">
b</code>
</span>)</b></p>


<p>
<a class="indexterm" name="spmonitor-ix4551"></a>The following example of <span><strong class="command">sar -b</strong></span> command output
shows that the <code class="literal">%rcache</code> and <code class="literal">%wcache</code> buffers
are not causing any slowdowns. All the data is within acceptable limits.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -b</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 bread/s lread/s %rcache bwrit/s lwrit/s %wcache pread/s pwrit/s
01:00:00       0       0     100       0       0      94       0       0
02:00:01       0       0     100       0       0      94       0       0
03:00:00       0       0     100       0       0      92       0       0
04:00:00       0       1     100       0       1      94       0       0
05:00:00       0       0     100       0       0      93       0       0
06:00:00       0       0     100       0       0      93       0       0
07:00:00       0       0     100       0       0      93       0       0
08:00:00       0       0     100       0       0      93       0       0
08:20:00       0       1     100       0       1      94       0       0
08:40:01       0       1     100       0       1      93       0       0
09:00:00       0       1     100       0       1      93       0       0
09:20:00       0       1     100       0       1      93       0       0
09:40:00       0       2     100       0       1      89       0       0
10:00:00       0       9     100       0       5      92       0       0
10:20:00       0       0     100       0       0      68       0       0
10:40:00       0       1      98       0       1      70       0       0
11:00:00       0       1     100       0       1      75       0       0

Average        0       1     100       0       1      91       0       0</pre>
<p>The following table describes the buffer activities that are displayed
by the <code class="option">
b</code> option.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Field Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">bread/s</code> </p>
</td><td>
<p>Average number of reads per second that are submitted to the buffer
cache from the disk</p>
</td></tr><tr><td>
<p>
<code class="literal">lread/s</code> </p>
</td><td>
<p>Average number of logical reads per second from the buffer cache</p>
</td></tr><tr><td>
<p>
<code class="literal">%rcache</code>
</p>
</td><td>
<p>Fraction of logical reads that are found in the buffer cache (100 %
minus the ratio of <code class="literal">bread/s</code> to <code class="literal">lread/s</code>)</p>
</td></tr><tr><td>
<p>
<code class="literal">bwrit/s</code> </p>
</td><td>
<p>Average number of physical blocks (512 blocks) that are written from
the buffer cache to disk, per second</p>
</td></tr><tr><td>
<p>
<code class="literal">lwrit/s</code> </p>
</td><td>
<p>Average number of logical writes to the buffer cache, per second</p>
</td></tr><tr><td>
<p>
<code class="literal">%wcache</code> </p>
</td><td>
<p>Fraction of logical writes that are found in the buffer cache (100 %
minus the ratio of <code class="literal">bwrit/s</code> to <code class="literal">lwrit/s</code>)</p>
</td></tr><tr><td>
<p>
<code class="literal">pread/s</code>
</p>
</td><td>
<p>Average number of physical reads, per second, that use character device
interfaces</p>
</td></tr><tr><td>
<p>
<code class="literal">pwrit/s</code>
</p>
</td><td>
<p>Average number of physical write requests, per second, that use character
device interfaces</p>
</td></tr></tbody></table>
</div>
<p>The most important entries are the cache hit ratios <code class="literal">%rcache</code> and <code class="literal">%wcache</code>. These entries measure the effectiveness of system buffering.
If <code class="literal">%rcache</code> falls below 90 percent, or if <code class="literal">%wcache</code> falls
below 65 percent, it might be possible to improve performance by increasing
the buffer space.</p>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2247609"></a></h3></div></div></div>

<div class="task"><a name="enuel"></a><p class="title"><b>How to Check System Call Statistics (<span><strong class="command">sar
-c</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Display system call statistics by using the <span><strong class="command">sar -c</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -c</code></strong>
00:00:00 scall/s sread/s swrit/s  fork/s  exec/s rchar/s wchar/s
01:00:00      38       2       2    0.00    0.00     149     120</pre>
</li></ul></div><div class="example"><a name="spmonitor-10"></a><p class="title"><b>Example 20.6. Checking System Call Statistics (<span>sar <code class="option">
c</code>
</span>)</b></p>


<p>The following example shows output from the <span><strong class="command">sar -c</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -c</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 scall/s sread/s swrit/s  fork/s  exec/s rchar/s wchar/s
01:00:00      89      14       9    0.01    0.00    2906    2394
02:00:01      89      14       9    0.01    0.00    2905    2393
03:00:00      89      14       9    0.01    0.00    2908    2393
04:00:00      90      14       9    0.01    0.00    2912    2393
05:00:00      89      14       9    0.01    0.00    2905    2393
06:00:00      89      14       9    0.01    0.00    2905    2393
07:00:00      89      14       9    0.01    0.00    2905    2393
08:00:00      89      14       9    0.01    0.00    2906    2393
08:20:00      90      14       9    0.01    0.01    2914    2395
08:40:01      90      14       9    0.01    0.00    2914    2396
09:00:00      90      14       9    0.01    0.01    2915    2396
09:20:00      90      14       9    0.01    0.01    2915    2396
09:40:00     880     207     156    0.08    0.08   26671    9290
10:00:00    2020     530     322    0.14    0.13   57675   36393
10:20:00     853     129      75    0.02    0.01   10500    8594
10:40:00    2061     524     450    0.08    0.08  579217  567072
11:00:00    1658     404     350    0.07    0.06 1152916 1144203

Average      302      66      49    0.02    0.01   57842   55544</pre>
<p>
<a class="indexterm" name="spmonitor-ix4563"></a>The following table describes the system call categories that
are reported by the <code class="option">
c</code> option. Typically, reads and writes
account for about half of the total system calls. However, the percentage
varies greatly with the activities that are being performed by the system.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Field Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">scall/s</code>
</p>
</td><td>
<p>The number of all types of system calls per second, which is generally
about 30 per second on a system with 4 to 6 users.</p>
</td></tr><tr><td>
<p>
<code class="literal">sread/s</code>
</p>
</td><td>
<p>The number of <code class="literal">read</code> system calls per second.</p>
</td></tr><tr><td>
<p>
<code class="literal">swrit/s</code>
</p>
</td><td>
<p>The number of <code class="literal">write</code> system calls per second.</p>
</td></tr><tr><td>
<p>
<code class="literal">fork/s</code>
</p>
</td><td>
<p>The number of <code class="literal">fork</code> system calls per second, which
is about 0.5 per second on a system with 4 to 6 users. This number increases
if shell scripts are running.</p>
</td></tr><tr><td>
<p>
<code class="literal">exec/s</code>
</p>
</td><td>
<p>The number of <code class="literal">exec</code> system calls per second. If <code class="literal">exec/s</code> divided by <code class="literal">fork/s</code> is greater than 3, look
for inefficient <code class="literal">PATH</code> variables.</p>
</td></tr><tr><td>
<p>
<code class="literal">rchar/s</code> </p>
</td><td>
<p>The number of characters (bytes) transferred by <code class="literal">read</code> system
calls per second.</p>
</td></tr><tr><td>
<p>
<code class="literal">wchar/s</code>
</p>
</td><td>
<p>The number of characters (bytes) transferred by <code class="literal">write</code> system
calls per second.</p>
</td></tr></tbody></table>
</div>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2248038"></a></h3></div></div></div>

<div class="task"><a name="enuen"></a><p class="title"><b>How to Check Disk Activity (<span><strong class="command">sar -d</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Display disk activity statistics with the <span><strong class="command">sar -d</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -d</code></strong>

00:00:00   device        %busy   avque   r+w/s  blks/s  avwait  avserv</pre>
</li></ul></div><div class="example"><a name="spmonitor-11"></a><p class="title"><b>Example 20.7. Checking Disk Activity</b></p>


<p>This abbreviated example illustrates the output from the <span><strong class="command">sar
-d</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -d</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

12:36:32   device        %busy   avque   r+w/s  blks/s  avwait  avserv

12:40:01   dad1             15     0.7      26     399    18.1    10.0
           dad1,a           15     0.7      26     398    18.1    10.0
           dad1,b            0     0.0       0       1     1.0     3.0
           dad1,c            0     0.0       0       0     0.0     0.0
           dad1,h            0     0.0       0       0     0.0     6.0
           fd0               0     0.0       0       0     0.0     0.0
           nfs1              0     0.0       0       0     0.0     0.0
           nfs2              1     0.0       1      12     0.0    13.2
           nfs3              0     0.0       0       2     0.0     1.9
           nfs4              0     0.0       0       0     0.0     7.0
           nfs5              0     0.0       0       0     0.0    57.1
           nfs6              1     0.0       6     125     4.3     3.2
           nfs7              0     0.0       0       0     0.0     6.0
           sd1               0     0.0       0       0     0.0     5.4
           ohci0,bu          0     0.0       0       0     0.0     0.0
           ohci0,ct          0     0.0       0       0     0.0     0.0
           ohci0,in          0     0.0       7       0     0.0     0.0
           ohci0,is          0     0.0       0       0     0.0     0.0
           ohci0,to          0     0.0       7       0     0.0     0.0</pre>
<p>The following table describes the disk device activities that are reported
by the <code class="option">
d</code> option.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Field Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">device</code>
</p>
</td><td>
<p>Name of the disk device that is being monitored.</p>
</td></tr><tr><td>
<p>
<code class="literal">%busy</code> </p>
</td><td>
<p>Percentage of time the device spent servicing a transfer request.</p>
</td></tr><tr><td>
<p>
<code class="literal">avque</code>
</p>
</td><td>
<p>The sum of the average wait time plus the average service time.</p>
</td></tr><tr><td>
<p>
<code class="literal">r+w/s</code>
</p>
</td><td>
<p>Number of read-and-write transfers to the device, per second.</p>
</td></tr><tr><td>
<p>
<code class="literal">blks/s</code>
</p>
</td><td>
<p>Number of 512-byte blocks that are transferred to the device, per second.</p>
</td></tr><tr><td>
<p>
<code class="literal">avwait</code> </p>
</td><td>
<p>Average time, in milliseconds, that transfer requests wait idly in the
queue. This time is measured only when the queue is occupied.</p>
</td></tr><tr><td>
<p>
<code class="literal">avserv</code> </p>
</td><td>
<p>Average time, in milliseconds, for a transfer request to be completed
by the device. For disks, this value includes seek times, rotational latency
times, and data transfer times.</p>
</td></tr></tbody></table>
</div>
<p>Note that queue lengths and wait times are measured when something is
in the queue. If <code class="literal">%busy</code> is small, large queues and service
times probably represent the periodic efforts by the system to ensure that
altered blocks are promptly written to the disk.</p>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2248438"></a></h3></div></div></div>

<div class="task"><a name="enueo"></a><p class="title"><b>How to Check Page-Out and Memory (<span><strong class="command">sar -g</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Use the <span><strong class="command">sar -g</strong></span> command to display page-out
and memory freeing activities in averages. </p>
<pre class="screen">$ <strong class="userinput"><code>sar -g</code></strong>
00:00:00  pgout/s ppgout/s pgfree/s pgscan/s %ufs_ipf
01:00:00     0.00     0.00     0.00     0.00     0.00</pre>
<p>The output displayed by the <span><strong class="command">sar -g</strong></span> command is a good
indicator of whether more memory might be needed. Use the <span><strong class="command">ps -elf</strong></span> command
to show the number of cycles that are used by the <span><strong class="command">page</strong></span> daemon.
A high number of cycles, combined with high values for the <code class="literal">pgfree/s</code> and <code class="literal">pgscan/s</code> fields, indicates a memory shortage. </p>
<p>The <span><strong class="command">sar -g</strong></span> command also shows whether inodes are being recycled too
quickly and causing a loss of reusable pages. </p>
</li></ul></div><div class="example"><a name="spmonitor-12"></a><p class="title"><b>Example 20.8. Checking Page-Out and Memory (<span>sar -g</span>)</b></p>


<p>The following example shows output from the <span><strong class="command">sar -g</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -g</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:00  pgout/s ppgout/s pgfree/s pgscan/s %ufs_ipf
01:00:00     0.00     0.00     0.00     0.00     0.00
02:00:00     0.01     0.01     0.01     0.00     0.00
03:00:00     0.00     0.00     0.00     0.00     0.00
04:00:00     0.00     0.00     0.00     0.00     0.00
05:00:00     0.00     0.00     0.00     0.00     0.00
06:00:00     0.00     0.00     0.00     0.00     0.00
07:00:00     0.00     0.00     0.00     0.00     0.00
08:00:00     0.00     0.00     0.00     0.00     0.00
08:20:01     0.00     0.00     0.00     0.00     0.00
08:40:00     0.00     0.00     0.00     0.00     0.00
09:00:00     0.00     0.00     0.00     0.00     0.00
09:20:01     0.05     0.52     1.62    10.16     0.00
09:40:01     0.03     0.44     1.47     4.77     0.00
10:00:02     0.13     2.00     4.38    12.28     0.00
10:20:03     0.37     4.68    12.26    33.80     0.00

Average      0.02     0.25     0.64     1.97     0.00</pre>
<p>The following table describes the output from the <code class="option">
g</code> option.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Field Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">pgout/s</code>
</p>
</td><td>
<p>The number of page-out requests per second.</p>
</td></tr><tr><td>
<p>
<code class="literal">ppgout/s</code> </p>
</td><td>
<p>The actual number of pages that are paged-out, per second. A single
page-out request might involve paging-out multiple pages.</p>
</td></tr><tr><td>
<p>
<code class="literal">pgfree/s</code> </p>
</td><td>
<p>The number of pages, per second, that are placed on the free list.</p>
</td></tr><tr><td>
<p>
<code class="literal">pgscan/s</code> </p>
</td><td>
<p>The number of pages, per second, that are scanned by the <span><strong class="command">page</strong></span> daemon.
If this value is high, the <span><strong class="command">page</strong></span> daemon is spending a lot
of time checking for free memory. This situation implies that more memory
might be needed. </p>
</td></tr><tr><td>
<p>
<code class="literal">%ufs_ipf</code>
</p>
</td><td>
<p>The percentage of <code class="literal">ufs</code> inodes taken off the free list
by <code class="literal">iget</code> that had reusable pages associated with them. These
pages are flushed and cannot be reclaimed by processes. Thus, this field represents
the percentage of <code class="literal">igets</code> with page flushes. A high value
indicates that the free list of inodes is page-bound, and that the number
of <code class="literal">ufs</code> inodes might need to be increased. </p>
</td></tr></tbody></table>
</div>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="enueq"></a>Checking Kernel Memory Allocation</h3></div></div></div>

<p>The KMA allows a kernel subsystem to allocate and free memory, as needed.
Rather than statically allocating the maximum amount of memory it is expected
to require under peak load, the KMA divides requests for memory into three
categories:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Small (less than 256 bytes)</p>
</li><li>
<p>Large (512 bytes to 4 Kbytes)</p>
</li><li>
<p>Oversized (greater than 4 Kbytes)</p>
</li></ul></div>
<p>The KMA keeps two pools of memory to satisfy small requests and large
requests. The oversized requests are satisfied by allocating memory from the
system page allocator. </p>
<p>If you are checking a system that is being used to write drivers or
STREAMS that use KMA resources, then the <span><strong class="command">sar -k</strong></span> command
will likely prove useful. Otherwise, you will probably not need the information
it provides. Any driver or module that uses KMA resources, but does not specifically
return the resources before it exits, can create a memory leak. A memory leak
causes the amount of memory that is allocated by KMA to increase over time.
Thus, if the <code class="literal">alloc</code> fields of the <span><strong class="command">sar -k</strong></span> command
increase steadily over time, there might be a memory leak. Another indication
of a memory leak is failed requests. If this problem occurs, a memory leak
has probably caused KMA to be unable to reserve and allocate memory. </p>
<p>If it appears that a memory leak has occurred, you should check any
drivers or STREAMS that might have requested memory from KMA and not returned
it. </p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2248930"></a></h3></div></div></div>

<div class="task"><a name="enuep"></a><p class="title"><b>How to Check Kernel Memory Allocation (<span><strong class="command">sar
-k</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Use the <span><strong class="command">sar -k</strong></span> command to report on the following
activities of the Kernel Memory Allocator (KMA). </p>
<pre class="screen">$ <strong class="userinput"><code>sar -k</code></strong>
00:00:00 sml_mem   alloc  fail  lg_mem   alloc   fail  ovsz_alloc  fail
01:00:00 2523136 1866512     0 18939904 14762364    0      360448     0
02:00:02 2523136 1861724     0 18939904 14778748    0      360448     0</pre>
</li></ul></div><div class="example"><a name="spmonitor-13"></a><p class="title"><b>Example 20.9. Checking Kernel Memory Allocation (<span>sar <code class="option">
k</code>
</span>)</b></p>


<p>The following is an abbreviated example of <span><strong class="command">sar -k</strong></span> output.
 </p>
<pre class="screen">$ <strong class="userinput"><code>sar -k</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 sml_mem   alloc  fail  lg_mem   alloc  fail  ovsz_alloc  fail
01:00:00 6119744 4852865     0 60243968 54334808   156     9666560     0
02:00:01 6119744 4853057     0 60243968 54336088   156     9666560     0
03:00:00 6119744 4853297     0 60243968 54335760   156     9666560     0
04:00:00 6119744 4857673     0 60252160 54375280   156     9666560     0
05:00:00 6119744 4858097     0 60252160 54376240   156     9666560     0
06:00:00 6119744 4858289     0 60252160 54375608   156     9666560     0
07:00:00 6119744 4858793     0 60252160 54442424   156     9666560     0
08:00:00 6119744 4858985     0 60252160 54474552   156     9666560     0
08:20:00 6119744 4858169     0 60252160 54377400   156     9666560     0
08:40:01 6119744 4857345     0 60252160 54376880   156     9666560     0
09:00:00 6119744 4859433     0 60252160 54539752   156     9666560     0
09:20:00 6119744 4858633     0 60252160 54410920   156     9666560     0
09:40:00 6127936 5262064     0 60530688 55619816   156     9666560     0
10:00:00 6545728 5823137     0 62996480 58391136   156     9666560     0
10:20:00 6545728 5758997     0 62996480 57907400   156     9666560     0
10:40:00 6734144 6035759     0 64389120 59743064   156    10493952     0
11:00:00 6996288 6394872     0 65437696 60935936   156    10493952     0

Average  6258044 5150556     0 61138340 55609004   156     9763900     0</pre>
<p>The following table describes the output from the <code class="option">
k</code> option.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Field Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">sml_mem</code>
</p>
</td><td>
<p>The amount of memory, in bytes, that the KMA has available in the small
memory request pool. In this pool, here a small request is less than 256 bytes.</p>
</td></tr><tr><td>
<p>
<code class="literal">alloc</code> </p>
</td><td>
<p>The amount of memory, in bytes, that the KMA has allocated from its
small memory request pool to small memory requests.</p>
</td></tr><tr><td>
<p>
<code class="literal">fail</code>
</p>
</td><td>
<p>The number of requests for small amounts of memory that failed.</p>
</td></tr><tr><td>
<p>
<code class="literal">lg_mem</code>
</p>
</td><td>
<p>The amount of memory, in bytes, that the KMA has available in the large
memory request pool. In this pool, a large request is from 512 bytes to 4
Kbytes.</p>
</td></tr><tr><td>
<p>
<code class="literal">alloc</code>
</p>
</td><td>
<p>The amount of memory, in bytes, that the KMA has allocated from its
large memory request pool to large memory requests.</p>
</td></tr><tr><td>
<p>
<code class="literal">fail</code> </p>
</td><td>
<p>The number of failed requests for large amounts of memory.</p>
</td></tr><tr><td>
<p>
<code class="literal">ovsz_alloc</code>
</p>
</td><td>
<p>The amount of memory that is allocated for oversized requests, which
are requests that are greater than 4 Kbytes. These requests are satisfied
by the page allocator. Thus, there is no pool.</p>
</td></tr><tr><td>
<p>
<code class="literal">fail</code> </p>
</td><td>
<p>The number of failed requests for oversized amounts of memory.</p>
</td></tr></tbody></table>
</div>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2249357"></a></h3></div></div></div>

<div class="task"><a name="enuev"></a><p class="title"><b>How to Check Interprocess Communication (<span><strong class="command">sar
-m</strong></span>)</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="spmonitor-ix4652"></a>Use the <span><strong class="command">sar -m</strong></span> command to report interprocess
communication activities.  </p>
<pre class="screen">$ <strong class="userinput"><code>sar -m</code></strong>
00:00:00   msg/s  sema/s
01:00:00    0.00    0.00</pre>
<p>These figures are usually zero (0.00), unless you are running applications
that use messages or semaphores. </p>
<p>The following list describes
the output from the <code class="option">
m</code> option.</p>
<div class="variablelist"><dl><dt><span class="term">
<code class="literal">msg/s</code>
</span></dt><dd>
<p>The number of message operations (sends and receives) per
second</p>
</dd><dt><span class="term">
<code class="literal">sema/s</code>
</span></dt><dd>
<p>The number of semaphore operations per second</p>
</dd></dl></div>
</li></ul></div><div class="example"><a name="spmonitor-14"></a><p class="title"><b>Example 20.10. Checking Interprocess Communication (<span>sar -m</span>)</b></p>


<p>The following abbreviated example shows output from the <span><strong class="command">sar
-m</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -m</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:00   msg/s  sema/s
01:00:00    0.00    0.00
02:00:02    0.00    0.00
03:00:00    0.00    0.00
04:00:00    0.00    0.00
05:00:01    0.00    0.00
06:00:00    0.00    0.00

Average     0.00    0.00</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2249531"></a></h3></div></div></div>

<div class="task"><a name="enuew"></a><p class="title"><b>How to Check Page-In Activity (<span><strong class="command">sar -p</strong></span>)</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="spmonitor-ix4664"></a>Use the <span><strong class="command">sar -p</strong></span> command to report page-in activity,
which includes protection and translation faults.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -p</code></strong>
00:00:00  atch/s  pgin/s ppgin/s  pflt/s  vflt/s slock/s
01:00:00    0.07    0.00    0.00    0.21    0.39    0.00</pre>
</li></ul></div><div class="example"><a name="spmonitor-15"></a><p class="title"><b>Example 20.11. Checking Page-In Activity (<span>sar <code class="option">
p</code>
</span>)</b></p>


<p>The following example shows output from the <span><strong class="command">sar <code class="option">
p</code>
</strong></span> command. </p>
<pre class="screen">$ <strong class="userinput"><code>sar -p</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04  atch/s  pgin/s ppgin/s  pflt/s  vflt/s slock/s
01:00:00    0.09    0.00    0.00    0.78    2.02    0.00
02:00:01    0.08    0.00    0.00    0.78    2.02    0.00
03:00:00    0.09    0.00    0.00    0.81    2.07    0.00
04:00:00    0.11    0.01    0.01    0.86    2.18    0.00
05:00:00    0.08    0.00    0.00    0.78    2.02    0.00
06:00:00    0.09    0.00    0.00    0.78    2.02    0.00
07:00:00    0.08    0.00    0.00    0.78    2.02    0.00
08:00:00    0.09    0.00    0.00    0.78    2.02    0.00
08:20:00    0.11    0.00    0.00    0.87    2.24    0.00
08:40:01    0.13    0.00    0.00    0.90    2.29    0.00
09:00:00    0.11    0.00    0.00    0.88    2.24    0.00
09:20:00    0.10    0.00    0.00    0.88    2.24    0.00
09:40:00    2.91    1.80    2.38    4.61   17.62    0.00
10:00:00    2.74    2.03    3.08    8.17   21.76    0.00
10:20:00    0.16    0.04    0.04    1.92    2.96    0.00
10:40:00    2.10    2.50    3.42    6.62   16.51    0.00
11:00:00    3.36    0.87    1.35    3.92   15.12    0.00

Average     0.42    0.22    0.31    1.45    4.00    0.00</pre>
<p>The following table describes the reported statistics from the <code class="option">
p</code> option.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Field Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">atch/s</code> </p>
</td><td>
<p>The number of page faults, per second, that are satisfied by reclaiming
a page currently in memory (attaches per second). Instances include reclaiming
an invalid page from the free list and sharing a page of text that is currently
being used by another process. An example is two or more processes that are
accessing the same program text.</p>
</td></tr><tr><td>
<p>
<code class="literal">pgin/s</code>
</p>
</td><td>
<p>The number of times, per second, that file systems receive page-in requests.</p>
</td></tr><tr><td>
<p>
<code class="literal">ppgin/s</code> </p>
</td><td>
<p>The number of pages paged in, per second. A single page-in request,
such as a soft-lock request (see <code class="literal">slock/s</code>) or a large block
size, might involve paging-in multiple pages.</p>
</td></tr><tr><td>
<p>
<code class="literal">pflt/s</code> </p>
</td><td>
<p>The number of page faults from protection errors. Instances of protection
faults indicate illegal access to a page and &#8220;copy-on-writes.&#8221;
Generally, this number consists primarily of &#8220;copy-on-writes.&#8221;</p>
</td></tr><tr><td>
<p>
<code class="literal">vflt/s</code>  </p>
</td><td>
<p>The number of address translation page faults, per second. These faults
are known as validity faults. Validity faults occur when a valid process table
entry does not exist for a given virtual address.</p>
</td></tr><tr><td>
<p>
<code class="literal">slock/s</code> </p>
</td><td>
<p>The number of faults, per second, caused by software lock requests that
require physical I/O. An example of the occurrence of a soft-lock request
is the transfer of data from a disk to memory. The system locks the page that
is to receive the data so that the page cannot be claimed and used by another
process. </p>
</td></tr></tbody></table>
</div>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2249939"></a></h3></div></div></div>

<div class="task"><a name="enuet"></a><p class="title"><b>How to Check Queue Activity (<span><strong class="command">sar -q</strong></span>)</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="spmonitor-ix4687"></a>Use the <span><strong class="command">sar <code class="option">
q</code>
</strong></span> command to report
the following information: </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The Average queue length while the queue is occupied.</p>
</li><li>
<p>The percentage of time that the queue is occupied.</p>
</li></ul></div>
<pre class="screen">$ <strong class="userinput"><code>sar -q</code></strong>
00:00:00 runq-sz %runocc swpq-sz %swpocc</pre>
<p>The following list describes the output from the <code class="option">
q</code> option.</p>
<div class="variablelist"><dl><dt><span class="term">
<code class="literal">runq-sz</code>
</span></dt><dd>
<p>The number of kernel threads in memory that are waiting for
a CPU to run. Typically, this value should be less than 2. Consistently higher
values mean that the system might be CPU-bound.</p>
</dd><dt><span class="term">
<code class="literal">%runocc</code>
</span></dt><dd>
<p>The percentage of time that the dispatch queues are occupied.</p>
</dd><dt><span class="term">
<code class="literal">swpq-sz</code>
</span></dt><dd>
<p>No longer reported by the <span><strong class="command">sar</strong></span> command.</p>
</dd><dt><span class="term">
<code class="literal">%swpocc</code>
</span></dt><dd>
<p>No longer reported by the <span><strong class="command">sar</strong></span> command.</p>
</dd></dl></div>
</li></ul></div><div class="example"><a name="spmonitor-16"></a><p class="title"><b>Example 20.12. Checking Queue Activity</b></p>


<p>
<a class="indexterm" name="spmonitor-ix4714"></a>The following example shows output from the <span><strong class="command">sar -q</strong></span> command.
If the <code class="literal">%runocc</code> value is high (greater than 90 percent)
and the <code class="literal">runq-sz</code> value is greater than 2, the CPU is heavily
loaded and response is degraded. In this case, additional CPU capacity might
be required to obtain acceptable system response.   </p>
<pre class="screen">$ <strong class="userinput"><code>sar -q</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 runq-sz %runocc swpq-sz %swpocc
01:00:00     1.0       0     0.0       0
02:00:01     1.3       0     0.0       0
03:00:00     1.0       0     0.0       0
04:00:00     1.0       0     0.0       0
05:00:00     1.0       0     0.0       0
06:00:00     2.0       0     0.0       0
07:00:00     0.0       0     0.0       0
08:00:00     1.0       0     0.0       0
08:20:00     1.0       0     0.0       0
08:40:01     2.0       0     0.0       0
09:00:00     0.0       0     0.0       0
09:20:00     1.0       0     0.0       0
09:40:00     1.2       2     0.0       0
10:00:00     1.2       2     0.0       0
10:20:00     1.0       1     0.0       0
10:40:00     1.3       9     0.0       0
11:00:00     1.2       7     0.0       0

Average      1.2       1     0.0       0</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2250254"></a></h3></div></div></div>

<div class="task"><a name="enuex"></a><p class="title"><b>How to Check Unused Memory (<span><strong class="command">sar -r</strong></span>)</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="spmonitor-ix4722"></a>Use the <span><strong class="command">sar -r</strong></span> command to report the number
of memory pages and swap-file disk blocks that are currently unused.  </p>
<pre class="screen">$ <strong class="userinput"><code>sar -r</code></strong>
00:00:00 freemem freeswap
01:00:00    2135   401922</pre>
<p>The following list describes the output from the <code class="option">
r</code> option.</p>
<div class="variablelist"><dl><dt><span class="term">
<code class="literal">freemem</code>
</span></dt><dd>
<p>The average number of memory pages that are available to user
processes over the intervals sampled by the command. Page size is machine-dependent.</p>
</dd><dt><span class="term">
<code class="literal">freeswap</code>
</span></dt><dd>
<p>The number of 512-byte disk blocks that are available for
page swapping.</p>
</dd></dl></div>
</li></ul></div><div class="example"><a name="spmonitor-17"></a><p class="title"><b>Example 20.13. Checking Unused Memory (<span>sar <code class="option">
r</code>
</span>)</b></p>


<p>The following example shows output from the <span><strong class="command">sar -r</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -r</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 freemem freeswap
01:00:00   44717  1715062
02:00:01   44733  1715496
03:00:00   44715  1714746
04:00:00   44751  1715403
05:00:00   44784  1714743
06:00:00   44794  1715186
07:00:00   44793  1715159
08:00:00   44786  1714914
08:20:00   44805  1715576
08:40:01   44797  1715347
09:00:00   44761  1713948
09:20:00   44802  1715478
09:40:00   41770  1682239
10:00:00   35401  1610833
10:20:00   34295  1599141
10:40:00   33943  1598425
11:00:00   30500  1561959

Average    43312  1699242</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2250431"></a></h3></div></div></div>

<div class="task"><a name="enueu"></a><p class="title"><b>How to Check CPU Utilization (<span><strong class="command">sar -u</strong></span>)</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="spmonitor-ix4742"></a>Use the <span><strong class="command">sar -u</strong></span> command to display CPU utilization
statistics.  </p>
<pre class="screen">$ <strong class="userinput"><code>sar -u</code></strong>
00:00:00    %usr    %sys    %wio   %idle
01:00:00       0       0       0     100</pre>
<p>The <span><strong class="command">sar</strong></span> command without any options is equivalent
to the <span><strong class="command">sar -u</strong></span> command. At any given moment, the processor
is either busy or idle. When busy, the processor is in either user mode or
system mode. When idle, the processor is either waiting for I/O completion
or &#8220;sitting still&#8221; with no work to do. </p>
<p>The following
list describes output from the <code class="option">
u</code> option.</p>
<div class="variablelist"><dl><dt><span class="term">
<code class="literal">%usr</code>
</span></dt><dd>
<p>Lists the percentage of time that the processor is in user
mode</p>
</dd><dt><span class="term">
<code class="literal">%sys</code>
</span></dt><dd>
<p>Lists the percentage of time that the processor is in system
mode</p>
</dd><dt><span class="term">
<code class="literal">%wio</code>
</span></dt><dd>
<p>Lists the percentage of time that the processor is idle and
waiting for I/O completion</p>
</dd><dt><span class="term">
<code class="literal">%idle</code>
</span></dt><dd>
<p>Lists the percentage of time that the processor is idle and
not waiting for I/O</p>
</dd></dl></div>
<p>A high <code class="literal">%wio</code> value generally means that a disk slowdown
has occurred. </p>
</li></ul></div><div class="example"><a name="spmonitor-18"></a><p class="title"><b>Example 20.14. Checking CPU Utilization (<span>sar -u</span>)</b></p>


<p>The following example shows output from the <span><strong class="command">sar -u</strong></span> command. </p>
<pre class="screen">$ <strong class="userinput"><code>sar -u</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04    %usr    %sys    %wio   %idle
01:00:00       0       0       0     100
02:00:01       0       0       0     100
03:00:00       0       0       0     100
04:00:00       0       0       0     100
05:00:00       0       0       0     100
06:00:00       0       0       0     100
07:00:00       0       0       0     100
08:00:00       0       0       0     100
08:20:00       0       0       0      99
08:40:01       0       0       0      99
09:00:00       0       0       0      99
09:20:00       0       0       0      99
09:40:00       4       1       0      95
10:00:00       4       2       0      94
10:20:00       1       1       0      98
10:40:00      18       3       0      79
11:00:00      25       3       0      72

Average        2       0       0      98</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2250688"></a></h3></div></div></div>

<div class="task"><a name="enuey"></a><p class="title"><b>How to Check System Table Status (<span><strong class="command">sar -v</strong></span>)</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="spmonitor-ix4762"></a>Use the <span><strong class="command">sar -v</strong></span> command to report the status
of the process table, inode table, file table, and shared memory record table.
 </p>
<pre class="screen">$ <strong class="userinput"><code>sar -v</code></strong>
00:00:00  proc-sz    ov  inod-sz    ov  file-sz    ov   lock-sz
01:00:00   43/922     0 2984/4236    0  322/322     0    0/0   </pre>
</li></ul></div><div class="example"><a name="spmonitor-19"></a><p class="title"><b>Example 20.15. Checking System Table Status (<span>sar <code class="option">
v</code>
</span>)</b></p>


<p>The following abbreviated example shows output from the <span><strong class="command">sar
-v</strong></span> command. This example shows that all tables are large enough
to have no overflows. These tables are all dynamically allocated based on
the amount of physical memory.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -v</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04  proc-sz    ov  inod-sz    ov  file-sz    ov   lock-sz
01:00:00   69/8010    0 3476/34703    0    0/0       0    0/0   
02:00:01   69/8010    0 3476/34703    0    0/0       0    0/0   
03:00:00   69/8010    0 3476/34703    0    0/0       0    0/0   
04:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
05:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
06:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
07:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
08:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
08:20:00   69/8010    0 3494/34703    0    0/0       0    0/0   
08:40:01   69/8010    0 3494/34703    0    0/0       0    0/0   
09:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
09:20:00   69/8010    0 3494/34703    0    0/0       0    0/0   
09:40:00   74/8010    0 3494/34703    0    0/0       0    0/0   
10:00:00   75/8010    0 4918/34703    0    0/0       0    0/0   
10:20:00   72/8010    0 4918/34703    0    0/0       0    0/0   
10:40:00   71/8010    0 5018/34703    0    0/0       0    0/0   
11:00:00   77/8010    0 5018/34703    0    0/0       0    0/0  </pre>
<p>Output from the <code class="option">
v</code> option is described in the following
table.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Field Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">proc-sz</code>
</p>
</td><td>
<p>The number of process entries (<code class="literal">proc</code> structures) that
are currently being used, or allocated, in the kernel.</p>
</td></tr><tr><td>
<p>
<code class="literal">inod-sz</code>
</p>
</td><td>
<p>The total number of inodes in memory compared to the maximum number
of inodes that are allocated in the kernel.  This number is not a strict high
watermark. The number can overflow.</p>
</td></tr><tr><td>
<p>
<code class="literal">file-sz</code> </p>
</td><td>
<p>The size of the open system file table. The <code class="literal">sz</code> is
given as <code class="literal">0</code>, because space is allocated dynamically for
the file table.</p>
</td></tr><tr><td>
<p>
<code class="literal">ov</code> </p>
</td><td>
<p>The overflows that occur between sampling points for each table. </p>
</td></tr><tr><td>
<p>
<code class="literal">lock-sz</code>
</p>
</td><td>
<p>The number of shared memory record table entries that are currently
being used, or allocated, in the kernel. The <code class="literal">sz</code> is given
as <code class="literal">0</code> because space is allocated dynamically for the shared
memory record table.</p>
</td></tr></tbody></table>
</div>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2251087"></a></h3></div></div></div>

<div class="task"><a name="enuez"></a><p class="title"><b>How to Check Swapping Activity (<span><strong class="command">sar -w</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Use the <span><strong class="command">sar -w</strong></span> command to report swapping and
switching activity.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -w</code></strong>
00:00:00 swpin/s bswin/s swpot/s bswot/s pswch/s
01:00:00    0.00     0.0    0.00     0.0      22</pre>
<p>The following list describes target values and observations related
to the <span><strong class="command">sar <code class="option">
w</code>
</strong></span> command output.</p>
<div class="variablelist"><dl><dt><span class="term">
<code class="literal">swpin/s</code>
</span></dt><dd>
<p>The number of LWP transfers into memory per second.</p>
</dd><dt><span class="term">
<code class="literal">bswin/s</code>
</span></dt><dd>
<p>The number of blocks transferred for swap-ins per second. <code class="literal">/* (float)PGTOBLK(xx-&gt;cvmi.pgswapin) / sec_diff */</code>
</p>
</dd><dt><span class="term">
<code class="literal">swpot/s</code>
</span></dt><dd>
<p>The average number of processes that are swapped out of memory
per second. If the number is greater than 1, you might need to increase memory.</p>
</dd><dt><span class="term">
<code class="literal">bswot/s</code>
</span></dt><dd>
<p>The number of blocks that are transferred for swap-outs per
second.</p>
</dd><dt><span class="term">
<code class="literal">pswch/s</code>
</span></dt><dd>
<p>The number of kernel thread switches, per second.</p>
</dd></dl></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>All process swap-ins include process initialization.</p>
</div>
</li></ul></div><div class="example"><a name="spmonitor-20"></a><p class="title"><b>Example 20.16. Checking Swap Activity (<span>sar <code class="option">
w</code>
</span>)</b></p>


<p>The following example shows output from the <span><strong class="command">sar -w</strong></span> command. </p>
<pre class="screen">$ <strong class="userinput"><code>sar -w</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 swpin/s bswin/s swpot/s bswot/s pswch/s
01:00:00    0.00     0.0    0.00     0.0     132
02:00:01    0.00     0.0    0.00     0.0     133
03:00:00    0.00     0.0    0.00     0.0     133
04:00:00    0.00     0.0    0.00     0.0     134
05:00:00    0.00     0.0    0.00     0.0     133
06:00:00    0.00     0.0    0.00     0.0     133
07:00:00    0.00     0.0    0.00     0.0     132
08:00:00    0.00     0.0    0.00     0.0     131
08:20:00    0.00     0.0    0.00     0.0     133
08:40:01    0.00     0.0    0.00     0.0     132
09:00:00    0.00     0.0    0.00     0.0     132
09:20:00    0.00     0.0    0.00     0.0     132
09:40:00    0.00     0.0    0.00     0.0     335
10:00:00    0.00     0.0    0.00     0.0     601
10:20:00    0.00     0.0    0.00     0.0     353
10:40:00    0.00     0.0    0.00     0.0     747
11:00:00    0.00     0.0    0.00     0.0     804

Average     0.00     0.0    0.00     0.0     198</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2251342"></a></h3></div></div></div>

<div class="task"><a name="enufb"></a><p class="title"><b>How to Check Terminal Activity (<span><strong class="command">sar -y</strong></span>)</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="indexterm-232"></a>Use the <span><strong class="command">sar -y</strong></span> command to monitor terminal
device activities. </p>
<pre class="screen">$ <strong class="userinput"><code>sar -y</code></strong>
00:00:00 rawch/s canch/s outch/s rcvin/s xmtin/s mdmin/s
01:00:00       0       0       0       0       0       0</pre>
<p>If you have a lot of terminal I/O, you can use this report to determine
if any bad lines exist. The activities recorded are defined in the following
list.</p>
<div class="variablelist"><dl><dt><span class="term">
<code class="literal">rawch/s</code>
</span></dt><dd>
<p>Input characters (raw queue) per second</p>
</dd><dt><span class="term">
<code class="literal">canch/s</code>
</span></dt><dd>
<p>Input characters that are processed by canon (canonical queue)
per second</p>
</dd><dt><span class="term">
<code class="literal">outch/s</code>
</span></dt><dd>
<p>Output characters (output queue) per second</p>
</dd><dt><span class="term">
<code class="literal">rcvin/s</code>
</span></dt><dd>
<p>Receiver hardware interrupts per second</p>
</dd><dt><span class="term">
<code class="literal">xmtin/s</code>
</span></dt><dd>
<p>Transmitter hardware interrupts per second</p>
</dd><dt><span class="term">
<code class="literal">mdmin/s</code>
</span></dt><dd>
<p>Modem interrupts per second</p>
</dd></dl></div>
<p>The number of modem interrupts per second (<code class="literal">mdmin/s</code>)
should be close to zero. The receive and transmit interrupts per second (<code class="literal">xmtin/s</code> and <code class="literal">rcvin/s</code>) should be less than or equal
to the number of incoming or outgoing characters, respectively. If  not, check
for bad lines. </p>
</li></ul></div><div class="example"><a name="spmonitor-21"></a><p class="title"><b>Example 20.17. Checking Terminal Activity (<span>sar -y</span>)</b></p>


<p>The following example shows output from the <span><strong class="command">sar -y</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>sar -y</code></strong>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 rawch/s canch/s outch/s rcvin/s xmtin/s mdmin/s
01:00:00       0       0       0       0       0       0
02:00:01       0       0       0       0       0       0
03:00:00       0       0       0       0       0       0
04:00:00       0       0       0       0       0       0
05:00:00       0       0       0       0       0       0
06:00:00       0       0       0       0       0       0
07:00:00       0       0       0       0       0       0
08:00:00       0       0       0       0       0       0
08:20:00       0       0       0       0       0       0
08:40:01       0       0       0       0       0       0
09:00:00       0       0       0       0       0       0
09:20:00       0       0       0       0       0       0
09:40:00       0       0       1       0       0       0
10:00:00       0       0      37       0       0       0
10:20:00       0       0       0       0       0       0
10:40:00       0       0       3       0       0       0
11:00:00       0       0       3       0       0       0

Average        0       0       1       0       0       0</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2251650"></a></h3></div></div></div>

<div class="task"><a name="enufe"></a><p class="title"><b>How to Check Overall System Performance (<span><strong class="command">sar
-A</strong></span>)</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="spmonitor-ix4835"></a>Use the <span><strong class="command">sar -A</strong></span> command to display statistics
from all options to provide a view of overall system performance.</p>
<p>This
command provides a more global perspective. If data from more than a single
time segment is shown, the report includes averages.</p>
</li></ul></div></div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch20s05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch20.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch20s07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Monitoring System Activities (Task Map) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Collecting System Activity Data Automatically
(<span><strong class="command">sar</strong></span>)</td></tr></table></div></body></html>
