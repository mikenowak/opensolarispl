<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Commands for Managing System Processes</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="ch19.html" title="Chapter 19. Managing System Processes (Tasks)"><link rel="prev" href="ch19.html" title="Chapter 19. Managing System Processes (Tasks)"><link rel="next" href="ch19s03.html" title="Managing Process Class Information (Task Map)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Commands for Managing System Processes</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch19.html">Prev</a> </td><th width="60%" align="center">Chapter 19. Managing System Processes (Tasks)</th><td width="20%" align="right"> <a accesskey="n" href="ch19s03.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="spprocess-1"></a>Commands for Managing System Processes</h2></div></div></div>

<p>The following table describes the commands for managing system processes.</p>
<div class="table"><a name="spconcepts-tbl-26"></a><p class="title"><b>Table 19.1. Commands for Managing Processes</b></p>


<table summary="Commands for Managing Processes" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>Command </p>
</th><th>
<p>Description</p>
</th><th>
<p>Man Page</p>
</th></tr></thead><tbody><tr><td>
<p>
<span><strong class="command">ps</strong></span>, <span><strong class="command">pgrep</strong></span>, <span><strong class="command">prstat</strong></span>, <span><strong class="command">pkill</strong></span>
</p>
</td><td>
<p>Checks the status of active processes on a system, as well as displays detailed
information about the processes</p>
</td><td>
<p>
<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">ps</span>
(
1
)
</span>
</span>, <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">pgrep</span>
(
1
)
</span>
</span>, and<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">prstat</span>
(
1M
)
</span>
</span>
</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pkill</strong></span>
</p>
</td><td>
<p>Functions identically to <span><strong class="command">pgrep</strong></span> but finds or signals processes
by  name or other attribute and terminates the process. Each matching process is signaled
as if by <span class="olink">
</span> instead
of having its process ID printed.</p>
</td><td>
<p>
<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">pgrep</span>
(
1
)
</span>
</span>, and <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">pkill</span>
(
1
)
</span>
</span>
</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pargs, preap</strong></span>
</p>
</td><td>
<p>Assists with processes debugging</p>
</td><td>
<p>
<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">pargs</span>
(
1
)
</span>
</span>, and <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">preap</span>
(
1
)
</span>
</span>
</p>
</td></tr><tr><td>
<p>
<span><strong class="command">dispadmin</strong></span>
</p>
</td><td>
<p>Lists default process scheduling policies</p>
</td><td>
<p>
<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">dispadmin</span>
(
1M
)
</span>
</span>
</p>
</td></tr><tr><td>
<p>
<span><strong class="command">priocntl</strong></span>
</p>
</td><td>
<p>Assigns processes to a priority class and manages process priortities</p>
</td><td>
<p>
<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">priocntl</span>
(
1
)
</span>
</span>
</p>
</td></tr><tr><td>
<p>
<span><strong class="command">nice</strong></span>
</p>
</td><td>
<p>Changes the priority of a timesharing process</p>
</td><td>
<p>
<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">nice</span>
(
1
)
</span>
</span>
</p>
</td></tr><tr><td>
<p>
<span><strong class="command">psrset</strong></span>
</p>
</td><td>
<p>Binds specific process groups to a group of processors rather than to just a
single processor</p>
</td><td>
<p>
<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">psrset</span>
(
1M
)
</span>
</span>
</p>
</td></tr></tbody></table>
</div>
<p>The Solaris Management Console's Processes tool enables you to manage processes
with a user-friendly interface. For information on using and starting the Solaris
Management Console, see <span class="olink">Chapter 2, <em class="citetitle">Working With the Solaris Management Console (Tasks),</em> in <em class="citetitle">System Administration Guide: Basic Administration</em>
</span>.</p>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="spprocess-47"></a>Using the <span><strong class="command">ps</strong></span> Command</h3></div></div></div>

<p>The <span><strong class="command">ps</strong></span> command enables you to check the status of active
processes on a system, as well as display technical information about the processes.
This data is useful for administrative tasks such as determining how to set process
priorities.</p>
<p>
<a class="indexterm" name="spprocess-ix4046"></a>
<a class="indexterm" name="spprocess-ix4047"></a>
<a class="indexterm" name="spprocess-ix4048"></a>
<a class="indexterm" name="spprocess-ix4049"></a>Depending on which options you use, the <span><strong class="command">ps</strong></span> command
reports the following information:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Current status of the process</p>
</li><li>
<p>Process ID </p>
</li><li>
<p>Parent process ID</p>
</li><li>
<p>User ID</p>
</li><li>
<p>Scheduling class</p>
</li><li>
<p>Priority</p>
</li><li>
<p>Address of the process</p>
</li><li>
<p>Memory used</p>
</li><li>
<p>CPU time used</p>
</li></ul></div>
<p>
<a class="indexterm" name="spprocess-ix4054"></a>
<a class="indexterm" name="spprocess-ix4056"></a>
<a class="indexterm" name="spprocess-ix4057"></a>
<a class="indexterm" name="spprocess-ix4058"></a>
<a class="indexterm" name="spprocess-ix4059"></a>
<a class="indexterm" name="spprocess-ix4061"></a>
<a class="indexterm" name="spprocess-ix4062"></a>
<a class="indexterm" name="spprocess-ix4064"></a>
<a class="indexterm" name="spprocess-ix4065"></a>
<a class="indexterm" name="spprocess-ix4066"></a>
<a class="indexterm" name="spprocess-ix4067"></a>
<a class="indexterm" name="spprocess-ix4070"></a>
<a class="indexterm" name="spprocess-ix4071"></a>
<a class="indexterm" name="spprocess-ix4072"></a>
<a class="indexterm" name="spprocess-ix4077"></a>
<a class="indexterm" name="spprocess-ix4080"></a>
<a class="indexterm" name="spprocess-ix4081"></a>The following table describes some fields that are reported by the <span><strong class="command">ps</strong></span> command. Which fields are displayed depend on which option you choose.
For a description of all available options, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">ps</span>
(
1
)
</span>
</span> man
page.</p>
<div class="table"><a name="spprocess-37245"></a><p class="title"><b>Table 19.2. Summary of Fields in <span>ps</span> Reports</b></p>


<table summary="Summary of Fields in ps Reports" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Field</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">UID</code> </p>
</td><td>
<p>
<a class="indexterm" name="indexterm-227"></a>The effective user ID of the process's owner.</p>
</td></tr><tr><td>
<p>
<code class="literal">PID</code> </p>
</td><td>
<p>The process ID.</p>
</td></tr><tr><td>
<p>
<code class="literal">PPID</code> </p>
</td><td>
<p>The parent process ID.</p>
</td></tr><tr><td>
<p>
<code class="literal">C</code>  </p>
</td><td>
<p>The processor xutilization for scheduling. This field is not displayed when
the <code class="option">
c</code> option is used.</p>
</td></tr><tr><td>
<p>
<code class="literal">CLS</code> </p>
</td><td>
<p>The scheduling class to which the process belongs such as real-time, system,
or timesharing. This field is included only with the <code class="option">
c</code> option.</p>
</td></tr><tr><td>
<p>
<code class="literal">PRI</code> </p>
</td><td>
<p>The kernel thread's scheduling priority. Higher numbers indicate a higher priority.</p>
</td></tr><tr><td>
<p>
<code class="literal">NI</code> </p>
</td><td>
<p>The process's <span><strong class="command">nice</strong></span> number, which contributes to its scheduling
priority. Making a process &#8220;nicer&#8221; means lowering its priority.</p>
</td></tr><tr><td>
<p>
<code class="literal">ADDR</code> </p>
</td><td>
<p>The address of the <code class="literal">proc</code> structure.</p>
</td></tr><tr><td>
<p>
<code class="literal">SZ</code> </p>
</td><td>
<p>The virtual address size of the process.</p>
</td></tr><tr><td>
<p>
<code class="literal">WCHAN</code> </p>
</td><td>
<p>The address of an event or lock for which the process is sleeping. </p>
</td></tr><tr><td>
<p>
<code class="literal">STIME</code>
</p>
</td><td>
<p>The starting time of the process in hours, minutes, and seconds.</p>
</td></tr><tr><td>
<p>
<code class="literal">TTY</code> </p>
</td><td>
<p>The terminal from which the process, or its parent, was started. A question
mark indicates that there is no controlling terminal.</p>
</td></tr><tr><td>
<p>
<code class="literal">TIME</code> </p>
</td><td>
<p>The total amount of CPU time used by the process since it began.</p>
</td></tr><tr><td>
<p>
<code class="literal">CMD</code>
</p>
</td><td>
<p>The command that generated the process. </p>
</td></tr></tbody></table>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="spprocess-48"></a>Using the <code class="filename">/proc</code> File System and
Commands</h3></div></div></div>

<p>
<a class="indexterm" name="spconcepts-ix3552"></a>
<a class="indexterm" name="spconcepts-ix3553"></a>
<a class="indexterm" name="spconcepts-ix3554"></a>
<a class="indexterm" name="spconcepts-ix3555"></a>
<a class="indexterm" name="spconcepts-ix3556"></a>
<a class="indexterm" name="spconcepts-ix3557"></a>
<a class="indexterm" name="spconcepts-ix3559"></a>You can display detailed information about the processes that are listed
in the <code class="filename">/proc</code> directory by using process commands. The following
table lists the <code class="filename">/proc</code> process commands. The <code class="filename">/proc</code> directory
is also known as the process file system (PROCFS). Images of active processes are
stored here by their process ID number.</p>
<div class="table"><a name="spprocess-84452"></a><p class="title"><b>Table 19.3. Process Commands (<code class="filename">/proc</code>)</b></p>


<table summary="Process Commands (/proc)" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Process Command</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<span><strong class="command">pcred</strong></span> </p>
</td><td>
<p>Displays process credential information</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pfiles</strong></span> </p>
</td><td>
<p>Reports <code class="literal">fstat</code> and <code class="literal">fcntl</code> information for
open files in a process</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pflags</strong></span> </p>
</td><td>
<p>Prints <code class="filename">/proc</code> tracing flags, pending signals and held signals,
and other status information</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pldd</strong></span> </p>
</td><td>
<p>Lists the dynamic libraries that are linked into a process</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pmap</strong></span> </p>
</td><td>
<p>Prints the address space map of each process</p>
</td></tr><tr><td>
<p>
<span><strong class="command">psig</strong></span> </p>
</td><td>
<p>Lists the signal actions and handlers of each process</p>
</td></tr><tr><td>
<p>
<span><strong class="command">prun</strong></span>
</p>
</td><td>
<p>Starts each process</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pstack</strong></span>  </p>
</td><td>
<p>Prints a hex+symbolic stack trace for each lwp in each process</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pstop</strong></span>
</p>
</td><td>
<p>Stops each process</p>
</td></tr><tr><td>
<p>
<span><strong class="command">ptime</strong></span> </p>
</td><td>
<p>Times a process by using microstate accounting</p>
</td></tr><tr><td>
<p>
<span><strong class="command">ptree</strong></span> </p>
</td><td>
<p>Displays the process trees that contain the process</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pwait</strong></span> </p>
</td><td>
<p>Displays status information after a process terminates</p>
</td></tr><tr><td>
<p>
<span><strong class="command">pwdx</strong></span> </p>
</td><td>
<p>Displays the current working directory for a process</p>
</td></tr></tbody></table>
</div>
<p>For more information, see <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">proc</span>
(
1
)
</span>
</span>.</p>
<p>The process tools are similar to some options of the <span><strong class="command">ps</strong></span> command,
except that the output that is provided by these commands is more detailed. In general,
the process commands do the following:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>
<a class="indexterm" name="spconcepts-ix3561"></a>
<a class="indexterm" name="spconcepts-ix3562"></a>
<a class="indexterm" name="spconcepts-ix3563"></a>
<a class="indexterm" name="spconcepts-ix3564"></a>Display more information about processes, such as <code class="literal">fstat</code> and <code class="literal">fcntl</code>, working directories, and trees of parent and child processes</p>
</li><li>
<p>
<a class="indexterm" name="spconcepts-ix3565"></a>
<a class="indexterm" name="spconcepts-ix3566"></a>
<a class="indexterm" name="spconcepts-ix3567"></a>
<a class="indexterm" name="spconcepts-ix3568"></a>
<a class="indexterm" name="spconcepts-ix3569"></a>
<a class="indexterm" name="spconcepts-ix3570"></a>
<a class="indexterm" name="spconcepts-ix3571"></a>
<a class="indexterm" name="spconcepts-ix3572"></a>
<a class="indexterm" name="spconcepts-ix3573"></a>
<a class="indexterm" name="spconcepts-ix3574"></a>
<a class="indexterm" name="spconcepts-ix3575"></a>
<a class="indexterm" name="spconcepts-ix3577"></a>
<a class="indexterm" name="spconcepts-ix3579"></a>
<a class="indexterm" name="spconcepts-ix3580"></a>
<a class="indexterm" name="spconcepts-ix3582"></a>
<a class="indexterm" name="spconcepts-ix3583"></a>
<a class="indexterm" name="spconcepts-ix3586"></a>
<a class="indexterm" name="spconcepts-ix3587"></a>
<a class="indexterm" name="spconcepts-ix3588"></a>
<a class="indexterm" name="spconcepts-ix3589"></a>
<a class="indexterm" name="spconcepts-ix3591"></a>
<a class="indexterm" name="spconcepts-ix3594"></a>
<a class="indexterm" name="spconcepts-ix3598"></a>
<a class="indexterm" name="spconcepts-ix3599"></a>
<a class="indexterm" name="spconcepts-ix3600"></a>
<a class="indexterm" name="spconcepts-ix3601"></a>
<a class="indexterm" name="spconcepts-ix3602"></a>Provide control over processes by allowing users to stop or resume them</p>
</li></ul></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="spprocess-30645"></a>Managing Processes With Process Commands (<code class="filename">/proc</code>)</h3></div></div></div>

<p>
<a class="indexterm" name="spprocess-ix4092"></a>
<a class="indexterm" name="spprocess-ix4093"></a>
<a class="indexterm" name="spprocess-ix4094"></a>
<a class="indexterm" name="spprocess-ix4097"></a>
<a class="indexterm" name="spprocess-ix4101"></a>
<a class="indexterm" name="spprocess-ix4102"></a>
<a class="indexterm" name="spprocess-ix4103"></a>
<a class="indexterm" name="spprocess-ix4104"></a>
<a class="indexterm" name="spprocess-ix4105"></a>
<a class="indexterm" name="spprocess-ix4106"></a>
<a class="indexterm" name="spprocess-ix4107"></a>
<a class="indexterm" name="spprocess-ix4108"></a>
<a class="indexterm" name="spprocess-ix4112"></a>
<a class="indexterm" name="spprocess-ix4113"></a>
<a class="indexterm" name="spprocess-ix4116"></a>
<a class="indexterm" name="spprocess-ix4117"></a>
<a class="indexterm" name="spprocess-ix4118"></a>
<a class="indexterm" name="spprocess-ix4119"></a>
<a class="indexterm" name="spprocess-ix4121"></a>
<a class="indexterm" name="spprocess-ix4122"></a>
<a class="indexterm" name="spprocess-ix4124"></a>
<a class="indexterm" name="spprocess-ix4125"></a>
<a class="indexterm" name="spprocess-ix4128"></a>
<a class="indexterm" name="spprocess-ix4131"></a>
<a class="indexterm" name="spprocess-ix4132"></a>
<a class="indexterm" name="spprocess-ix4133"></a>
<a class="indexterm" name="spprocess-ix4134"></a>
<a class="indexterm" name="spprocess-ix4135"></a>
<a class="indexterm" name="spprocess-ix4136"></a>You can display detailed, technical information about processes or control
active processes by using some of the process commands. <span class="olink">Table 19&#8211;3</span> lists some of the <code class="filename">/proc</code> commands.</p>
<p>
<a class="indexterm" name="spconcepts-ix3606"></a>
<a class="indexterm" name="spconcepts-ix3607"></a>
<a class="indexterm" name="spconcepts-ix3608"></a>
<a class="indexterm" name="spconcepts-ix3609"></a>If a process becomes trapped in an endless loop, or if the process takes
too long to execute, you might want to stop (kill) the process. For more information
about stopping processes using the <span><strong class="command">kill</strong></span> or the <span><strong class="command">pkill</strong></span> command,
see <span class="olink">Chapter 19, Managing System Processes (Tasks)</span>.   </p>
<p>The <code class="filename">/proc</code> file system is a directory hierarchy that contains
additional subdirectories for state information and control functions.</p>
<p>The <code class="filename">/proc</code> file system also provides an xwatchpoint facility
that is used to remap read-and-write permissions on the individual pages of a process's
address space. This facility has no restrictions and is MT-safe.</p>
<p>Debugging tools have been modified to use <code class="filename">/proc</code>'s xwatchpoint
facility, which means that the entire xwatchpoint process is faster.</p>
<p>The following restrictions have been removed when you set xwatchpoints by using
the <span><strong class="command">dbx</strong></span> debugging tool:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Setting xwatchpoints on local variables on the stack due to SPARC
based system register windows</p>
</li><li>
<p>Setting xwatchpoints on multithreaded processes</p>
</li></ul></div>
<p>For more information, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">proc</span>
(
4
)
</span>
</span>,
and <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">mdb</span>
(
1
)
</span>
</span> man pages.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2234979"></a></h3></div></div></div>

<div class="task"><a name="eobor"></a><p class="title"><b>How to List Processes</b></p><div class="procedure"><ul><li>
<p>
<a class="indexterm" name="spprocess-ix4084"></a>
<a class="indexterm" name="spprocess-ix4085"></a>
<a class="indexterm" name="spprocess-ix4086"></a>Use the <span><strong class="command">ps</strong></span> command to list all the processes on a system. </p>
<pre class="screen">$ <strong class="userinput"><code>ps</code></strong> [-<strong class="userinput"><code>efc</code></strong>]</pre>
<div class="variablelist"><dl><dt><span class="term">
<span><strong class="command">ps</strong></span>
</span></dt><dd>
<p>Displays only the processes that are associated with your login session.</p>
</dd><dt><span class="term">
<code class="option">
ef</code>
</span></dt><dd>
<p>Displays full information about all the processes that are being executed
on the system.</p>
</dd><dt><span class="term">
<code class="option">
c</code>
</span></dt><dd>
<p>Displays process scheduler information.</p>
</dd></dl></div>
</li></ul></div><div class="example"><a name="spprocess-2"></a><p class="title"><b>Example 19.1. Listing Processes</b></p>


<p>The following example shows output from the <span><strong class="command">ps</strong></span> command when
no options are used. </p>
<pre class="screen">$ <strong class="userinput"><code>ps</code></strong>
   PID TTY      TIME COMD
  1664 pts/4    0:06 csh
  2081 pts/4    0:00 ps</pre>
<p>
<a class="indexterm" name="spprocess-ix4087"></a>
<a class="indexterm" name="spprocess-ix4088"></a>
<a class="indexterm" name="spprocess-ix4089"></a>
<a class="indexterm" name="spprocess-ix4090"></a>
<a class="indexterm" name="spprocess-ix4091"></a>The following example shows output from the <span><strong class="command">ps</strong></span> <code class="option">
ef</code> command. This output shows that the first process that is executed when
the system boots is <code class="literal">sched</code> (the swapper) followed by the <code class="literal">init</code> process, <code class="literal">pageout</code>, and so on.    </p>
<pre class="screen">$ <strong class="userinput"><code>ps -ef</code></strong>
     UID   PID  PPID  C    STIME TTY      TIME CMD
    root     0     0  0   Dec 20 ?        0:17 sched
    root     1     0  0   Dec 20 ?        0:00 /etc/init -
    root     2     0  0   Dec 20 ?        0:00 pageout
    root     3     0  0   Dec 20 ?        4:20 fsflush
    root   374   367  0   Dec 20 ?        0:00 /usr/lib/saf/ttymon
    root   367     1  0   Dec 20 ?        0:00 /usr/lib/saf/sac -t 300
    root   126     1  0   Dec 20 ?        0:00 /usr/sbin/rpcbind
    root    54     1  0   Dec 20 ?        0:00 /usr/lib/sysevent/syseventd
    root    59     1  0   Dec 20 ?        0:00 /usr/lib/picl/picld
    root   178     1  0   Dec 20 ?        0:03 /usr/lib/autofs/automountd
    root   129     1  0   Dec 20 ?        0:00 /usr/sbin/keyserv
    root   213     1  0   Dec 20 ?        0:00 /usr/lib/lpsched
    root   154     1  0   Dec 20 ?        0:00 /usr/sbin/inetd -s
    root   139     1  0   Dec 20 ?        0:00 /usr/lib/netsvc/yp/ypbind ...
    root   191     1  0   Dec 20 ?        0:00 /usr/sbin/syslogd
    root   208     1  0   Dec 20 ?        0:02 /usr/sbin/nscd
    root   193     1  0   Dec 20 ?        0:00 /usr/sbin/cron
    root   174     1  0   Dec 20 ?        0:00 /usr/lib/nfs/lockd
  daemon   175     1  0   Dec 20 ?        0:00 /usr/lib/nfs/statd
    root   376     1  0   Dec 20 ?        0:00 /usr/lib/ssh/sshd
    root   226     1  0   Dec 20 ?        0:00 /usr/lib/power/powerd
    root   315     1  0   Dec 20 ?        0:00 /usr/lib/nfs/mountd
    root   237     1  0   Dec 20 ?        0:00 /usr/lib/utmpd
    .
    .
    .    </pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2235379"></a></h3></div></div></div>

<div class="task"><a name="spprocess-29852"></a><p class="title"><b>How to Display Information About Processes</b></p><a class="indexterm" name="indexterm-228"></a><a class="indexterm" name="indexterm-229"></a><div class="procedure"><ol type="1"><li><a name="spprocess-step-4"></a>
<p>Obtain the process ID of the process that you want
to display more information about. </p>
<pre class="screen"># <strong class="userinput"><code>pgrep</code></strong> <em class="replaceable"><code>process</code></em>
</pre>
<p>where <em class="replaceable"><code>process</code></em> is the name of the process you want
to display more information about.</p>
<p>The process ID is displayed in the
first column of the output. </p>
</li><li><a name="spprocess-step-5"></a>
<p>Display the process information that you need.  </p>
<pre class="screen"># <strong class="userinput"><code>/usr/bin/</code></strong>
<em class="replaceable"><code>pcommand</code></em> <em class="replaceable"><code>pid</code></em>
</pre>
<div class="variablelist"><dl><dt><span class="term">
<em class="replaceable"><code>pcommand</code></em>
</span></dt><dd>
<p>Is the (<code class="filename">/proc</code>) command that you want to run. <span class="olink">Table 19&#8211;3</span> lists and describes these commands.</p>
</dd><dt><span class="term">
<em class="replaceable"><code>pid</code></em>
</span></dt><dd>
<p>Identifies the process ID.</p>
</dd></dl></div>
</li></ol></div><div class="example"><a name="emjeh"></a><p class="title"><b>Example 19.2. Displaying Information About Processes</b></p>


<p>
<a class="indexterm" name="spprocess-ix4138"></a>
<a class="indexterm" name="spprocess-ix4139"></a>
<a class="indexterm" name="spprocess-ix4141"></a>
<a class="indexterm" name="spprocess-ix4142"></a>
<a class="indexterm" name="spprocess-ix4144"></a>
<a class="indexterm" name="spprocess-ix4145"></a>
<a class="indexterm" name="spprocess-ix4146"></a>
<a class="indexterm" name="spprocess-ix4147"></a>
<a class="indexterm" name="spprocess-ix4148"></a>The following example shows how to use process commands to display more
information about a <code class="literal">cron</code> process. </p>
<pre class="screen"># <strong class="userinput"><code>pgrep cron</code></strong> <em class="lineannotation"><span class="lineannotation">1</span></em>
4780
# <strong class="userinput"><code>pwdx 4780</code></strong> <em class="lineannotation"><span class="lineannotation">2</span></em>
4780:   /var/spool/cron/atjobs
# <strong class="userinput"><code>ptree 4780</code></strong> <em class="lineannotation"><span class="lineannotation">3</span></em>
4780  /usr/sbin/cron
# <strong class="userinput"><code>pfiles 4780</code></strong> <em class="lineannotation"><span class="lineannotation">4</span></em>
4780:   /usr/sbin/cron
  Current rlimit: 256 file descriptors
   0: S_IFCHR mode:0666 dev:290,0 ino:6815752 uid:0 gid:3 rdev:13,2
      O_RDONLY|O_LARGEFILE
      /devices/pseudo/mm@0:null
   1: S_IFREG mode:0600 dev:32,128 ino:42054 uid:0 gid:0 size:9771
      O_WRONLY|O_APPEND|O_CREAT|O_LARGEFILE
      /var/cron/log
   2: S_IFREG mode:0600 dev:32,128 ino:42054 uid:0 gid:0 size:9771
      O_WRONLY|O_APPEND|O_CREAT|O_LARGEFILE
      /var/cron/log
   3: S_IFIFO mode:0600 dev:32,128 ino:42049 uid:0 gid:0 size:0
      O_RDWR|O_LARGEFILE
      /etc/cron.d/FIFO
   4: S_IFIFO mode:0000 dev:293,0 ino:4630 uid:0 gid:0 size:0
      O_RDWR|O_NONBLOCK
   5: S_IFIFO mode:0000 dev:293,0 ino:4630 uid:0 gid:0 size:0
      O_RDWR</pre>
<div class="orderedlist"><ol type="1"><li>
<p>Obtains the process ID for the <code class="literal">cron</code> process</p>
</li><li>
<p>Displays the current working directory for the <code class="literal">cron</code> process</p>
</li><li>
<p>Displays the process tree that contains the <code class="literal">cron</code> process</p>
</li><li>
<p>Displays <code class="literal">fstat</code> and <code class="literal">fcntl</code> information</p>
</li></ol></div>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2235865"></a></h3></div></div></div>

<div class="task"><a name="spprocess-94781"></a><p class="title"><b>How to Control Processes</b></p><a class="indexterm" name="indexterm-230"></a><a class="indexterm" name="indexterm-231"></a><div class="procedure"><ol type="1"><li><a name="spprocess-step-9"></a>
<p>Obtain the process ID of the process that you want
to control.</p>
<pre class="screen"># <strong class="userinput"><code>pgrep</code></strong> <em class="replaceable"><code>process</code></em>
</pre>
<p>where <em class="replaceable"><code>process</code></em> is the name of the process you want
to control.</p>
<p>The process ID displayed in the first column of the output.</p>
</li><li><a name="spprocess-step-10"></a>
<p>Use the appropriate process command to control
the process.</p>
<pre class="screen"># <strong class="userinput"><code>/usr/bin/</code></strong>
<em class="replaceable"><code>pcommand</code></em> <em class="replaceable"><code>pid</code></em>
</pre>
<div class="variablelist"><dl><dt><span class="term">
<em class="replaceable"><code>pcommand</code></em>
</span></dt><dd>
<p>Is the process (<code class="filename">/proc</code>) command that you want
to run. <span class="olink">Table 19&#8211;3</span> lists and describes
these commands.</p>
</dd><dt><span class="term">
<em class="replaceable"><code>pid</code></em>
</span></dt><dd>
<p>Identifies the process ID.</p>
</dd></dl></div>
</li><li><a name="spprocess-step-32"></a>
<p>Verify the process status.</p>
<pre class="screen"># <strong class="userinput"><code>ps -ef | grep</code></strong> <em class="replaceable"><code>pid</code></em>
</pre>
</li></ol></div><div class="example"><a name="emjed"></a><p class="title"><b>Example 19.3. Controlling Processes</b></p>


<p>The following example shows how to use process command to stop and restart the <span><strong class="command">dtpad</strong></span> process.</p>
<pre class="screen"># <strong class="userinput"><code>pgrep dtpad</code></strong> <em class="lineannotation"><span class="lineannotation">1</span></em>
2921
# <strong class="userinput"><code>pstop 2921</code></strong>
<em class="lineannotation"><span class="lineannotation">2</span></em> 
# <strong class="userinput"><code>prun 2921</code></strong> <em class="lineannotation"><span class="lineannotation">3</span></em>
</pre>
<div class="orderedlist"><ol type="1"><li>
<p>Obtains the process ID for the <span><strong class="command">dtpad</strong></span> process</p>
</li><li>
<p>Stops the <span><strong class="command">dtpad</strong></span> process</p>
</li><li>
<p>Restarts the <span><strong class="command">dtpad</strong></span> process</p>
</li></ol></div>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="spprocess-12"></a>Terminating a Process (<span><strong class="command">pkill, kill</strong></span>)</h3></div></div></div>

<p>
<a class="indexterm" name="spprocess-ix4187"></a>
<a class="indexterm" name="spprocess-ix4188"></a>
<a class="indexterm" name="spprocess-ix4189"></a>Sometimes, you might need to stop (kill) a process. The process might
be in an endless loop. Or, you might have started a large job that you want to stop
before it is completed. You can kill any process that you own. Superuser can kill
any process in the system except for those processes with process IDs of <code class="literal">0</code>, <code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">3</code>, and <code class="literal">4</code>. Killing these processes most likely will crash the system. </p>
<p>For more information, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">pgrep</span>
(
1
)
</span>
</span> and <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">pkill</span>
(
1
)
</span>
</span> and <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">kill</span>
(
1
)
</span>
</span> man
pages.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2236361"></a></h3></div></div></div>

<div class="task"><a name="spprocess-95930"></a><p class="title"><b>How to Terminate a Process (<span><strong class="command">pkill</strong></span>)</b></p><div class="procedure"><ol type="1"><li>

<p>Become superuser or assume an equivalent role to
terminate the process of another user.</p>
</li><li><a name="spprocess-step-15"></a>
<p>Obtain the process ID for the process that you
want to terminate.</p>
<pre class="screen">$ <strong class="userinput"><code>pgrep</code></strong> <em class="replaceable"><code>process</code></em>
</pre>
<p>where <em class="replaceable"><code>process</code></em> is the name of the process that you
want to terminate.</p>
<p>For example:</p>
<pre class="screen">$ <strong class="userinput"><code>pgrep netscape</code></strong>
587
566</pre>
<p>The process ID is displayed in the output.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>To obtain process information on a Sun <span class="trademark">Ray</span>&#8482;, use
the following commands:</p>
<pre class="screen"># <strong class="userinput"><code>ps -fu <em class="replaceable"><code>user</code></em>
</code></strong>
</pre>
<p>This command lists all user processes.</p>
<pre class="screen"># <strong class="userinput"><code>ps -fu <em class="replaceable"><code>user</code></em> | grep <em class="replaceable"><code>process</code></em>
</code></strong>
</pre>
<p>This command locates a specific process for a user.</p>
</div>
</li><li><a name="spprocess-step-33"></a>
<p>Terminate the process.</p>
<pre class="screen">$ <strong class="userinput"><code>pkill</code></strong> [<strong class="userinput"><code>
<em class="replaceable"><code>signal</code></em>
</code></strong>] <em class="replaceable"><code>process</code></em>
</pre>
<div class="variablelist"><dl><dt><span class="term">
<em class="replaceable"><code>signal</code></em>
</span></dt><dd>
<p>When no signal is included in the <span><strong class="command">pkill</strong></span> command-line
syntax, the default signal that is used is &#8211;15 (<code class="literal">SIGTERM</code>).
Using the &#8211;9 signal (<code class="literal">SIGKILL</code>) with the <span><strong class="command">pkill</strong></span> command
ensures that the process terminates promptly. However, the &#8211;9 signal should
not be used to kill certain processes, such as a database process, or an LDAP server
process. The result is that data might be lost.</p>
</dd><dt><span class="term">
<em class="replaceable"><code>process</code></em>
</span></dt><dd>
<p>Is the name of the process to stop.</p>
</dd></dl></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>

<p>When using the <span><strong class="command">pkill</strong></span> command to terminate a process,
first try using the command by itself, without including a signal option. Wait a few
minutes to see if the process terminates before using the <span><strong class="command">pkill</strong></span> command
with the -9 signal.</p>
</div>
</li><li><a name="spprocess-step-34"></a>
<p>Verify that the process has been terminated.</p>
<pre class="screen">$ <strong class="userinput"><code>pgrep</code></strong> <em class="replaceable"><code>process</code></em>
</pre>
<p>The process you terminated should no longer be listed in the output of the <span><strong class="command">pgrep</strong></span> command.</p>
</li></ol></div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2236682"></a></h3></div></div></div>

<div class="task"><a name="eoizf"></a><p class="title"><b>How to Terminate a Process (<span><strong class="command">kill</strong></span>)</b></p><div class="procedure"><ol type="1"><li>

<p>Become superuser or assume an equivalent role to
terminate the process of another user.</p>
</li><li>
<p>Obtain the process ID of the process that you want to terminate.</p>
<pre class="screen">$ <strong class="userinput"><code>ps -fu <em class="replaceable"><code>user</code></em>
</code></strong>
</pre>
<p>where <em class="replaceable"><code>user</code></em> is the user that you want to display processes
for.</p>
<p>For example:</p>
<pre class="screen">$ <strong class="userinput"><code>ps -fu <em class="replaceable"><code>userabc</code></em>
</code></strong>
userabc   328   323   2   Mar 12 ?         10:18 /usr/openwin/bin/Xsun
:0 -nobanner -auth /var/dt/A:0-WmayOa
userabc   366   349   0   Mar 12 ?         0:00 /usr/openwin/bin/fbconsole
userabc   496   485   0   Mar 12 ?         0:09 /usr/dt/bin/sdtperfmeter
 -f -H -t cpu -t disk -s 1 -name fpperfmeter
userabc   349   332   0   Mar 12 ?         0:00 /bin/ksh /usr/dt/bin/Xsession
userabc   440   438   0   Mar 12 pts/3     0:00 -csh -c unsetenv _ PWD;
unsetenv DT;     setenv DISPLAY :0;      
userabc   372     1   0   Mar 12 ?         0:00 /usr/openwin/bin/speckeysd
userabc   438   349   0   Mar 12 pts/3     0:00 /usr/dt/bin/sdt_shell -c
unset
.
.
.</pre>
<p>The process ID is displayed in the first column of the output.</p>
</li><li>
<p>Terminate the process.</p>
<pre class="screen">$ <strong class="userinput"><code>kill</code></strong> [<strong class="userinput"><code>
<em class="replaceable"><code>signal-number</code></em>
</code></strong>] <em class="replaceable"><code>pid</code></em>
</pre>
<div class="variablelist"><dl><dt><span class="term">
<em class="replaceable"><code>signal</code></em>
</span></dt><dd>
<p>When no signal is included in the <span><strong class="command">kill</strong></span> command-line
syntax, the default signal that is used is &#8211;15 (<code class="literal">SIGKILL</code>).
Using the &#8211;9 signal (<code class="literal">SIGTERM</code>) with the <span><strong class="command">kill</strong></span> command
ensures that the process terminates promptly. However, the &#8211;9 signal should
not be used to kill certain processes, such as a database process, or an LDAP server
process. The result is that data might be lost.</p>
</dd><dt><span class="term">
<em class="replaceable"><code>pid</code></em>
</span></dt><dd>
<p>Is the process ID of the process that you want to terminate.</p>
</dd></dl></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>

<p>When using the <span><strong class="command">kill</strong></span> command to stop a process, first
try using the command by itself, without including a signal option. Wait a few minutes
to see if the process terminates before using the <span><strong class="command">kill</strong></span> command
with the -9 signal.</p>
</div>
</li><li>
<p>Verify that the process has been terminated.</p>
<pre class="screen">$ <strong class="userinput"><code>pgrep</code></strong> <em class="replaceable"><code>pid</code></em>
</pre>
<p>The process you terminated should no longer be listed in the output of the <span><strong class="command">pgrep</strong></span> command.</p>
</li></ol></div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="eekmk"></a>Debugging a Process (<span><strong class="command">pargs</strong></span>, <span><strong class="command">preap</strong></span>)</h3></div></div></div>

<p>The <span><strong class="command">pargs</strong></span> command and the <span><strong class="command">preap</strong></span> command
improve process debugging. The <span><strong class="command">pargs</strong></span> command prints the arguments
and environment variables associated with a live process or core file. The <span><strong class="command">preap</strong></span> command removes defunct (zombie) processes. A zombie process has not
yet had its exit status claimed by its parent. These processes are generally harmless
but can consume system resources if they are numerous. You can use the <span><strong class="command">pargs</strong></span> and <span><strong class="command">preap</strong></span> commands to examine any process that you have
the privileges to examine. As superuser, you can examine any process.</p>
<p>For information on using the <span><strong class="command">preap</strong></span> command, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">preap</span>
(
1
)
</span>
</span> man page. For information on the using
the <span><strong class="command">pargs</strong></span> command, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">pargs</span>
(
1
)
</span>
</span> man
page. See also, the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">proc</span>
(
1
)
</span>
</span> man page.</p>
<div class="example"><a name="eeklf"></a><p class="title"><b>Example 19.4. Debugging a Process (<span>pargs</span>)</b></p>


<p>The <span><strong class="command">pargs</strong></span> command solves a long-standing problem of being
unable to display with the <span><strong class="command">ps</strong></span> command all the arguments that are
passed to a process. The following example shows how to use the <span><strong class="command">pargs</strong></span> command
in combination with the <span><strong class="command">pgrep</strong></span> command to display the arguments
that are passed to a process.</p>
<pre class="screen"># <strong class="userinput"><code>pargs `pgrep ttymon`</code></strong>
579:	/usr/lib/saf/ttymon -g -h -p <em class="replaceable"><code>system-name</code></em> console login:  
-T sun -d /dev/console -l 
argv[0]: /usr/lib/saf/ttymon
argv[1]: -g
argv[2]: -h
argv[3]: -p
argv[4]: <em class="replaceable"><code>system-name</code></em> console login: 
argv[5]: -T
argv[6]: sun
argv[7]: -d
argv[8]: /dev/console
argv[9]: -l
argv[10]: console
argv[11]: -m
argv[12]: ldterm,ttcompat
548:	/usr/lib/saf/ttymon
argv[0]: /usr/lib/saf/ttymon</pre>
<p>The following example shows how to use the <span><strong class="command">pargs</strong></span> <code class="option">
e</code> command to display the environment variables that are associated with a
process.</p>
<pre class="screen">$ <strong class="userinput"><code>pargs -e 6763</code></strong>
6763: tcsh
envp[0]: DISPLAY=:0.0</pre>
</div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch19.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch19.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch19s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 19. Managing System Processes (Tasks) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Managing Process Class Information (Task Map)</td></tr></table></div></body></html>
