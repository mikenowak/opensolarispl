<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML//EN" "docbook.dtd"[
	<!ENTITY % xinclude SYSTEM "xinclude.mod">
	%xinclude;
]>

<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="manageprint-1">



<title>Managing Labeled Printing</title>
<indexterm xml:id="indexterm-707">
<primary>administering</primary>
<secondary>labeled printing</secondary>
</indexterm>
<toc>
<para>This chapter describes how to use Trusted Extensions software to configure
labeled printing. It also describes how to configure print jobs without the
labeling options.</para>
<itemizedlist>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-19">Labels, Printers, and Printing</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-24">Managing Printing in Trusted
Extensions (Task Map)</olink>
</para>
</listitem>
</itemizedlist>
</toc>
<sect1 xml:id="manageprint-19">
<title>Labels, Printers, and Printing</title>
<indexterm xml:id="indexterm-708">
<primary>printing</primary>
<secondary>managing</secondary>
</indexterm>
<indexterm xml:id="indexterm-709">
<primary>users</primary>
<secondary>accessing printers</secondary>
</indexterm>
<indexterm xml:id="indexterm-710">
<primary>users</primary>
<secondary>printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-711">
<primary>accessing</primary>
<secondary>printers</secondary>
</indexterm>
<para>Trusted Extensions software uses labels to control printer access. Labels
are used to control access to printers and to information about queued print
jobs. The software also labels printed output. Body pages are labeled, and
mandatory banner and trailer pages are labeled. Banner and trailer pages can
also include handling instructions.</para>
<para>
<indexterm xml:id="indexterm-712">
<primary>System Administrator role</primary>
<secondary>administering printers</secondary>
</indexterm>
<indexterm xml:id="indexterm-713">
<primary>Security Administrator role</primary>
<secondary>administering printer security</secondary>
</indexterm>The System Administrator role handles basic printer administration.
The Security Administrator role manages printer security, which includes labels.
Printer security also includes how the labeled output is handled. The administrators
follow basic Solaris printer administration procedures, then assign
labels to the print servers and printers.</para>
<para>Trusted Extensions software supports both single-level and multilevel printing.
Multilevel printing is implemented in the global zone only. To use the global
zone's print server, a labeled zone must have a host name that is different
from the global zone. One way to get a distinct host name, is to assign an
IP address to the labeled zone. The address would be distinct from the global
zone's IP address.</para>
<sect2 xml:id="manageprint-42">
<title>Restricting Access to Printers
and Print Job Information</title>
<indexterm xml:id="indexterm-714">
<primary>restricting</primary>
<secondary>printer access with labels</secondary>
</indexterm>
<indexterm xml:id="indexterm-715">
<primary>restricting</primary>
<secondary>access to printers with labels</secondary>
</indexterm>
<para>Users and roles on a system that is configured with Trusted Extensions software
create print jobs at the label of their session. The print jobs can print
only on printers that recognize that label. The label must be in the printer's
label range.</para>
<para>Users and roles can view print jobs whose label is the same as the label
of the session. In the global zone, a role can view jobs whose labels are
dominated by the label of the zone.</para>
<para>Printers that are configured with Trusted Extensions software print labels
on the printer output. Printers that are managed by unlabeled print servers
do not print labels on the printer output. Such printers have the same label
as their unlabeled server. For example, a Solaris print server can be
assigned an arbitrary label in the <filename>tnrhdb</filename> of the LDAP
naming service. Users can then print jobs at that arbitrary label on the Solaris printer.
Like Trusted Extensions printers, those Solaris printers can only accept
print jobs from users who are working at the label that has been assigned
to the print server.</para>
</sect2>
<sect2 xml:id="manageprint-36">
<title>Labeled Printer Output</title>
<indexterm xml:id="indexterm-716">
<primary>labels</primary>
<secondary>on printer output</secondary>
</indexterm>
<indexterm xml:id="indexterm-717">
<primary>
<filename>label_encodings</filename> file</primary>
<secondary>reference for labeled printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-718">
<primary>
<filename>/usr/lib/lp/postscript/tsol_separator.ps</filename> file</primary>
<secondary>labeling printer output</secondary>
</indexterm>
<indexterm xml:id="indexterm-719">
<primary>files</primary>
<secondary>
<filename>/usr/lib/lp/postscript/tsol_separator.ps</filename>
</secondary>
</indexterm>
<indexterm xml:id="indexterm-720">
<primary>
<filename>tsol_separator.ps</filename> file</primary>
<secondary>customizing labeled printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-721">
<primary>security information</primary>
<secondary>on printer output</secondary>
</indexterm>
<para>Trusted Extensions prints security information on body pages and banner
and trailer pages. The information comes from the <filename>label_encodings</filename> file
and from the <filename>tsol_separator.ps</filename> file.</para>
<itemizedlist>
<para>The Security Administrator role can do the following to modify defaults
that set labels and add handling instructions to printer output:</para>
<listitem>
<para>Localize or customize the text on the banner and trailer pages.</para>
</listitem>
<listitem>
<para>Specify alternate labels to be printed on body pages or in
the various fields of the banner and trailer pages.</para>
</listitem>
<listitem>
<para>Change or omit any of the text or labels.</para>
</listitem>
</itemizedlist>
<para>The Security Administrator can also configure users to use printers
that do not print labels on the output. Users can also be authorized to selectively
not print banners or labels on printer output.</para>
<sect3 xml:id="manageprint-44">
<title>Labeled Body Pages</title>
<indexterm xml:id="indexterm-722">
<primary>body pages</primary>
<secondary>description of labeled</secondary>
</indexterm>
<indexterm xml:id="indexterm-723">
<primary>labeled printing</primary>
<secondary>body pages</secondary>
</indexterm>
<para>By default, the Protect As classification is printed at the top and
bottom of every body page. The “Protect As” classification is
the dominant classification when the classification from the job's label is
compared to the <literal>minimum protect as classification</literal>. The <literal>minimum protect as classification</literal> is defined in the <filename>label_encodings</filename> file.</para>
<para>For example, if the user is logged in to an Internal Use Only session,
then the user's print jobs are at that label. If the <literal>minimum protect
as classification</literal> in the <filename>label_encodings</filename> file
is Public, then the Internal Use Only label is printed on the body pages.</para>
<figure xml:id="manageprint-52">

<title>Job's Label Printed at the Top and Bottom
of a Banner Page</title>
<mediaobject>
<imageobject>
<imagedata fileref="figures/manage.printing.fig1467.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows a sample banner page with the label
printed at the top and bottom of the page.</simpara>
</textobject>
</mediaobject>
</figure>
</sect3>
<sect3 xml:id="manageprint-41">
<title>Labeled Banner and Trailer Pages</title>
<indexterm xml:id="indexterm-724">
<primary>banner pages</primary>
<secondary>description of labeled</secondary>
</indexterm>
<indexterm xml:id="indexterm-725">
<primary>labeled printing</primary>
<secondary>banner pages</secondary>
</indexterm>
<para>The following figures show a default banner page and a default trailer
page. Callouts identify the various sections. Note that the trailer page uses
a different outer line.</para>
<para>The text, the labels, and the warnings that appear on print jobs are
configurable. The text can also be replaced with text in another language
for localization.</para>
<figure xml:id="manageprint-fig-1">

<title>Typical Banner Page of a Labeled Print
Job</title>
<indexterm xml:id="indexterm-726">
<primary>banner pages</primary>
<secondary>typical</secondary>
</indexterm>
<mediaobject>
<imageobject>
<imagedata fileref="figures/ap14-4.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows a banner page with job number, classifications,
and handling instructions.</simpara>
</textobject>
</mediaobject>
</figure>
<figure xml:id="manageprint-fig-2">

<title>Differences on a Trailer Page</title>
<indexterm xml:id="indexterm-727">
<primary>banner pages</primary>
<secondary>difference from trailer page</secondary>
</indexterm>
<mediaobject>
<imageobject>
<imagedata fileref="figures/ap14-5.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows that the trailer page reads JOB END,
while the banner page reads JOB START at the bottom of the page.</simpara>
</textobject>
</mediaobject>
</figure>
<para>
<indexterm xml:id="indexterm-728">
<primary>localizing</primary>
<secondary>changing labeled printer output</secondary>
</indexterm>
<indexterm xml:id="indexterm-729">
<primary>printing</primary>
<secondary>localizing labeled output</secondary>
</indexterm>
<indexterm xml:id="indexterm-730">
<primary>printing</primary>
<secondary>internationalizing labeled output</secondary>
</indexterm>
<indexterm xml:id="indexterm-731">
<primary>printing</primary>
<secondary>configuring labels and text</secondary>
</indexterm>
<indexterm xml:id="indexterm-732">
<primary>printing</primary>
<secondary>in local language</secondary>
</indexterm>
<indexterm xml:id="indexterm-733">
<primary>
<filename>tsol_separator.ps</filename> file</primary>
<secondary>configurable values</secondary>
</indexterm>The following table shows aspects of trusted printing that the
Security Administrator can change by modifying the <filename>/usr/lib/lp/postscript/tsol_separator.ps</filename> file.</para>
<note>

<para>To localize or internationalize the printed output, see the comments
in the <filename>tsol_separator.ps</filename> file.</para>
</note>
<table frame="topbot" pgwide="1">

<title>Configurable Values in the <filename>tsol_separator.ps</filename> File</title>
<tgroup cols="4">
<colspec colname="col1" colwidth="39.23*"/>
<colspec colname="col2" colwidth="56.64*"/>
<colspec colname="col3" colwidth="54.77*"/>
<colspec colname="col4" colwidth="59.27*"/>
<thead>
<row>
<entry colname="col1" colsep="0" rowsep="1">
<para>Output</para>
</entry>
<entry colname="col2" colsep="0" rowsep="1">
<para>Default Value</para>
</entry>
<entry colname="col3" colsep="0" rowsep="1">
<para>How Defined</para>
</entry>
<entry colname="col4" colsep="0" rowsep="1">
<para>To Change</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry colsep="0" rowsep="0">
<para>
<literal>PRINTER BANNERS</literal>
</para>
</entry>
<entry colsep="0" rowsep="0">
<para>
<literal>/Caveats Job_Caveats</literal>
</para>
</entry>
<entry colsep="0" rowsep="0">
<para>
</para>
</entry>
<entry colsep="0" rowsep="0">
<para>See <olink remap="external" targetdoc="819-7308" targetptr="printl-7">
<citetitle remap="section">Specifying Printer Banners</citetitle> in <citetitle remap="book">Solaris Trusted Extensions Label Administration</citetitle>
</olink>.</para>
</entry>
</row>
<row>
<entry colsep="0" rowsep="0">
<para>
<literal>CHANNELS</literal> </para>
</entry>
<entry colsep="0" rowsep="0">
<para>
<literal>/Channels Job_Channels</literal>
</para>
</entry>
<entry colsep="0" rowsep="0">
<para>
</para>
</entry>
<entry colsep="0" rowsep="0">
<para>See <olink remap="external" targetdoc="819-7308" targetptr="printl-4">
<citetitle remap="section">Specifying Channels</citetitle> in <citetitle remap="book">Solaris Trusted Extensions Label Administration</citetitle>
</olink>.</para>
</entry>
</row>
<row>
<entry colsep="0" rowsep="0">
<para>Label at the top of banner and trailer pages</para>
</entry>
<entry colsep="0" rowsep="0">
<para>
<literal>/HeadLabel Job_Protect def</literal>
</para>
</entry>
<entry colsep="0" rowsep="0">
<para>See <literal>/PageLabel</literal> description.</para>
</entry>
<entry colsep="0" rowsep="0">
<para>See <literal>/PageLabel</literal> change.</para>
<para>Also see <olink remap="external" targetdoc="819-7308" targetptr="printl-6">
<citetitle remap="section">Specifying the Protect As Classification</citetitle> in <citetitle remap="book">Solaris Trusted Extensions Label Administration</citetitle>
</olink>.</para>
</entry>
</row>
<row>
<entry colname="col1" colsep="0" rowsep="0">
<para>Label at the top and bottom of body pages</para>
</entry>
<entry colname="col2" colsep="0" rowsep="0">
<para>
<literal>/PageLabel Job_Protect def</literal>
</para>
</entry>
<entry colname="col3" colsep="0" rowsep="0">
<para>Compares the label of the job to the <literal>minimum protect as classification</literal> in the <filename>label_encodings</filename> file. Prints the more
dominant classification. </para>
<para>Contains compartments if the print job's label has compartments.</para>
</entry>
<entry colname="col4" colsep="0" rowsep="0">
<para>Change the <literal>/PageLabel</literal> definition to specify another
value.</para>
<para>Or, type a string of your choosing.</para>
<para>Or, print nothing at all.</para>
</entry>
</row>
<row>
<entry colname="col1" colsep="0" rowsep="0">
<para>Text and label in the “Protect as” statement</para>
</entry>
<entry colname="col2" colsep="0" rowsep="0">
<para>
<literal>/Protect Job_Protect def</literal>
</para>
<para>
<literal>/Protect_Text1 () def</literal>
</para>
<para>
<literal>/Protect_Text2 () def</literal>
</para>
</entry>
<entry colname="col3" colsep="0" rowsep="0">
<para>See <literal>/PageLabel</literal> description.</para>
<para>Text to appear above label.</para>
<para>Text to appear below label.</para>
</entry>
<entry colname="col4" colsep="0" rowsep="0">
<para>See <literal>/PageLabel</literal> change.</para>
<para>Replace <literal>()</literal> in <literal>Protect_Text1</literal> and <literal>Protect_Text2</literal> with text string</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect3>
</sect2>
<sect2 xml:id="manageprint-14">
<title>PostScript Printing of Security Information</title>
<indexterm xml:id="indexterm-734">
<primary>printing</primary>
<secondary>PostScript restrictions in Trusted Extensions</secondary>
</indexterm>
<indexterm xml:id="indexterm-735">
<primary>PostScript</primary>
<secondary>printing restrictions in Trusted Extensions</secondary>
</indexterm>
<indexterm xml:id="indexterm-736">
<primary>authorizations</primary>
<secondary>Print Postscript</secondary>
</indexterm>
<indexterm xml:id="indexterm-737">
<primary>Print Postscript authorization</primary>
</indexterm>
<para>Labeled printing in Trusted Extensions relies on features from Solaris Express  printing.
In the Solaris OS, printer model scripts handle banner page creation. To implement
labeling, a printer model script first converts the print job to a <trademark>PostScript</trademark> file. Then, the PostScript file is manipulated to insert labels
on body pages, and to create banner and trailer pages.</para>
<para>Solaris Express print model scripts
can also translate PostScript into the native language of a printer. If a
printer accepts PostScript, then Solaris software sends the job to the
printer. If a printer does not accept PostScript, then the software converts
the PostScript to a raster image. The raster image is then converted to the
appropriate printer format.</para>
<para>Because PostScript is used to print label information, users cannot
print PostScript files by default. This restriction prevents a knowledgeable
PostScript programmer from creating a PostScript file that modifies the labels
on the printer output.</para>
<para>
<indexterm xml:id="indexterm-738">
<primary>Security Administrator role</primary>
<secondary>administering PostScript restriction</secondary>
</indexterm>The Security Administrator role can override this restriction
by assigning the Print PostScript authorization to role accounts and to trustworthy
users. The Security Administrator role should do so only if the account can
be trusted not to spoof the labels on printer output. Also, the printing of
PostScript files must be consistent with the site's security policy.</para>
<sect3 xml:id="manageprint-17">
<title>Printer Model Scripts</title>
<indexterm xml:id="indexterm-739">
<primary>printing</primary>
<secondary>model scripts</secondary>
</indexterm>
<itemizedlist>
<para>A model script enables a particular model of printer to provide banner
and trailer pages. Trusted Extensions provides four model scripts:</para>
<listitem>
<para>
<filename>tsol_standard</filename> - For directly attached
PostScript printers, for example, printers attached by a parallel port</para>
</listitem>
<listitem>
<para>
<filename>tsol_netstandard</filename> - For network–accessible
PostScript printers</para>
</listitem>
<listitem>
<para>
<filename>tsol_standard_foomatic</filename> - For directly
attached printers that do not print PostScript</para>
</listitem>
<listitem>
<para>
<filename>tsol_netstandard_foomatic</filename> - For network–accessible
printers that do not print PostScript</para>
</listitem>
</itemizedlist>
<para>The <literal>foomatic</literal> models are used when a printer driver
name begins with <literal>Foomatic</literal>. Foomatic drivers are PostScript
Printer Drivers (PPD). By default, “Use PPD” is specified in the
Print Manager when you add a printer. A PPD is then used to translate banner
and trailer pages into the language of the printer.</para>
</sect3>
<sect3 xml:id="manageprint-15">
<title>Additional Conversion Filters</title>
<indexterm xml:id="indexterm-740">
<primary>printing</primary>
<secondary>adding conversion filters</secondary>
</indexterm>
<para>A conversion filter converts text files to PostScript. The filter's
programs are trusted programs that are run by the printer daemon. Files that
are converted to PostScript by any installed filter programs can be trusted
to have authentic labels and banner and trailer page text.</para>
<para>
<indexterm xml:id="indexterm-741">
<primary>System Administrator role</primary>
<secondary>adding print conversion filters</secondary>
</indexterm>Solaris software provides most conversion filters that a
site would need. A site's System Administrator role can install additional
filters. These filters can then be trusted to have authentic labels and banner
and trailer pages. To add conversion filters, see <olink remap="external" targetdoc="819-2380" targetptr="printforms-12319">Chapter 5, <citetitle remap="chapter">Managing Character Sets, Filters, Forms, and Fonts (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>.</para>
</sect3>
</sect2>
<sect2 xml:id="manageprint-16">
<title>Interoperability With Trusted Solaris 8 Printing</title>
<indexterm xml:id="indexterm-742">
<primary>administering</primary>
<secondary>printing interoperability with Trusted Solaris 8</secondary>
</indexterm>
<indexterm xml:id="indexterm-743">
<primary>printing</primary>
<secondary>interoperability with Trusted Solaris 8</secondary>
</indexterm>
<indexterm xml:id="indexterm-744">
<primary>interoperability</primary>
<secondary>Trusted Solaris 8 and printing</secondary>
</indexterm>
<para>Trusted Solaris 8 and Trusted Extensions systems that have compatible <filename>label_encodings</filename> files and that identify each other as using a CIPSO template can
use each other for remote printing.</para>
<informaltable frame="topbot">
<tgroup cols="4" colsep="0" rowsep="0">
<colspec colwidth="22.69*"/>
<colspec colwidth="20.30*"/>
<colspec colwidth="28.50*"/>
<colspec colwidth="28.50*"/>
<thead>
<row rowsep="1">
<entry>
<para>Originating System</para>
</entry>
<entry>
<para>Print Server System</para>
</entry>
<entry>
<para>Action</para>
</entry>
<entry>
<para>Results</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Trusted Extensions</para>
</entry>
<entry>
<para>Trusted Solaris 8</para>
</entry>
<entry>
<para>In the Trusted Extensions <filename>tnrhdb</filename>, assign a template
with the appropriate label range to the Trusted Solaris 8 print server. The label
could be CIPSO or unlabeled.</para>
</entry>
<entry>
<para>Trusted Solaris 8 printer can print jobs from a  Trusted Extensions computer within
the printer's label range.</para>
</entry>
</row>
<row>
<entry>
<para>Trusted Extensions</para>
</entry>
<entry>
<para>Trusted Solaris 8</para>
</entry>
<entry>
<para>On the Trusted Extensions computer, create a profile that adds the needed
authorizations. Assign the profile to users.</para>
</entry>
<entry>
<para>Trusted Extensions users can list or cancel print jobs that they sent to
a Trusted Solaris 8 printer.</para>
<para>Users cannot view or remove jobs at a different label.</para>
</entry>
</row>
<row>
<entry>
<para>Trusted Solaris 8</para>
</entry>
<entry>
<para>Trusted Extensions</para>
</entry>
<entry>
<para>In the Trusted Solaris 8 <filename>tnrhdb</filename>, assign a template with
the appropriate label range to the Trusted Extensions print server. The label
could be CIPSO or unlabeled.</para>
</entry>
<entry>
<para>Trusted Extensions printer can print jobs from a  Trusted Solaris 8 computer within
the printer's label range.</para>
</entry>
</row>
<row>
<entry>
<para>Trusted Solaris 8</para>
</entry>
<entry>
<para>Trusted Extensions</para>
</entry>
<entry>
<para>On the Trusted Solaris 8 computer, create a profile that adds the needed authorizations.
Assign the profile to users.</para>
</entry>
<entry>
<para>Trusted Solaris 8 users can list or cancel print jobs that they sent to a Trusted Extensions printer.</para>
<para>Users cannot view or remove jobs at a different label.</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect2>
<sect2 xml:id="manageprint-32">
<title>Trusted Extensions Print Interfaces
(Reference)</title>
<itemizedlist>
<para>User commands are extended to conform with Trusted Extensions security policy.</para>
<listitem>
<para>
<command>cancel</command> – Caller must be equal to
cancel a job. By default, ordinary users can cancel only their own jobs.</para>
</listitem>
<listitem>
<para>
<command>lp</command> – Trusted Extensions adds the <option>
o
nolabels</option> option. Users must be authorized to print with no labels.
Similarly, users must be authorized to use the <option>
o nobanner</option> option.</para>
</listitem>
<listitem>
<para>
<command>lpstat</command> – Caller must be equal to
get the status of a job. By default, ordinary users can see only their own
print jobs.</para>
</listitem>
</itemizedlist>
<itemizedlist>
<para>Several administrative commands are extended to conform with Trusted Extensions security
policy. As in the Solaris OS, these commands can only be run by a role that includes
the Printer Management profile.</para>
<listitem>
<para>
<command>lpmove</command> – Caller must be equal to
move a job. By default, ordinary users can move only their own print jobs.</para>
</listitem>
<listitem>
<para>
<command>lpadmin</command> – In the global zone, this
command works for all jobs. In a labeled zone, caller must dominate to view
a job, and be equal to change a job.</para>
<para>Trusted Extensions adds printer
model scripts to the <option>
m</option> option. Trusted Extensions adds the <option>
o
nolabels</option> option.</para>
</listitem>
<listitem>
<para>
<command>lpsched</command> – In the global zone, this
command is always successful. As in the Solaris OS, use the <command>svcadm</command> command
to enable, disable, start, or restart the print service. In a labeled zone,
caller must be equal to change the print service. For details of the service
management facility, see the <olink remap="external" targetdoc="819-2252" targetptr="smf-5">
<citerefentry>
<refentrytitle>smf</refentrytitle>
<manvolnum>
5
</manvolnum>
</citerefentry>
</olink>, <olink remap="external" targetdoc="819-2240" targetptr="svcadm-1m">
<citerefentry>
<refentrytitle>svcadm</refentrytitle>
<manvolnum>
1M
</manvolnum>
</citerefentry>
</olink>, and <olink remap="external" targetdoc="819-2239" targetptr="svcs-1">
<citerefentry>
<refentrytitle>svcs</refentrytitle>
<manvolnum>
1
</manvolnum>
</citerefentry>
</olink> man pages.</para>
</listitem>
</itemizedlist>
<para>Trusted Extensions adds the <literal>solaris.label.print</literal> authorization
to the Printer Management rights profile. The <literal>solaris.print.unlabeled</literal> authorization
is required to print body pages without labels.</para>
</sect2>
</sect1>
<sect1 xml:id="manageprint-24">
<title>Managing Printing in Trusted Extensions (Task
Map)</title>
<indexterm xml:id="indexterm-745">
<primary>tasks and task maps</primary>
<secondary>Managing Printing in Trusted Extensions (Task Map)</secondary>
</indexterm>
<indexterm xml:id="indexterm-746">
<primary>administering</primary>
<secondary>printing in Trusted Extensions</secondary>
</indexterm>
<indexterm xml:id="indexterm-747">
<primary>Managing Printing in Trusted Extensions (Task Map)</primary>
</indexterm>
<para>Trusted Extensions procedures for configuring printing are completed after
doing Solaris printer setup. The following task map points to the major
tasks that manage labeled printing.</para>
<informaltable frame="all" pgwide="1">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colname="colspec0" colwidth="101.10*"/>
<colspec colname="col2" colwidth="172.24*"/>
<colspec colname="colspec1" colwidth="122.66*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Configure printers for labeled output</para>
</entry>
<entry>
<para>Enable users to print to a Trusted Extensions printer.</para>
<para>The print jobs are marked with labels.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-34">Configuring Labeled Printing (Tasks)</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Remove visible labels from printer output</para>
</entry>
<entry>
<para>Enable users to print at a specific label to a Solaris printer.
The print jobs are not marked with labels.</para>
<para>Or, prevent labels from printing on a Trusted Extensions printer.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-10">Reducing Printing Restrictions in
Trusted Extensions (Tasks)</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1>
<sect1 xml:id="manageprint-34">
<title>Configuring Labeled Printing (Tasks)</title>
<indexterm xml:id="indexterm-748">
<primary>configuring</primary>
<secondary>labeled printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-749">
<primary>tasks and task maps</primary>
<secondary>Configuring Labeled Printing (Tasks)</secondary>
</indexterm>
<indexterm xml:id="indexterm-750">
<primary>Configuring Labeled Printing (Task Map)</primary>
</indexterm>
<para>The following table describes common configuration procedures that are
related to labeled printing.</para>
<note>

<para>Printer clients can only print jobs within the label range of
the Trusted Extensions print server.</para>
</note>
<informaltable frame="all" pgwide="1">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colname="colspec0" colwidth="101.01*"/>
<colspec colname="col2" colwidth="154.92*"/>
<colspec colname="colspec1" colwidth="140.06*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Launch the Print Manager</para>
</entry>
<entry>
<para>Use this GUI to identify the printer to the network or to the local
computer. The System Administrator launches the GUI in an administrative role
workspace.</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-2380" targetptr="printsetup-33230">Chapter 3, <citetitle remap="chapter">Setting Up Printers (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Configure printing from the global zone</para>
</entry>
<entry>
<para>Create a multilevel print server in the global zone.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-20">How to Configure a Multilevel Print
Server and Its Printers</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Configure printing from a labeled zone</para>
</entry>
<entry>
<para>Create a single–label print server for a labeled zone.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-30">How to Configure a Zone for Single-Label
Printing</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Configure a multilevel print client</para>
</entry>
<entry>
<para>Connect a Trusted Extensions host to a printer</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-22">How to Enable a Trusted Extensions
Client to Access a Printer</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Restrict the label range of a printer</para>
</entry>
<entry>
<para>Limit a Trusted Extensions printer to a narrow label range.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-12">How to Configure a Restricted Label
Range for a Printer</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<sect2>
<title/>
<task id="manageprint-20">

<title>How to Configure a Multilevel Print Server
and Its Printers</title>
<indexterm xml:id="indexterm-751">
<primary>printing</primary>
<secondary>configuring for multilevel labeled output</secondary>
</indexterm>
<indexterm xml:id="indexterm-752">
<primary>multilevel printing</primary>
<secondary>configuring</secondary>
</indexterm>
<indexterm xml:id="indexterm-753">
<primary>Trusted Network Zones tool</primary>
</indexterm>
<tasksummary>
<para>Printers that are managed by a Trusted Extensions print server print labels
on body pages, banner pages, and trailer pages. Such printers can print jobs
within the label range of the print server. Any Trusted Extensions host that can
reach the print server can use the printers that are connected to that server.</para>
</tasksummary>
<taskprerequisites>

<para>Determine the print server for your Trusted Extensions network. You must
be in the System Administrator role in the global zone on this
print server.</para>
</taskprerequisites>
<procedure>
<step>
<para>Enable multilevel printing.</para>
<para>Create a multilevel port
(MLP) for the print server by adding the port to the global zone.</para>
<substeps>
<step>
<para>Launch the Solaris Management Console.</para>
<para>For details, see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-15">How to Launch the Solaris Management Console</olink>.</para>
</step>
<step>
<para>Choose the Files toolbox.</para>
<para>The title of the toolbox
includes <literal>Scope=Files, Policy=TSOL</literal>.</para>
</step>
<step>
<para>Configure the global zone with the print server port, 515/tcp.</para>
<substeps>
<step>
<para>Navigate to the Trusted Network Zones tool.</para>
</step>
<step>
<para>In the Multilevel Ports for Zone's IP Addresses, add 515/tcp.</para>
</step>
<step>
<para>Click OK.</para>
</step>
</substeps>
</step>
</substeps>
</step>
<step>
<para>Define the characteristics of the connected printers.</para>
<substeps>
<step>
<para>Launch the Print Manager.</para>
</step>
<step>
<para>Determine the printer driver of a connected printer.</para>
<para>In
the Print Manager, you supply the answers to the first two fields, and the
Print Manager supplies the driver name. </para>
<screen>Printer Make <lineannotation>manufacturer</lineannotation>
Printer Model <lineannotation>manufacturer-part-number</lineannotation>
Printer Driver <lineannotation>automatically filled in</lineannotation>
</screen>
</step>
</substeps>
</step>
<step>
<para>Assign a printer model script.</para>
<para>For every printer that
is connected to the print server, assign the appropriate model script. The
model script activates the banner and trailer pages for the specified printer.</para>
<para>For your choices, see <olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-17">Printer Model
Scripts</olink>. If the driver name for the printer starts with <literal>Foomatic</literal>, then specify one of the foomatic model scripts.</para>
<screen>$ lpadmin -p <replaceable>printer</replaceable> -m <replaceable>model</replaceable>
</screen>
<para>If the default printer label range of <constant>ADMIN_LOW</constant> to
 <constant>ADMIN_HIGH</constant> is acceptable for every printer, then your
label configuration is done. Otherwise, go to <olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-12">How
to Configure a Restricted Label Range for a Printer</olink>.</para>
<para>To
prevent labeled printer output, see <olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-10">Reducing
Printing Restrictions in Trusted Extensions (Tasks)</olink>.</para>
</step>
<step>
<para>Finish other configuration.</para>
<para>For details, see <olink remap="external" targetdoc="819-2380" targetptr="printsetup-33230">Chapter 3, <citetitle remap="chapter">Setting Up Printers (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>.</para>
</step>
<step performance="optional">

<para>Enable other computers to use this zone
as a print server.</para>
<para>For details, see <olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-22">How to Enable a Trusted Extensions Client to Access a Printer</olink>.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="manageprint-30">

<title>How to Configure a Zone for Single-Label
Printing</title>
<indexterm xml:id="indexterm-754">
<primary>printing</primary>
<secondary>configuring labeled zone</secondary>
</indexterm>
<indexterm xml:id="indexterm-755">
<primary>single-label printing</primary>
<secondary>configuring for a zone</secondary>
</indexterm>
<taskprerequisites>

<para>The zone must not be sharing an address with the global zone. You must
be in the System Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Add a workspace.</para>
</step>
<step>
<para>Change the label of the new workspace.</para>
<para>Change the
label to the label of the zone that will be the print server for that label.</para>
</step>
<step>
<para>Define the characteristics of the connected printers.</para>
<substeps>
<step>
<para>At the label of zone, launch the Print Manager.</para>
<para>By
default, “Use PPD” is marked with a check. The system finds the
appropriate driver for the printer.</para>
</step>
<step performance="optional">

<para>To specify a particular printer driver,
do the following.</para>
<para>Remove the check from “Use PPD”.</para>
<para>Then, supply the answers to the first two fields, and the Print Manager
supplies the driver name.</para>
<screen>Printer Make <lineannotation>manufacturer</lineannotation>
Printer Model <lineannotation>manufacturer-part-number</lineannotation>
Printer Driver <lineannotation>automatically filled in</lineannotation>
</screen>
</step>
</substeps>
</step>
<step>
<para>Assign a printer model script.</para>
<para>For every printer that
is connected to the zone, assign the appropriate model script. The model script
activates the banner and trailer pages for the specified printer.</para>
<para>For
your choices, see <olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-17">Printer Model Scripts</olink>.
If the driver name for the printer starts with <literal>Foomatic</literal>,
then specify one of the foomatic model scripts.</para>
<screen>$ lpadmin -p <replaceable>printer</replaceable> -m <replaceable>model</replaceable>
</screen>
<para>To prevent labeled printer output, see <olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-28">How
to Prevent Labels on Printer Output</olink>.</para>
</step>
<step performance="optional">

<para>Enable identically-labeled zones to use
this zone as a print server.</para>
<para>For details, see <olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-22">How to Enable a Trusted Extensions Client to Access
a Printer</olink>.</para>
</step>
<step>
<para>Finish other configuration.</para>
<para>Complete the setup of
the printer. For details, see <olink remap="external" targetdoc="819-2380" targetptr="printsetup-33230">Chapter 3, <citetitle remap="chapter">Setting Up Printers (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Advanced Administration</citetitle>
</olink>.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="manageprint-22">

<title>How to Enable a Trusted Extensions Client to
Access a Printer</title>
<indexterm xml:id="indexterm-756">
<primary>printing</primary>
<secondary>configuring for print client</secondary>
</indexterm>
<indexterm xml:id="indexterm-757">
<primary>multilevel printing</primary>
<secondary>accessing by print client</secondary>
</indexterm>
<tasksummary>
<itemizedlist>
<para>Initially, only the zone in which a print server was configured can
print to the printers of that print server. Other zones and other computers
must explicitly add access to those printers.</para>
<listitem>
<para>A labeled zone must add access to the printers that are connected
to its global zone.</para>
</listitem>
<listitem>
<para>A labeled zone must add access to a printer that a remote
zone at the same label is configured for.</para>
</listitem>
<listitem>
<para>Global zones must add access to the printers that are connected
to a global zone on a different computer.</para>
</listitem>
<listitem>
<para>A labeled zone must add access to the printers that are connected
to a global zone on a different computer.</para>
</listitem>
</itemizedlist>
</tasksummary>
<taskprerequisites>

<itemizedlist>
<para>A print server has been configured with a label range or a single label,
and the printers that are connected to it have been configured. For details,
see the following:</para>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-20">How to Configure a Multilevel
Print Server and Its Printers</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-30">How to Configure a Zone
for Single-Label Printing</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-25">How to Assign a Label to
an Unlabeled Print Server</olink>
</para>
</listitem>
</itemizedlist>
<para>You must be in the System Administrator role in the global zone, or
be able to assume the role.</para>
</taskprerequisites>
<procedure>
<step>
<para>Do one or more of the following procedures.</para>
<para>You can
also use the Print Manager instead of the <command>lpadmin</command> command.
For details, see <olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-printmgr-1">Step 2</olink>.</para>
<stepalternatives>
<step>
<para>Configure a labeled zone to use its global zone for printer access.</para>
<substeps>
<step>
<para>Assume the System Administrator role.</para>
</step>
<step>
<para>Change the label of the role workspace to the label of the labeled
zone.</para>
</step>
<step>
<para>Add access to the printer.</para>
<screen>lpadmin -s <replaceable>printer</replaceable>
</screen>
</step>
</substeps>
</step>
<step>
<para>Configure the global zone on a computer that is not a print server
to use another computer's global zone for printer access.</para>
<substeps>
<step>
<para>On the computer that does not have printer access, assume the
System Administrator role.</para>
</step>
<step>
<para>Add access to the printer that is connected to the Trusted Extensions print
server.</para>
<screen>lpadmin -s <replaceable>printer</replaceable>
</screen>
</step>
</substeps>
</step>
<step>
<para>Configure a labeled zone to use another computer's labeled zone
for printer access.</para>
<para>The labels of the zones must be identical.</para>
<substeps>
<step>
<para>On the computer that does not have printer access, assume the
System Administrator role.</para>
</step>
<step>
<para>Change the label of the role workspace to the label of the labeled
zone.</para>
</step>
<step>
<para>Add access to the printer that is connected to the print server
of the remote labeled zone.</para>
<screen>lpadmin -s <replaceable>printer</replaceable>
</screen>
</step>
</substeps>
</step>
<step>
<para>Configure a labeled zone to use an arbitrarily labeled print server
for printer access.</para>
<para>The label of the zone must be identical to
the label of the print server.</para>
<substeps>
<step>
<para>On the computer that does not have printer access, assume the
System Administrator role.</para>
</step>
<step>
<para>Change the label of the role workspace to the label of the labeled
zone.</para>
</step>
<step>
<para>Add access to the printer that is connected to the arbitrarily
labeled print server.</para>
<screen>lpadmin -s <replaceable>printer</replaceable>
</screen>
</step>
</substeps>
</step>
</stepalternatives>
</step>
<step xml:id="manageprint-printmgr-1" performance="optional">

<para>Use the Print
Manager to enable printer access.</para>
<para>Rather than run the <command>lpadmin</command> command, use the Printers –&gt; Add Access to Printer menu item.
The Print Manager must be launched in the same zone at the same label as the <command>lpadmin</command> command.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="manageprint-12">

<title>How to Configure a Restricted Label
Range for a Printer</title>
<indexterm xml:id="indexterm-758">
<primary>restricting</primary>
<secondary>printer label range</secondary>
</indexterm>
<indexterm xml:id="indexterm-759">
<primary>label ranges</primary>
<secondary>restricting printer label range</secondary>
</indexterm>
<indexterm xml:id="indexterm-760">
<primary>printing</primary>
<secondary>restricting label range</secondary>
</indexterm>
<tasksummary>
<para>The default printer label range is  <constant>ADMIN_LOW</constant> to <constant>ADMIN_HIGH</constant>. This procedure narrows the label range for a printer
that is controlled by a Trusted Extensions print server.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Launch the Device Allocation Manager.</para>
<stepalternatives>
<step>
<para>Choose the Allocate Device option from the Trusted Path menu.</para>
</step>
<step>
<para>In CDE, launch the Device Allocation Manager action from the Tools
subpanel on the Front Panel.</para>
</step>
</stepalternatives>
</step>
<step>
<para>Bring up the Device Allocation: Administration dialog box.</para>
<para>Click the Device Administration button.</para>
</step>
<step>
<para>Type a name for the new printer.</para>
<para>If the printer is
attached to your system, find the name of the printer.</para>
</step>
<step>
<para>Bring up the Device Allocation: Configuration dialog box.</para>
<para>Click the Configure button.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/devconfig.gif"/>
</imageobject>
<textobject>
<simpara>Dialog box titled Device Allocation Configuration shows
device name, type, labels, clean progr am, required authorizations, and use
of trusted path.</simpara>
</textobject>
</mediaobject>
</step>
<step>
<para>Change the printer's label range.</para>
<substeps>
<step>
<para>Choose the minimum label by clicking the Min Label button.</para>
</step>
<step>
<para>Choose the maximum label by clicking the Max Label button.</para>
</step>
</substeps>
</step>
<step>
<para>Save the changes.</para>
<substeps>
<step>
<para>Click the OK button on the Configuration dialog box.</para>
</step>
<step>
<para>Click the OK button on the Administration dialog box.</para>
</step>
</substeps>
<para>Then close the Device Allocation Manager.</para>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="manageprint-10">
<title>Reducing Printing Restrictions in Trusted Extensions (Tasks)</title>
<indexterm xml:id="indexterm-761">
<primary>administering</primary>
<secondary>unlabeled printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-762">
<primary>authorizing</primary>
<secondary>unlabeled printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-763">
<primary>authorizing</primary>
<secondary>PostScript printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-764">
<primary>unlabeled printing</primary>
<secondary>configuring</secondary>
</indexterm>
<indexterm xml:id="indexterm-765">
<primary>customizing</primary>
<secondary>unlabeled printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-766">
<primary>tasks and task maps</primary>
<secondary>Reducing Printing Restrictions in Trusted Extensions (Tasks)</secondary>
</indexterm>
<indexterm xml:id="indexterm-767">
<primary>Reducing Printing Restrictions in Trusted Extensions (Tasks)</primary>
</indexterm>
<para>The following tasks are optional. These procedures reduce the printing
security that Trusted Extensions software provides by default.</para>
<informaltable frame="all" pgwide="1">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colname="colspec0" colwidth="100.67*"/>
<colspec colname="col2" colwidth="163.32*"/>
<colspec colname="colspec1" colwidth="132.00*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Configure a printer to not label output</para>
</entry>
<entry>
<para>Prevent security information from printing on body pages, and remove
banner and trailer pages.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-28">How to Prevent Labels on Printer Output</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Configure printers at a single label without labeled output</para>
</entry>
<entry>
<para>Enable users to print at a specific label to a Solaris printer.
The print jobs are not marked with labels.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-25">How to Assign a Label to an Unlabeled
Print Server</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Remove visible labeling of body pages</para>
</entry>
<entry>
<para>Modify the <filename>tsol_separator.ps</filename> file to prevent labeled
body pages on all print jobs that are sent from a Trusted Extensions host.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-27">How to Remove Page Labels From All
Print Jobs</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Suppress banner and trailer pages</para>
</entry>
<entry>
<para>Authorize individual users to print jobs without banner and trailer
pages.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-18">How to Suppress Banner and Trailer
Pages for Specific Users</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Enable trusted users to print jobs without labels</para>
</entry>
<entry>
<para>Authorize individual users or all users of a particular system to print
jobs without labels.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-26">How to Enable Specific Users to Suppress
Page Labels</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Enable the printing of PostScript files</para>
</entry>
<entry>
<para>Authorize individual users or all users of a particular system to print
PostScript files.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-15.xml" targetptr="manageprint-48">How to Enable Users to Print PostScript
Files</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Assign printing authorizations</para>
</entry>
<entry>
<para>Enable users to bypass default printing restrictions.</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="chapter-7.xml" targetptr="manageusers-40">How to Create a Convenient Authorizations
Rights Profile</olink>
</para>
<para>
<olink remap="external" targetdoc="chapter-7.xml" targetptr="manageusers-26">How to Modify policy.conf Defaults</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<sect2>
<title/>
<task id="manageprint-28">

<title>How to Prevent Labels on Printer
Output</title>
<indexterm xml:id="indexterm-768">
<primary>printing</primary>
<secondary>preventing labels on output</secondary>
</indexterm>
<indexterm xml:id="indexterm-769">
<primary>removing</primary>
<secondary>labels on printer output</secondary>
</indexterm>
<tasksummary>
<para>Printers that do not have a printer model script do not print banner
or trailer pages. The body pages also do not include labels.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure role="single-step">
<step>
<para>At the appropriate label, do one of the following:</para>
<stepalternatives>
<step>
<para>From the print server at the appropriate label, stop banner printing
altogether.</para>
<screen>% lpadmin -p <replaceable>printer</replaceable> -o nobanner=never</screen>
</step>
<step>
<para>Set the printer model script to a Solaris script.</para>
<screen>% lpadmin -p <replaceable>printer</replaceable> -m  \
-m { standard | netstandard | standard_foomatic | netstandard_foomatic }</screen>
</step>
</stepalternatives>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="manageprint-25">

<title>How to Assign a Label to an Unlabeled
Print Server</title>
<indexterm xml:id="indexterm-770">
<primary>printing</primary>
<secondary>using a Solaris print server</secondary>
</indexterm>
<indexterm xml:id="indexterm-771">
<primary>printing</primary>
<secondary>labeling a Solaris print server</secondary>
</indexterm>
<tasksummary>
<para>Printers that are connected to an unlabeled server can print jobs only
at the arbitrary label that has been assigned to the print server. Jobs print
without labels or trailer pages and might print without banner pages. If a
job prints with a banner page, the page does not contain any security information.</para>
<para>A Trusted Extensions computer can be configured to send jobs to a printer
that is managed by an unlabeled print server. Users can print jobs on the
unlabeled printer at the label that the Security Administrator assigns to
the print server. A Solaris print server is an unlabeled print server
that can be assigned a label for Trusted Extensions access to the printer at that
label.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Open the Solaris Management Console in the desired scope.</para>
<para>For details,
see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-15">How to Launch the Solaris Management Console</olink>.</para>
</step>
<step>
<para>Navigate to Computers and Networks.</para>
<para>Provide a password
when prompted.</para>
</step>
<step>
<para>Assign an unlabeled template to the print server.</para>
<para>Choose
a label. Users who are working at that label can send print jobs to the Solaris printer
at the label of the print server. Pages do not print with labels, and banner
and trailer pages are also not part of the print job.</para>
</step>
</procedure>
<example xml:id="manageprint-29">

<title>Sending Public Print Jobs to an Unlabeled Printer</title>
<indexterm xml:id="indexterm-772">
<primary>printing</primary>
<secondary>configuring public print jobs</secondary>
</indexterm>
<indexterm xml:id="indexterm-773">
<primary>printing</primary>
<secondary>public jobs from a Solaris print server</secondary>
</indexterm>
<para>Files that are available to the general public are candidates for printing
to an unlabeled printer. In this example, marketing writers need to produce
documents that do not have labels printed on the top and bottom of the pages.</para>
<para>The Security Administrator role assigns an unlabeled host type template
to the Solaris print server. The arbitrary label of the template is <literal>PUBLIC</literal>. The printer <literal>pr-nolabel1</literal> is connected
to this print server. Print jobs from users in a <literal>PUBLIC</literal> zone
print on the <literal>pr-nolabel1</literal> printer with no labels. Depending
on the settings for the printer, the jobs might or might not have banner pages.
The banner pages do not contain security information.</para>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="manageprint-27">

<title>How to Remove Page Labels From All Print
Jobs</title>
<indexterm xml:id="indexterm-774">
<primary>printing</primary>
<secondary>without page labels</secondary>
</indexterm>
<indexterm xml:id="indexterm-775">
<primary>labels</primary>
<secondary>printing without page labels</secondary>
</indexterm>
<indexterm xml:id="indexterm-776">
<primary>body pages</primary>
<secondary>unlabeled for all users</secondary>
</indexterm>
<indexterm xml:id="indexterm-777">
<primary>system files</primary>
<secondary>Trusted Extensions <filename>tsol_separator.ps</filename>
</secondary>
</indexterm>
<tasksummary>
<para>This procedure prevents all print jobs on a Solaris Trusted Extensions 1.0 printer from
having visible labels on the body pages of the print job.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Edit the <filename>/usr/lib/lp/postscript/tsol_separator.ps</filename> file.</para>
<para>Use the Admin Editor action. For details, see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-10">How to Edit Administrative Files in Trusted Extensions</olink>.</para>
</step>
<step>
<para>Find the definition of <literal>/PageLabel</literal>.</para>
<para>Find
the following lines:</para>
<screen>%% To eliminate page labels completely, change this line to
%% set the page label to an empty string: /PageLabel () def
/PageLabel Job_PageLabel def</screen>
<note>

<para>The value <literal>Job_PageLabel</literal> might be different
at your site.</para>
</note>
</step>
<step>
<para>Replace the value of <literal>/PageLabel</literal> with a set
of empty parentheses.</para>
<screen>/PageLabel <userinput>()</userinput> def</screen>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="manageprint-26">

<title>How to Enable Specific Users to
Suppress Page Labels</title>
<indexterm xml:id="indexterm-778">
<primary>body pages</primary>
<secondary>unlabeled for specific users</secondary>
</indexterm>
<tasksummary>
<para>This procedure enables an authorized user or role to print jobs on a Trusted Extensions printer
without labels on the top and bottom of each body page. Page labels are suppressed
for all labels at which the user can work.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Determine who is permitted to print jobs without page labels.</para>
</step>
<step>
<para>Authorize those users and roles to print jobs without page labels.</para>
<para>Assign a profile that includes the Print without Label authorization
to those users and roles. For details, see <olink remap="external" targetdoc="chapter-7.xml" targetptr="manageusers-40">How
to Create a Convenient Authorizations Rights Profile</olink>.</para>
</step>
<step>
<para>Instruct the user or role to specify no labels when submitting
print jobs.</para>
<para>Use the <command>lp -o nolabels</command> command.</para>
<screen>% <userinput>lp -o nolabels staff.mtg.notes</userinput>
</screen>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="manageprint-18">

<title>How to Suppress Banner and Trailer
Pages for Specific Users</title>
<indexterm xml:id="indexterm-779">
<primary>banner pages</primary>
<secondary>printing without labels</secondary>
</indexterm>
<indexterm xml:id="indexterm-780">
<primary>labeled printing</primary>
<secondary>without banner page</secondary>
</indexterm>
<indexterm xml:id="indexterm-781">
<primary>printing</primary>
<secondary>without labeled banners and trailers</secondary>
</indexterm>
<indexterm xml:id="indexterm-782">
<primary>
<constant>solaris.print.nobanner</constant> authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-783">
<primary>Print without Banner authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-784">
<primary>authorizations</primary>
<secondary>
<constant>solaris.print.nobanner</constant>
</secondary>
</indexterm>
<indexterm xml:id="indexterm-785">
<primary>
<option>
o nobanner</option> option to <command>lp</command> command</primary>
</indexterm>
<indexterm xml:id="indexterm-786">
<primary>actions</primary>
<secondary>Print Manager</secondary>
</indexterm>
<indexterm xml:id="indexterm-787">
<primary>Print Manager action</primary>
<secondary>Always Print Banner checkbox</secondary>
</indexterm>
<indexterm xml:id="indexterm-788">
<primary>Always Print Banner checkbox</primary>
<secondary>checking</secondary>
</indexterm>
<taskprerequisites>

<para>The Always Print Banner checkbox on the Print Manager dialog box is
not marked with a check.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/manage.printing.fig1481.gif"/>
</imageobject>
<textobject>
<simpara>Window part shows the Always Print Banner without a checkmark.</simpara>
</textobject>
</mediaobject>
<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Create a profile that includes the Print without Banner authorization.</para>
<para>Assign the profile to each user or role that is allowed to print
without banner and trailer pages.</para>
<para>For details, see <olink remap="external" targetdoc="chapter-7.xml" targetptr="manageusers-40">How to Create a Convenient Authorizations Rights
Profile</olink>.</para>
</step>
<step>
<para>Instruct the user or role to submit jobs by using the <command>lp</command> command
with the option <userinput>-o nobanner</userinput>.</para>
<screen>% <userinput>lp -o nobanner staff.mtg.notes</userinput>
</screen>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="manageprint-48">

<title>How to Enable Users to Print PostScript Files</title>
<indexterm xml:id="indexterm-789">
<primary>administering</primary>
<secondary>PostScript printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-790">
<primary>files</primary>
<secondary>PostScript</secondary>
</indexterm>
<indexterm xml:id="indexterm-791">
<primary>PostScript</primary>
<secondary>enabling to print</secondary>
</indexterm>
<indexterm xml:id="indexterm-792">
<primary>labeled printing</primary>
<secondary>PostScript files</secondary>
</indexterm>
<indexterm xml:id="indexterm-793">
<primary>printing</primary>
<secondary>PostScript files</secondary>
</indexterm>
<indexterm xml:id="indexterm-794">
<primary>
<constant>solaris.print.ps</constant> authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-795">
<primary>Print Postscript authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-796">
<primary>authorizations</primary>
<secondary>
<constant>solaris.print.ps</constant>
</secondary>
</indexterm>
<indexterm xml:id="indexterm-797">
<primary>authorizations</primary>
<secondary>Print Postscript</secondary>
</indexterm>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure role="single-step">
<step>
<para>Use one of the following three methods to enable users to print
PostScript files.</para>
<stepalternatives>
<step>
<para>
<indexterm xml:id="indexterm-798">
<primary>files</primary>
<secondary>
<filename>/etc/default/print</filename>
</secondary>
</indexterm>
<indexterm xml:id="indexterm-799">
<primary>
<filename>/etc/default/print</filename> file</primary>
</indexterm>
<indexterm xml:id="indexterm-800">
<primary>system files</primary>
<secondary>Solaris <filename>/etc/default/print</filename>
</secondary>
</indexterm>To enable anyone to print PostScript files from a system, modify
the <filename>/etc/default/print</filename> file.</para>
<substeps>
<step>
<para>Create or modify the <filename>/etc/default/print</filename> file.</para>
<para>Use the Admin Editor. For details, see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-10">How
to Edit Administrative Files in Trusted Extensions</olink>.</para>
</step>
<step>
<para>Type the following entry.</para>
<screen>PRINT_POSTSCRIPT=1</screen>
</step>
<step>
<para>Save and close the file.</para>
</step>
</substeps>
</step>
<step>
<para>
<indexterm xml:id="indexterm-801">
<primary>files</primary>
<secondary>
<filename>/etc/security/policy.conf</filename>
</secondary>
</indexterm>
<indexterm xml:id="indexterm-802">
<primary>
<filename>/etc/security/policy.conf</filename> file</primary>
<secondary>enabling PostScript printing</secondary>
</indexterm>
<indexterm xml:id="indexterm-803">
<primary>system files</primary>
<secondary>Solaris <filename>policy.conf</filename>
</secondary>
</indexterm>To enable anyone to print PostScript files from a system, modify
the <filename>/etc/security/policy.conf</filename> file.</para>
<substeps>
<step>
<para>Modify the <filename>policy.conf</filename> file.</para>
<para>Use
the Admin Editor. For details, see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-10">How to Edit
Administrative Files in Trusted Extensions</olink>.</para>
</step>
<step>
<para>Add the <literal>solaris.print.ps</literal> authorization.</para>
<screen>AUTHS_GRANTED=<replaceable>other-authorizations</replaceable>,solaris.print.ps</screen>
</step>
<step>
<para>Save and close the file.</para>
</step>
</substeps>
</step>
<step>
<para>To enable a user or role to print PostScript files, give just
those users and roles the authorization.</para>
<para>Assign a profile that
includes the Print Postscript authorization to those users and roles. For
details, see <olink remap="external" targetdoc="chapter-7.xml" targetptr="manageusers-40">How to Create a Convenient
Authorizations Rights Profile</olink>.</para>
<para>These authorized users
and roles can print PostScript files from any system.</para>
</step>
</stepalternatives>
</step>
</procedure>
<example xml:id="manageprint-49">

<title>Enabling PostScript Printing From a Public System</title>
<para>In the following example, the Security Administrator has constrained
a public kiosk to operate at the <constant>PUBLIC</constant> label. The system
also has a few icons that open topics of interest. These topics can be printed.</para>
<para>The Security Administrator created an <filename>/etc/default/print</filename> file
on the system. The file has one entry to enable printing PostScript files.
No user needs a Print Postscript authorization.</para>
<screen># /etc/default/print

# PRINT_POSTSCRIPT=0
PRINT_POSTSCRIPT=1</screen>
</example>
</task>
</sect2>
</sect1>
</chapter>
