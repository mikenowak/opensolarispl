<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p41.html#ipv6-admintasks-1">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p42.html#ipconfig-142">Monitoring Network Status With the <tt>netstat</tt> Command</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p42.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p44.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="esbee"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Display the Status of Transport Protocols</h3>
<A NAME="indexterm-833"></A><A NAME="indexterm-834"></A><p>You can display the status of the transport protocols through the <tt>netstat</tt> command. For detailed information, refer to the <tt>netstat</tt>(1M) man page.</p>
<ol><li><p><b>Display the status of the TCP and SCTP transport protocols on
a system.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>$ <tt>netstat</tt></pre>
</td></table><br></li>
<li><p><b>Display the status of a particular transport protocol on a system.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>$ <tt>netstat</tt> <tt>-P</tt> <i>transport-protocol</i></pre>
</td></table><br><p>Values for the <i>transport-protocol</i> variable
are <tt>tcp</tt>, <tt>sctp</tt>, or <tt>udp</tt>.</p>
</li>
</ol><A NAME="esbdw"></A><h5>Example 8-6 &nbsp;&nbsp;Displaying the Status of the TCP and SCTP Transport Protocols</h5>
<A NAME="indexterm-835"></A><p>This example shows the output of the basic <tt>netstat</tt> command.
Note that IPv4-only information is displayed.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>$ <tt><b>netstat</b></tt>

TCP: IPv4
   Local Address     Remote Address    Swind Send-Q  Rwind Recv-Q      State
----------------- -------------------- ----- ------  ----- ------     -------
lhost-1.login      abc.def.local.Sun.COM.980 49640      0     49640    0 ESTABLISHED
lhost-1.login      ghi.jkl.local.Sun.COM.1020 49640     1     49640    0 ESTABLISHED
remhost-1.1014     mno.pqr.remote.Sun.COM.nfsd 49640    0     49640    0 TIME_WAIT
SCTP:                  
Local Address    Remote Address  Swind  Send-Q  Rwind  Recv-Q StrsI/O  State 
---------------- --------------  -----  ------ ------ ------  ------   -------
 *.echo            0.0.0.0            0       0 102400      0   128/1   LISTEN
 *.discard         0.0.0.0            0       0 102400      0   128/1   LISTEN
 *.9001            0.0.0.0            0       0 102400      0   128/1   LISTEN</pre>
</td></table><br><A NAME="esbez"></A><h5>Example 8-7 &nbsp;&nbsp;Displaying the Status of a Particular Transport Protocol</h5>
<p>This example shows the results when you specify the <tt>-P</tt> option
of <tt>netstat</tt>.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>$ <tt><b>netstat -P tcp</b></tt>
   
TCP: IPv4
   Local Address     Remote Address    Swind Send-Q  Rwind Recv-Q      State
----------------- -------------------- ----- ------  ----- ------     -------
lhost-1.login      abc.def.local.Sun.COM.980 49640      0     49640    0 ESTABLISHED
lhost.login        ghi.jkl.local.Sun.COM.1020 49640     1     49640    0 ESTABLISHED
remhost.1014       mno.pqr.remote.Sun.COM.nfsd 49640    0     49640    0 TIME_WAIT

TCP: IPv6
 Local Address    Remote Address        Swind Send-Q Rwind Recv-Q   State If 
---------------- ---------------------- ------ ----- ------ ----------- -----
localhost.38983   localhost.32777       49152      0 49152      0 ESTABLISHED      
localhost.32777   localhost.38983       49152      0 49152      0 ESTABLISHED      
localhost.38986   localhost.38980       49152      0 49152      0 ESTABLISHED      </pre>
</td></table><br><A NAME="ipconfig-144"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Display Network Interface Status</h3>
<A NAME="indexterm-836"></A><p>The <tt>i</tt> option of the <tt>netstat</tt> command
shows the state of the network interfaces that are configured on the local
system. With this option, you can determine the number of packets a system
transmits and receives on each network. </p>
<ul><A NAME="ipconfig-step-57"></A><li><p><b>Display the status of interfaces on the
network.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>$ <tt><b>netstat -i</b></tt></pre>
</td></table><br></li>
</ul><A NAME="eojbg"></A><h5>Example 8-8 &nbsp;&nbsp;Network Interface Status Display</h5>
<p>The next example shows the status of IPv4 and IPv6 packet flow through
the host's interfaces.</p>
<p>For example, the input packet count (<tt>Ipkts</tt>) that
is displayed for a server can increase each time a client tries to boot, while
the output packet count (<tt>Opkts</tt>) remains steady. This
outcome suggests that the server is seeing the boot request packets from the
client. However, the server does not know to respond to them. This confusion
might be caused by an incorrect address in the <tt>hosts</tt>,  or <tt>ethers</tt> database. </p>
<p>However, if the input packet count is steady over time, then the machine
does not see the packets at all. This outcome suggests a different type of
failure, possibly a hardware problem. </p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>Name  Mtu  Net/Dest      Address        Ipkts  Ierrs Opkts  Oerrs Collis Queue 
lo0   8232 loopback      localhost      142    0     142    0     0      0     
hme0  1500 host58        host58        1106302 0     52419  0     0      0     

Name  Mtu  Net/Dest      Address                    Ipkts  Ierrs Opkts  Oerrs Collis
lo0   8252 localhost     localhost                   142    0     142    0     0     
hme0  1500 fe80::a00:20ff:feb9:4c54/10 fe80::a00:20ff:feb9:4c54  1106305 0  52422 0  0   </pre>
</td></table><br><A NAME="ipv6-admintasks-16"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Display the Status of Sockets</h3>
<p>The <tt>-a</tt> option of the <tt>netstat</tt> command
enables you to view the status of sockets on the local host.</p>
<ul><li><p><b><A NAME="indexterm-837"></A><A NAME="indexterm-838"></A><A NAME="indexterm-839"></A><A NAME="indexterm-840"></A><A NAME="indexterm-841"></A>Type the following to display the status of sockets and routing
table entries:</b></p><p>You can use your user account to run this option
of <tt>netstat</tt>.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>% <tt><b>netstat -a</b></tt>  </pre>
</td></table><br></li>
</ul><A NAME="eojbb"></A><h5>Example 8-9 &nbsp;&nbsp;Displaying All Sockets and Routing Table Entries</h5>
<p>The output of the <tt>netstat</tt> <tt>-a</tt> command
shows extensive statistics. The following example shows portions of typical <tt>netstat</tt> <tt>-a</tt> output.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>UDP: IPv4
   Local Address         Remote Address     State
-------------------- -------------------- -------
      *.bootpc                              Idle
host85.bootpc                               Idle
      *.*                                   Unbound
      *.*                                   Unbound
      *.sunrpc                              Idle
      *.*                                   Unbound
      *.32771                               Idle
      *.sunrpc                              Idle
      *.*                                   Unbound
      *.32775                               Idle
      *.time                                Idle
       .
       .
      *.daytime                             Idle
      *.echo                                Idle
      *.discard                             Idle
      
UDP: IPv6
   Local Address                     Remote Address                   State      If  
--------------------------------- --------------------------------- ---------- -----
      *.*                                                           Unbound   
      *.*                                                           Unbound   
      *.sunrpc                                                      Idle      
      *.*                                                           Unbound   
      *.32771                                                       Idle      
      *.32778                                                       Idle      
      *.syslog                                                      Idle      
      .
      .
TCP: IPv4
   Local Address        Remote Address    Swind Send-Q Rwind Recv-Q  State
-------------------- -------------------- ----- ------ ----- ------ -------
      *.*                  *.*                0      0 49152      0 IDLE
localhost.4999             *.*                0      0 49152      0 LISTEN
      *.sunrpc             *.*                0      0 49152      0 LISTEN
      *.*                  *.*                0      0 49152      0 IDLE
      *.sunrpc             *.*                0      0 49152      0 LISTEN
      .
      .
      *.printer            *.*                0      0 49152      0 LISTEN
      *.time               *.*                0      0 49152      0 LISTEN
      *.daytime            *.*                0      0 49152      0 LISTEN
      *.echo               *.*                0      0 49152      0 LISTEN
      *.discard            *.*                0      0 49152      0 LISTEN
      *.chargen            *.*                0      0 49152      0 LISTEN
      *.shell              *.*                0      0 49152      0 LISTEN
      *.shell              *.*                0      0 49152      0 LISTEN
      *.kshell             *.*                0      0 49152      0 LISTEN
      *.login  
       .
       .
            *.*                0      0 49152      0 LISTEN
   *TCP: IPv6
 Local Address            Remote Address        Swind Send-Q Rwind Recv-Q   State If      
----------------------- ----------------------- ----- ------ ----- ------    ----
   *.*                         *.*                0      0 49152      0      IDLE             
   *.sunrpc                    *.*                0      0 49152      0      LISTEN           
   *.*                         *.*                0      0 49152      0      IDLE             
   *.32774                     *.*                0      0 49152</pre>
</td></table><br>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p42.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p44.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

