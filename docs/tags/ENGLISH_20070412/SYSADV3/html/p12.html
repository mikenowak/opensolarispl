<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p10.html#ipv6-overview-7">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p11.html#ipv6-overview-10">IPv6 Addressing Overview</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p11.html#ipv6-overview-190">Unicast Addresses</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p11.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p13.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipv6-overview-16"></A><h5>Interface ID</h5>
<A NAME="indexterm-325"></A><A NAME="indexterm-326"></A><A NAME="indexterm-327"></A><A NAME="indexterm-328"></A><p>The <b>interface ID</b> identifies an interface of a particular
node. An interface ID must be unique within the subnet. IPv6 hosts can use
the Neighbor Discovery protocol to automatically generate their own interface
IDs. Neighbor Discovery automatically generates the interface ID, based on
the MAC or EUI-64 address of the host's interface. You can also manually assign
interface IDs, which is recommended for IPv6 routers and IPv6-enabled servers.
For instructions on how to create a manual EUI-64 address, refer to RFC 3513 <A  HREF="http://www.ietf.org/rfc/rfc3513.txt?number=3513">Internet
Protocol Version 6 (IPv6) Addressing Architecture</A>.</p>
<A NAME="ipv6-overview-18"></A><h4>Transitional Global Unicast Addresses</h4>
<p>For transition purposes, the IPv6 protocol includes the ability to embed
an IPv4 address within an IPv6 address. This type of IPv4 address facilitates
the tunneling of IPv6 packets over existing IPv4 networks. One example of
a transitional global unicast address is the 6to4 address. For more information
on 6to4 addressing, refer to <A HREF="p62.html#ipv6-ref-50">6to4 Automatic Tunnels</A>.</p>
<A NAME="ipv6-overview-15"></A><h4>Link-Local Unicast Address</h4>
<A NAME="indexterm-329"></A><A NAME="indexterm-330"></A><A NAME="indexterm-331"></A><p>The link-local unicast address can be used only on the local network
link. Link-local addresses are not valid nor recognized outside the enterprise.
The following example shows the format of the link-local address.</p>
<A NAME="ipv6-overview-ex-19"></A><p><b>Example 3-1 </b>Parts of the Link-Local Unicast Address</p>
<IMG src="figures/link-local-unicast.gif" class="figure" alt="The figure illustrates the format of an IPv6 link local
address, which is described in the next context." title="The figure illustrates the format of an IPv6 link local
address, which is described in the next context."><p>A <b>link-local prefix</b> has the following format:</p>
<p><tt>fe80::</tt><i>interface-ID</i><tt>/10</tt></p>
<p>The following is an example of a link-local address:</p>
<p><tt>fe80::23a1:b152</tt></p>
<table border="0" cellspacing="5"><tr><td valign="top"><p><tt>fe80</tt></p></td><td valign="top"><p>Hexadecimal representation of the 10-bit binary prefix 1111111010.
This prefix identifies the type of IPv6 address as link local.</p>
</td></tr><tr><td valign="top"><p><i>interface-ID</i></p></td><td valign="top"><p>Hexadecimal address of the interface, which is usually derived
from the 48-bit MAC address.</p>
</td></tr></table>
<p>When you enable IPv6 during Solaris installation, the lowest numbered
interface on the local machine is configured with a link-local address. Each
interface requires at least one link-local address to identify the node to
other nodes on the local link. Therefore, you need to manually configure link-local
addresses for additional interfaces of a node. After configuration, the node
uses its link-local addresses for automatic address configuration and neighbor
discovery. </p>
<A NAME="ipv6-overview-101"></A><h3>Multicast Addresses</h3>
<A NAME="indexterm-332"></A><A NAME="indexterm-333"></A><p>IPv6 supports the use of multicast addresses. The multicast address
identifies a <b>multicast group</b>, which is a group of interfaces,
usually on different nodes. An interface can belong to any number of multicast
groups. If the first 16 bits of an IPv6 address is <tt>ff00</tt><i>n</i>, the address is a multicast address.</p>
<p>Multicast addresses are used for sending information or services to
all interfaces that are defined as members of the multicast group. For example,
one use of multicast addresses is  to communicate with all IPv6 nodes on the
local link.</p>
<p>When an interface's IPv6 unicast address is created, the kernel automatically
makes the interface a member of certain multicast groups. For example, the
kernel makes each node a member of the Solicited Node multicast group, which
is used by the Neighbor Discovery protocol to detect reachability. The kernel
also automatically makes a node a member of the All-Nodes or All Routers multicast
groups.</p>
<p>For detailed information about multicast addresses, refer to <A HREF="p55.html#ipv6-overview-201">IPv6 Multicast Addresses in Depth</A>. For
technical information, see <A  HREF="ftp://ftp.rfc-editor.org/in-notes/rfc3306.txt">RFC 3306,
Unicast-Prefix-based IPv6 Multicast Addresses</A>, which explains the
multicast address format. For more information about the proper use of multicast
addresses and groups, <A  HREF="ftp://ftp.rfc-editor.org/in-notes/rfc3307.txt">RFC 3307, Allocation Guidelines for IPv6 Multicast Addresses</A>.</p>
<A NAME="ipv6-overview-118"></A><h3>Anycast Addresses and Groups</h3>
<A NAME="indexterm-334"></A><A NAME="indexterm-335"></A><p>IPv6 anycast addresses identify a group of interfaces on different IPv6
nodes. Each group of interfaces is known as an <b>anycast group</b>.
When a packet is sent to the anycast address, the anycast group member that
is physically closest to the sender receives the packet.</p>
<p><hr size="1" noshade><p><b>Note - </b>The Solaris Operating System (Solaris OS) implementation of IPv6
does not support the creation of anycast addresses and groups. However, Solaris
IPv6 nodes can send packets to anycast addresses. For more information, see <A HREF="p63.html#ipv6-ref-56">Considerations for Tunnels to a 6to4 Relay Router</A>.</p>
<hr size="1" noshade></p><A NAME="chapter1-40"></A><h2>IPv6 Neighbor Discovery Protocol Overview</h2>
<p><A NAME="indexterm-336"></A><A NAME="indexterm-337"></A>IPv6 introduces the Neighbor Discovery protocol, which uses messaging
as the means to handle the interaction between neighbor nodes. <b>Neighbor
nodes</b> are IPv6 nodes that are on the same link. For example, by
issuing neighbor discovery-related messages, a node can learn a neighbor's
link-local address. Neighbor Discovery controls the following major activities
on the IPv6 local link:</p>
<ul><li><p><A NAME="indexterm-338"></A><A NAME="indexterm-339"></A><b>Router discovery</b> - Aids
hosts in locating routers on the local link.</p>
</li>
<li><p><A NAME="indexterm-340"></A><A NAME="indexterm-341"></A><A NAME="indexterm-342"></A><b>Address autoconfiguration</b> -
 Enables a node to automatically configure IPv6 addresses for its interfaces.</p>
</li>
<li><p><A NAME="indexterm-343"></A><A NAME="indexterm-344"></A><b>Prefix discovery</b> - Enables
nodes to discover the known subnet prefixes that have been allocated to a
link. Nodes use prefixes to distinguish destinations that are on the local
link from those destinations that are only reachable through a router.</p>
</li>
<li><p><A NAME="indexterm-345"></A><A NAME="indexterm-346"></A><A NAME="indexterm-347"></A><b>Address resolution</b> -
Helps nodes to determine the link-local address of a neighbor, given only
the destinations's IP address.</p>
</li>
<li><p><A NAME="indexterm-348"></A><A NAME="indexterm-349"></A><b>Next-hop determination</b> -
Uses an algorithm to determine the IP address of a packet recipient one hop
that is beyond the local link. The next-hop can be a router or the destination
node.</p>
</li>
<li><p><A NAME="indexterm-350"></A><A NAME="indexterm-351"></A><b>Neighbor unreachability detection</b> -
Aids nodes to determine if a neighbor is no longer reachable.   For both routers
and hosts, address resolution can be repeated.</p>
</li>
<li><p><A NAME="indexterm-352"></A><A NAME="indexterm-353"></A><b>Duplicate address detection</b> -
Enables a node to determine if an address that the node wants to use is not
already in use.</p>
</li>
<li><p><A NAME="indexterm-354"></A><A NAME="indexterm-355"></A><b>Redirection</b> - Enables
a router to inform a host of a better first-hop node to use to reach a particular
destination.</p>
</li>
</ul>
<p>Neighbor Discovery uses the following ICMP message types for communication
among nodes on a link:</p>
<ul><li><p>Router solicitation</p>
</li>
<li><p>Router advertisement</p>
</li>
<li><p>Neighbor solicitation</p>
</li>
<li><p>Neighbor advertisement</p>
</li>
<li><p>Redirection</p>
</li>
</ul>
<p>For detailed information on Neighbor Discovery messages and other Neighbor
Discovery protocol topics, refer to <A HREF="p60.html#ipv6-ref-34">IPv6 Neighbor Discovery Protocol</A>. For technical information on Neighbor Discovery,
see <A  HREF="http://www.ietf.org/rfc/rfc2461.txt?number=2461">RFC 2461, Neighbor Discovery for IP Version 6 (IPv6)</A>.</p>
<A NAME="chapter1-42"></A><h2>IPv6 Address Autoconfiguration</h2>
<A NAME="indexterm-356"></A><A NAME="indexterm-357"></A><p>A major feature of IPv6 is a host's ability to autoconfigure an interface.
Through Neighbor Discovery, the host locates an IPv6 router on the local link
and requests a site prefix. The host does the following, as part of the autoconfiguration
process:</p>
<ul><li><p>Creates a link-local address for each interface, which does
not require a router on the link.</p>
</li>
<li><p>Verifies the address's uniqueness on a link, which does not
require a router on the link.</p>
</li>
<li><p>Determines if the global addresses should be obtained through
the stateless mechanism, the stateful mechanism, or both mechanisms. (Requires
a router on the link.)</p>
</li>
</ul>
<p><hr size="1" noshade><p><b>Note - </b>Stateful autoconfiguration is achieved through DHCPv6. DHCPv6
is not supported in the current Solaris release.</p>
<hr size="1" noshade></p>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p11.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p13.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

