<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p32.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p34.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipv6-config-tasks-1"></A><b>Chapter&nbsp;7</b><h1>Enabling IPv6 on a Network (Tasks)</h1>
<p>This chapter contains tasks for configuring IPv6 on a network. The following
major topics are covered:</p>
<ul><li><p><A HREF="p33.html#ipv6-config-tasks-64">Configuring an IPv6 Interface</A></p>
</li>
<li><p><A HREF="p33.html#gbvnf">Enabling IPv6 on an Interface (Task Map)</A></p>
</li>
<li><p><A HREF="p34.html#ipv6-config-tasks-5">Configuring an IPv6 Router</A></p>
</li>
<li><p><A HREF="p35.html#ipv6-config-tasks-6">Modifying an IPv6 Interface Configuration for Hosts and Servers</A></p>
</li>
<li><p><A HREF="p35.html#gbuzn">Modifying an IPv6 Interface Configuration (Task Map)</A></p>
</li>
<li><p><A HREF="p39.html#ipv6-config-tasks-10">Configuring Name Service Support for IPv6</A></p>
</li>
</ul>
<p>For an overview of IPv6 concepts, refer to <A HREF="p10.html#ipv6-overview-7">Chapter&nbsp;3, Planning an IPv6 Addressing Scheme (Overview)</A>. For IPv6 planning tasks, refer to <A HREF="p14.html#ipv6-planning-1">Chapter&nbsp;4, Planning an IPv6 Network (Tasks)</A>.
To find reference information about the tasks in this chapter, refer to <A HREF="p55.html#ipv6-ref-76">Chapter&nbsp;11, IPv6 in Depth (Reference)</A>.</p>
<A NAME="ipv6-config-tasks-64"></A><h2>Configuring an IPv6 Interface</h2>
<p>The initial step in IPv6 configuration is enabling IPv6 on an interface.
You can enable IPv6 support during the Solaris 10 installation process or
by configuring IPv6 on the interfaces of an installed system. </p>
<p>During the Solaris 10 installation process, you can enable IPv6 on one
or more of a system's interfaces.  After installation, the following IPv6-related
files and tables are in place:</p>
<ul><li><p>Each interface that was enabled for IPv6 now has an associated <tt>/etc/hostname6.</tt><i>interface</i> file, such
as <tt>hostname6.dmfe0</tt>. </p>
</li>
<li><p>The <tt>/etc/nsswitch.conf</tt> file has been
modified to accommodate lookups using IPv6 addresses.</p>
</li>
<li><p>The IPv6 address selection policy table is created. This table
prioritizes the IP address format to use for transmissions over an IPv6-enabled
interface.</p>
</li>
</ul>
<p>This section describes how to enable IPv6 on the interfaces of an installed
system. </p>
<A NAME="gbvnf"></A><h3>Enabling IPv6 on an Interface (Task Map)</h3>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>Enable IPv6 on an interface on a system that has already been installed
with the Solaris 10 OS.</p></td><td><p>Use this task for enabling IPv6 on an interface after the Solaris 10
OS has been installed.</p></td><td><p><A HREF="p33.html#ipv6-config-tasks-119">How to Enable an IPv6 Interface for the Current Session</A>&nbsp;</p></td></tr>
<tr><td><p>Make the IPv6-enabled interface persist across reboots.</p></td><td><p>Use this task to make the IPv6 address of the interface permanent.</p></td><td><p><A HREF="p34.html#ipv6-config-tasks-28">How to Enable Persistent IPv6 Interfaces</A>&nbsp;</p></td></tr>
<tr><td><p>Turn off IPv6 address autoconfiguration.</p></td><td><p>Use this task if you need to manually configure the interface ID portion
of the IPv6 address.</p></td><td><p><A HREF="p34.html#gbuzm">How to Turn Off IPv6 Address Autoconfiguration</A>&nbsp;</p></td></tr>
</table><A NAME="ipv6-config-tasks-119"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Enable an IPv6 Interface for
the Current Session</h3>
<A NAME="indexterm-718"></A><A NAME="indexterm-719"></A><A NAME="indexterm-720"></A><A NAME="indexterm-721"></A><A NAME="indexterm-722"></A><A NAME="indexterm-723"></A><p>Begin your IPv6 configuration process by enabling IPv6 on the interfaces
of all systems that will become IPv6 nodes. Initially, the interface obtains
its IPv6 address through the autoconfiguration process, as described in <A HREF="p12.html#chapter1-42">IPv6 Address Autoconfiguration</A>. You then can
tailor the node's configuration based on its function in the IPv6 network,
either as a host, server, or router. </p>
<p><hr size="1" noshade><p><b>Note - </b>If the interface is on the same link as a router that currently
advertises an IPv6 prefix, the interface obtains that site prefix as part
of its autoconfigured addresses. For more information, refer to <A HREF="p34.html#ipv6-config-tasks-21">How to Configure an IPv6-Enabled Router</A>.</p>
<hr size="1" noshade></p><p>The following procedure explains how to enable IPv6 for an interface
that was added after Solaris 10 installation.</p>
<h5>Before You Begin</h5><p>Complete the planning tasks for the IPv6 network, such as upgrading
hardware and software, and preparing an addressing plan. For more information,
see <A HREF="p14.html#ipv6-planning-2">IPv6 Planning (Task Maps)</A>.</p>
<ol><li><p><b><A NAME="indexterm-724"></A>Log in to the prospective IPv6 node as Primary Administrator or
as superuser.</b></p><p>The Primary Administrator role includes the Primary
Administrator profile. To create the role and assign the role to a user, see Chapter 2, "Working With the Solaris Management Console (Tasks)," in <i>System Administration Guide: Basic Administration</i>.</p>
</li>
<li><p><b>Enable IPv6 on an interface.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ifconfig inet6</b></tt> <i>interface</i> <tt><b>plumb up</b></tt></pre>
</td></table><br></li>
<li><p><b>Start the IPv6 daemon<tt>in.ndpd</tt>.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>/usr/lib/inet/in.ndpd</b></tt></pre>
</td></table><br><p><hr size="1" noshade><p><b>Note - </b>You can display the status of a node's IPv6-enabled interfaces
by using the <tt>ifconfig</tt><tt>-a6</tt> command.</p>
<hr size="1" noshade></p></li>
</ol><A NAME="gbvgn"></A><h5>Example 7-1 &nbsp;&nbsp;Enabling an IPv6 Interface After Installation</h5>
<p>This example shows how to enable IPv6 on the <tt>qfe0</tt> interface.
Before you begin, check the status of all interfaces configured on the system.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ifconfig -a</b></tt>
lo0: flags=1000849 &lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4> mtu 8232 index 1
        inet 127.0.0.1 netmask ff000000 
qfe0: flags=1000863 &lt;UP,BROADCAST,NOTRAILERS,RUNNING,MULTICAST,IPv4> mtu 1500 
           index 2
        inet 172.16.27.74 netmask ffffff00 broadcast 172.16.27.255
        ether 0:3:ba:13:14:e1 </pre>
</td></table><br><p>Only the <tt>qfe0</tt> interface is currently configured for
this system. Enable IPv6 on this interface as follows:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ifconfig inet6 qfe0 plumb up</b></tt>
# <tt><b>/usr/lib/inet/in.ndpd</b></tt>
# <tt><b>ifconfig -a6</b></tt>
lo0: flags=2000849 &lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv6> mtu 8252 index 1
        inet6 ::1/128 
qfe0: flags=2000841 &lt;UP,RUNNING,MULTICAST,IPv6> mtu 1500 index 2
        ether 0:3:ba:13:14:e1 
        inet6 fe80::203:baff:fe13:14e1/10</pre>
</td></table><br><p>The example shows the status of the system's interface before and after <tt>qfe0</tt>becomes IPv6-enabled. The <tt>-a6</tt> option of <tt>ifconfig</tt> shows just the IPv6 information for <tt>qfe0</tt> and
the loopback interface. Note that the output indicates that only a link-local
address was configured for <tt>qfe0</tt>, <tt>fe80::203:baff:fe13:14e1/10</tt>. This address indicates that as of yet no router on the node's
local link advertises a site prefix.</p>
<p>After IPv6 is enabled, you can use the <tt>ifconfig</tt> <tt>-a</tt> command to display both IPv4 and IPv6 addresses for all interfaces
on a system.</p>
<h5>Next Steps</h5><ul><li><p>To configure the IPv6 node as a router, go to <A HREF="p34.html#ipv6-config-tasks-5">Configuring an IPv6 Router</A>.</p>
</li>
<li><p>To maintain the IPv6 interface configuration across reboots,
see <A HREF="p34.html#ipv6-config-tasks-28">How to Enable Persistent IPv6 Interfaces</A>.</p>
</li>
<li><p>To disable address autoconfiguration on the node, see <A HREF="p34.html#gbuzm">How to Turn Off IPv6 Address Autoconfiguration</A>.</p>
</li>
<li><p>To tailor the node as a server, see the suggestions in <A HREF="p36.html#ipv6-config-tasks-53">Administering IPv6-Enabled Interfaces on Servers</A>.</p>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p32.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p34.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

