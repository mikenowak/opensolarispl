<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p68.html#chap2-26">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p69.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p71.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-plan-1"></A><h2>Planning for Multiple DHCP Servers</h2>
<p><A NAME="indexterm-1389"></A>If you want to configure more than one DHCP server to manage your
IP addresses, consider the following guidelines:</p><ul><li><p>Divide the pool of IP addresses so that each server is responsible
for a range of addresses, and there is no overlap of responsibility.</p>
</li>
<li><p>Choose NIS+ as your data store, if available. If not, choose
text files and specify a shared directory for the absolute path to the data
store. The binary files data store cannot be shared.</p>
</li>
<li><p>Configure each server separately so that address ownership
is allocated correctly and so that server-based macros can be automatically
created.</p>
</li>
<li><p>Set up the servers to scan the options and macros in the <tt>dhcptab</tt> table at specified intervals so that the servers are using
the latest information. You can use DHCP Manager to schedule automatic reading
of <tt>dhcptab</tt> as described in <A HREF="p77.html#dhcp-admin-76">Customizing Performance Options for the DHCP Server</A>.</p>
</li>
<li><p>Be sure all clients can access all DHCP servers so that the
servers can support one another. A client that has a valid IP address lease
might try to verify its configuration or extend the lease when the server
that owns the client's address is not reachable. Another server can respond
to the client after the client has attempted to contact the primary server
for 20 seconds. If a client requests a specific IP address, and the server
that owns the address is not available, one of the other servers handles the
request. In this case, the client does not receive the requested address.
The client receives an IP address that is owned by the responding DHCP server.</p>
</li>
</ul>
<A NAME="dhcp-plan-2"></A><h2>Planning DHCP Configuration of Your Remote
Networks</h2>
<p>After the initial DHCP configuration, you can place IP addresses in
remote networks under DHCP management. However, because the system files are
not local to the server, DHCP Manager and <tt>dhcpconfig</tt> cannot
look up information to provide default values, so you must provide the information.
Before you try to configure a remote network, be sure you know the following
information:</p><ul><li><p>The remote network's IP address.</p>
</li>
<li><p>The subnet mask of the remote network. This information can
be obtained from the <tt>netmasks</tt> table in the name service.
If the network uses local files, look in <tt>/etc/netmasks</tt> on
a system in the network. If the network uses NIS+, use the command <tt>niscat
netmasks.org_dir</tt>. If the network uses NIS, use the command <tt>ypcat
-k netmasks.byaddr</tt>. Make sure the <tt>netmasks</tt> table
contains all the topology information for all the subnets you want to manage.</p>
</li>
<li><p>The network type. The clients connect to the network through
either a local area network (LAN) connection or a Point-to-Point Protocol
(PPP).</p>
</li>
<li><p>Routing information. Can the clients use router discovery?
If not, you must determine the IP address of a router they can use.</p>
</li>
<li><p>NIS domain and NIS servers, if applicable.</p>
</li>
<li><p>NIS+ domain and NIS+ servers, if applicable.</p>
</li>
</ul>
<p>See <A HREF="p78.html#dhcp-admin-17">Adding DHCP Networks</A> for
the procedure for adding DHCP networks.</p>
<A NAME="chapter2-34"></A><h2>Selecting the Tool for Configuring DHCP</h2>
<p>After you gather information and plan for DHCP service, you are ready
to configure a DHCP server. You can use the DHCP Manager or the command-line
utility <tt>dhcpconfig</tt> to configure a server. DHCP Manager
lets you select options and specify data that is then used to create the <tt>dhcptab</tt> and network tables used by the DHCP server. The <tt>dhcpconfig</tt> utility requires you to use command-line options to specify data. </p>
<A NAME="chapter2-35"></A><h3>DHCP Manager Features</h3>
<p><A NAME="indexterm-1390"></A>DHCP Manager, a Java&trade; technology-based GUI tool,
provides a DHCP Configuration Wizard. The configuration wizard starts automatically
the first time you run DHCP Manager on a system that is not configured as
a DHCP server. The DHCP Configuration Wizard provides a series of dialog boxes
that prompt you for the essential information required to configure a server:
data store format, lease policy, DNS/NIS/NIS+ servers and domains, and router
addresses. Some of the information is obtained by the wizard from system files,
and you only need to confirm that the information is correct, or to correct
information, if necessary.</p>
<p>When you progress through the dialog boxes and approve the information,
the DHCP server daemon starts on the server system. You are then prompted
to start the Add Addresses Wizard to configure IP addresses for the network.
Only the server's network is configured for DHCP initially, and other server
options are given default values. You can run DHCP Manager again after the
initial configuration is complete to add networks and modify other server
options.</p>
<p>See <A HREF="p71.html#chapter3-21">Configuring and Unconfiguring a DHCP Server Using DHCP Manager</A> for more information about the DHCP Configuration
Wizard. See <A HREF="p73.html#dhcp-admin-1">About DHCP Manager</A> for
more detailed information about DHCP Manager.</p>
<A NAME="chapter2-36"></A><h3><tt>dhcpconfig</tt> Features</h3>
<p>The <tt>dhcpconfig</tt> utility supports options that enable
you to configure and unconfigure a DHCP server, as well as convert to a new
data store and import/export data to and from other DHCP servers. When you
use the <tt>dhcpconfig</tt> utility to configure a DHCP server,
the utility obtains information from the system files discussed in <A HREF="p68.html#chapter2-7">Updating System Files and Netmask Tables</A>. You
cannot view and confirm the information obtained from system files as you
can with DHCP Manager. So, it is important that the system files be updated
before you run <tt>dhcpconfig</tt>. You can also use command-line
options to override the values <tt>dhcpconfig</tt> would obtain
by default from system files. The <tt>dhcpconfig</tt> command can
be used in scripts. See the <tt>dhcpconfig</tt>(1M) man page for more information.</p>
<A NAME="chapter2-37"></A><h3>Comparison of DHCP Manager and <tt>dhcpconfig</tt></h3>
<p>The following table summarizes the differences between the two server
configuration tools.</p>
<A NAME="dhcp-plan-tbl-4"></A><p><b>Table 13-4 </b>Comparison of DHCP Manager
and the <tt>dhcpconfig</tt> Command</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Feature</p></th><th scope="col"><p>DHCP Manager</p></th><th scope="col"><p><tt>dhcpconfig</tt> With Options</p></th></tr>
<tr><td><p>Network information that is gathered from system.</p></td><td><p>Enables you to view the information gathered from system files, and
to change it if needed.</p></td><td><p>You can specify the network information with command-line options.</p></td></tr>
<tr><td><p>Speed of configuration.</p></td><td><p>Speeds the configuration process by omitting prompts for nonessential
server options, using default values instead. You can change nonessential
options after initial configuration.</p></td><td><p>Fastest configuration process, but you might need to specify values
for many options.</p></td></tr>
</table><p><A HREF="p71.html#chapter3-20">Chapter&nbsp;14, Configuring the DHCP Service (Tasks)</A> includes procedures you can use to configure your
server with either DHCP Manager or the <tt>dhcpconfig</tt> utility.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p69.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p71.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

