<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p80.html#dhcp-admin-124">Working With IP Addresses in the DHCP Service (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p81.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p83.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-admin-234"></A><h3>Marking IP Addresses as Unusable by the
DHCP Service</h3>
<p><A NAME="indexterm-1464"></A><A NAME="indexterm-1465"></A>You can use the <tt>pntadm -M</tt> command with the <tt>-f UNUSABLE</tt> option to mark addresses as unusable.</p>
<p>In DHCP Manager, you use the Address Properties dialog box, shown in <A HREF="p81.html#dhcp-admin-fig-162">Figure 15-10</A>, to mark individual
addresses. You use the Modify Multiple Addresses dialog box, show in <A HREF="p81.html#dhcp-admin-fig-164">Figure 15-11</A>, to mark multiple
addresses, as described in the following procedure. </p>
<A NAME="dhcp-admin-36art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Mark IP Addresses as Unusable (DHCP
Manager)</h3>
<ol><A NAME="dhcp-admin-step-181"></A><li><p><b>In DHCP Manager, select the Addresses
tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-182"></A><li><p><b>Select the IP address's network.</b></p></li>
<A NAME="dhcp-admin-step-183"></A><li><p><b>Select one or more IP addresses to mark
as unusable.</b></p><p>If you want to mark more than one address as unusable,
press the Control key while you click with the mouse to select multiple addresses.
You can also press the Shift key while you click to select a block of addresses.</p>
</li>
<A NAME="dhcp-admin-step-184"></A><li><p><b>Choose Properties from the Edit menu.</b></p><p>The Address Properties dialog box or the Modify Multiple Address dialog
box opens.</p>
</li>
<A NAME="dhcp-admin-step-185"></A><li><p><b>If you are modifying one address, select
the Lease tab.</b></p></li>
<A NAME="dhcp-admin-step-186"></A><li><p><b>Select Address is Unusable.</b></p><p>If
you are editing multiple addresses, select Mark All Addresses Unusable.</p>
</li>
<A NAME="dhcp-admin-step-187"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-36pnt"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Mark IP Addresses as Unusable (<tt>pntadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-539"></A><li><p><b>Mark IP addresses as unusable by typing
a command of the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>pntadm -M </tt><i>ip-address<tt></i> -f UNUSABLE </tt><i>network-address<tt></i></b></tt></pre>
</td></table><br><p>For example, to mark address <tt>10.64.3.3</tt> as unusable,
type:</p>
<p><tt><b>pntadm -M 10.64.3.3 -f UNUSABLE 10.64.3.0</b></tt></p>
</li>
</ol><A NAME="dhcp-admin-235"></A><h3>Deleting IP Addresses From the DHCP Service</h3>
<p>You should delete IP addresses from the DHCP network tables if you no
longer want the address to be managed by DHCP. You can use the <tt>pntadm
-D</tt> command or DHCP Manager's Delete Address dialog box.</p>
<p>The following figure shows the Delete Address dialog box.</p>
<A NAME="dhcp-admin-fig-177"></A><p><b>Figure 15-12 </b>Delete Address Dialog Box in DHCP Manager</p>
<IMG src="figures/dhcp-address-delete.gif" class="figure" alt="Dialog box shows list of IP addresses to delete and a
check box labeled Delete from hosts table. Shows OK, Cancel, and Help buttons." title="Dialog box shows list of IP addresses to delete and a
check box labeled Delete from hosts table. Shows OK, Cancel, and Help buttons."><A NAME="dhcp-admin-37art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Delete IP Addresses From DHCP Service
(DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-190"></A><li><p><b>In DHCP Manager, select the Addresses
tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-191"></A><li><p><b>Select the IP address's network.</b></p></li>
<A NAME="dhcp-admin-step-192"></A><li><p><b>Select one or more IP addresses to delete.</b></p><p>If you want to delete more than one address, press the Control key while
you click with the mouse to select multiple addresses. You can also press
the Shift key while you click to select a block of addresses.</p>
</li>
<A NAME="dhcp-admin-step-193"></A><li><p><b>Choose Delete from the Edit menu.</b></p><p>The Delete Address dialog box lists the address that you selected so
that you can confirm the deletion.</p>
</li>
<A NAME="dhcp-admin-step-194"></A><li><p><b>If you want to delete the host names
from the hosts table, select Delete From Hosts Table.</b></p><p>If the host
names were generated by DHCP Manager, you might want to delete the names from
the hosts table. </p>
</li>
<A NAME="dhcp-admin-step-195"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-37pnt"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Delete IP Addresses From the DHCP
Service (<tt>pntadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-542"></A><li><p><b>Delete IP addresses by typing a command
of the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>pntadm -D </tt><i>ip-address<tt></i> </tt><i>options<tt></i> </tt><i>network-address<tt></i></b></tt></pre>
</td></table><br><p>If you include the <tt>-y</tt> option, the host name is deleted
from the name service that maintains the host name.</p>
<p>For example,
to delete address <tt>10.64.3.3</tt> from network <tt>10.64.3.0</tt>,
and delete the corresponding host name, type:</p>
<p><tt><b>pntadm
-D 10.64.3.3 -y 10.64.3.0</b></tt></p>
</li>
</ol><A NAME="dhcp-admin-161"></A><h3>Assigning a Reserved IP Address to a DHCP
Client</h3>
<p><A NAME="indexterm-1466"></A><A NAME="indexterm-1467"></A>The Solaris DHCP service attempts to provide the same IP address
to a client that has previously obtained an address through DHCP. However,
sometimes an address has already been reassigned to another client.</p>
<p>Routers, NIS or NIS+ servers, DNS servers, and other hosts that are
critical to the network should not be DHCP clients. Hosts that provide services
to the network should not rely on the network to obtain their IP addresses.
Clients such as print servers or file servers should have consistent IP addresses
as well. These clients can receive their network configurations and also be
assigned a consistent IP address from the DHCP server.</p>
<p>You can set up the DHCP server to supply the same IP address to a client
each time the client requests its configuration. You reserve the IP address
for the client by manually assigning the client's ID to the address that you
want the client to use. You can set up the reserved address to use either
a dynamic lease or a permanent lease. If the client's address uses a dynamic
lease, you can easily track the use of the address. A diskless client is an
example of a client that should use a reserved address with a dynamic lease.
If the client's address uses a permanent lease, you cannot track address use.
Once a client obtains a permanent lease, the client does not contact the server
again. The client can obtain updated configuration information only by releasing
the IP address and restarting the DHCP lease negotiation. </p>
<p>You can use the <tt>pntadm -M</tt> command or DHCP Manager's
Address Properties dialog box to set up lease properties.</p>
<p>The following figure shows the Lease tab of the Address Properties dialog
box, which is used to modify the lease.</p>
<A NAME="dhcp-admin-fig-197"></A><p><b>Figure 15-13 </b>Address Properties Lease Tab in DHCP
Manager</p>
<IMG src="figures/dhcp-address-props-lease.gif" class="figure" alt="Dialog box shows Lease tab, which includes Client ID
field, Reserved check box, and settings for Lease Policy, BOOTP clients, and
Address is unusable." title="Dialog box shows Lease tab, which includes Client ID
field, Reserved check box, and settings for Lease Policy, BOOTP clients, and
Address is unusable."><A NAME="dhcp-admin-38art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Assign a Consistent IP Address to
a DHCP Client (DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-202"></A><li><p><b>In DHCP Manager, select the Addresses
tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-203"></A><li><p><b>Select the appropriate network.</b></p></li>
<A NAME="dhcp-admin-step-204"></A><li><p><b>Double-click the IP address that you
want to the client to use.</b></p><p>The Address Properties window opens.</p>
</li>
<A NAME="dhcp-admin-step-205"></A><li><p><b>Select the Lease tab.</b></p></li>
<A NAME="dhcp-admin-step-206"></A><li><p><b>In the Client ID field, type the client
ID.</b></p><p>The client ID is derived from the client's hardware address.
See the Client ID entry in <A HREF="p80.html#dhcp-admin-tbl-146">Table 15-4</A> for more information.</p>
</li>
<A NAME="dhcp-admin-step-209"></A><li><p><b>Select the Reserved option to prevent
the IP address from being reclaimed by the server.</b></p></li>
<A NAME="dhcp-admin-step-208"></A><li><p><b>In the Lease Policy area of the window,
select Dynamic or Permanent assignment.</b></p><p>Select Dynamic if you
want the client to negotiate to renew leases, which enables you to track when
the address is used. Because you selected Reserved, the address cannot be
reclaimed even when a dynamic lease is assigned. You do not need to specify
an expiration date for this lease. The DHCP server calculates the expiration
date by using the lease time.</p>
<p>If you select Permanent, you cannot
track the use of the IP address unless you enable transaction logging.</p>
</li>
<li><p><b>Click OK.</b></p></li>
</ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p81.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p83.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

