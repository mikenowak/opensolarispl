<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p3.html#ipov-1">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p3.html#ipov-6">Introducing the TCP/IP Protocol Suite</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p3.html#ipov-10">TCP/IP Protocol Architecture Model</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p4.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p6.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipov-27"></A><h5>Network Administration</h5>
<p><A NAME="indexterm-110"></A><A NAME="indexterm-111"></A><A NAME="indexterm-112"></A><A NAME="indexterm-113"></A>The Simple Network Management Protocol (SNMP) enables you to view
the layout of your network and the status of key machines. SNMP also enables
you to obtain complex network statistics from software that is based on a
graphical user interface (GUI). Many companies offer network management packages
that implement SNMP. </p>
<A NAME="ipov-28"></A><h5>Routing Protocols</h5>
<p><A NAME="indexterm-114"></A><A NAME="indexterm-115"></A><A NAME="indexterm-116"></A><A NAME="indexterm-117"></A><A NAME="indexterm-118"></A><A NAME="indexterm-119"></A><A NAME="indexterm-120"></A><A NAME="indexterm-121"></A><A NAME="indexterm-122"></A><A NAME="indexterm-123"></A><A NAME="indexterm-124"></A><A NAME="indexterm-125"></A>The Routing Information Protocol (RIP) and the Router Discovery
Server Protocol (RDISC) are two routing protocols for TCP/IP networks. They
are described in <A HREF="p54.html#ipref-13">Routing Protocols in the Solaris OS</A>. </p>
<A NAME="ipov-29"></A><h2>How the TCP/IP Protocols Handle Data Communications</h2>
<p><A NAME="indexterm-126"></A><A NAME="indexterm-127"></A>When a user issues a command that uses a TCP/IP application layer
protocol, a series of events is initiated. The user's command or message passes
through the TCP/IP protocol stack on the local system. Then, the command or
message passes across the network media to the protocols on the remote system.
The protocols at each layer on the sending host add information to the original
data. </p>
<p>Protocols on each layer of the sending host also interact with their
peers on the receiving host. <A HREF="p5.html#ipov-fig-30">Figure 1-1</A> shows
this interaction.</p>
<A NAME="ipov-32"></A><h3>Data Encapsulation and the TCP/IP Protocol Stack</h3>
<p><A NAME="indexterm-128"></A><A NAME="indexterm-129"></A><A NAME="indexterm-130"></A><A NAME="indexterm-131"></A><A NAME="indexterm-132"></A>The packet is the basic unit of information that is transferred
across a network. The basic packet consists of a header with the sending and
receiving systems' addresses, and a body, or <b>payload</b>,
with the data to be transferred. As the packet travels through the TCP/IP
protocol stack, the protocols at each layer either add or remove fields from
the basic header. When a protocol on the sending system adds data to the packet
header, the process is called <b>data encapsulation</b>. Moreover,
each layer has a different term for the altered packet, as shown in the following
figure. </p>
<A NAME="ipov-fig-30"></A><p><b>Figure 1-1 </b>How a Packet Travels Through the TCP/IP Stack</p>
<IMG src="figures/ipov.fig88.gif" class="figure" alt="Diagram shows how a packet travels through the TCP/IP
stack from the sending host to the receiving host." title="Diagram shows how a packet travels through the TCP/IP
stack from the sending host to the receiving host."><p><A NAME="indexterm-133"></A><A NAME="indexterm-134"></A><A NAME="indexterm-135"></A>This section summarizes the life cycle of a packet. The life cycle
starts when you issue a command or send a message. The life cycle finishes
when the appropriate application on the receiving system receives the packet. </p>
<A NAME="ipov-33"></A><h4>Application Layer: Where a Communication Originates</h4>
<p><A NAME="indexterm-136"></A><A NAME="indexterm-137"></A><A NAME="indexterm-138"></A><A NAME="indexterm-139"></A>The packet's history begins when a user on one system sends a
message or issues a command that must access a remote system. The application
protocol formats the packet so that the appropriate transport layer protocol,
TCP or UDP, can handle the packet. </p>
<p><A NAME="indexterm-140"></A>Suppose the user issues an <tt>rlogin</tt> command to
log in to the remote system, as shown in <A HREF="p5.html#ipov-fig-30">Figure 1-1</A>. The <tt>rlogin</tt> command uses the TCP transport
layer protocol. TCP expects to receive data in the form of a stream of bytes
that contain the information in the command. Therefore, <tt>rlogin</tt> sends
this data as a TCP stream. </p>
<A NAME="ipov-34"></A><h4>Transport Layer: Where Data Encapsulation Begins</h4>
<p><A NAME="indexterm-141"></A><A NAME="indexterm-142"></A><A NAME="indexterm-143"></A><A NAME="indexterm-144"></A>When the data arrives at the transport layer, the protocols at
the layer start the process of data encapsulation. The transport layer encapsulates
the application data into transport protocol data units. </p>
<p>The transport layer protocol creates a virtual flow of data between
the sending and receiving application, differentiated by the transport port
number.  The port number identifies a <b>port</b>, a dedicated
location in memory for receiving or sending data. In addition, the transport
protocol layer might provide other services, such as reliable, in order data
delivery. The end result depends on whether TCP, SCTP, or UDP handles the
information.</p>
<A NAME="ipov-35"></A><h5>TCP Segmentation</h5>
<p><A NAME="indexterm-145"></A>TCP is often called a "connection-oriented" protocol
because TCP ensures the successful delivery of data to the receiving host. <A HREF="p5.html#ipov-fig-30">Figure 1-1</A> shows how the TCP protocol
receives the stream from the <tt>rlogin</tt> command. TCP then divides
the data that is received from the application layer into segments and attaches
a header to each segment. </p>
<p>Segment headers contain sending and receiving ports, segment ordering
information, and a data field that is known as a <b>checksum</b>.
The TCP protocols on both hosts use the checksum data to determine if the
data transfers without error.</p>
<A NAME="ipov-36"></A><h5>Establishing a TCP Connection</h5>
<p><A NAME="indexterm-146"></A><A NAME="indexterm-147"></A><A NAME="indexterm-148"></A><A NAME="indexterm-149"></A><A NAME="indexterm-150"></A>TCP uses segments to determine whether the receiving system is
ready to receive the data. When the sending TCP wants to establish connections,
TCP sends a segment that is called a <b>SYN</b> to the TCP protocol
on the receiving host. The receiving TCP returns a segment that is called
an <b>ACK</b> to acknowledge the successful receipt of the segment.
The sending TCP sends another ACK segment, then proceeds to send the data.
This exchange of control information is referred to as a <b>three-way
handshake</b>. </p>
<A NAME="ipov-37"></A><h5>UDP Packets</h5>
<p><A NAME="indexterm-151"></A><A NAME="indexterm-152"></A>UDP is a "connectionless" protocol. Unlike TCP, UDP
does not check that data arrived at the receiving host. Instead, UDP formats
the message that is received from the application layer into <b>UDP
packets</b>. UDP attaches a header to each packet. The header contains
the sending and receiving ports, a field with the length of the packet, and
a checksum. </p>
<p><A NAME="indexterm-153"></A><A NAME="indexterm-154"></A><A NAME="indexterm-155"></A><A NAME="indexterm-156"></A>The sending UDP process attempts to send the packet to its peer
UDP process on the receiving host. The application layer determines whether
the receiving UDP process acknowledges the reception of the packet. UDP requires
no notification of receipt. UDP does not use the three-way handshake. </p>
<A NAME="ipov-38"></A><h4>Internet Layer: Where Packets Are Prepared for
Delivery</h4>
<p><A NAME="indexterm-157"></A><A NAME="indexterm-158"></A>The transport protocols TCP, UDP, and SCTP pass their segments
and packets down to the Internet layer, where the IP protocol handles the
segments and packets. IP prepares them for delivery by formatting them into
units called <b>IP datagrams</b>. IP then determines the IP
addresses for the datagrams, so that they can be delivered effectively to
the receiving host. </p>
<A NAME="ipov-39"></A><h5>IP Datagrams</h5>
<p><A NAME="indexterm-159"></A><A NAME="indexterm-160"></A><A NAME="indexterm-161"></A><A NAME="indexterm-162"></A><A NAME="indexterm-163"></A><A NAME="indexterm-164"></A>IP attaches an <b>IP header</b> to the segment or
packet's header, in addition to the information that is added by TCP or UDP.
Information in the IP header includes the IP addresses of the sending and
receiving hosts, the datagram length, and the datagram sequence order. This
information is provided if the datagram exceeds the allowable byte size for
network packets and must be fragmented. </p>
<A NAME="ipov-40"></A><h4>Data-Link Layer: Where Framing Takes Place</h4>
<p><A NAME="indexterm-165"></A><A NAME="indexterm-166"></A><A NAME="indexterm-167"></A><A NAME="indexterm-168"></A><A NAME="indexterm-169"></A>Data-link layer protocols, such as PPP, format the IP datagram
into a <b>frame</b>. These protocols attach a third header and
a footer to "frame" the datagram. The frame header includes a <b>cyclic redundancy check</b> (CRC) field that checks for errors as the
frame travels over the network media. Then, the data-link layer passes the
frame to the physical layer. </p>
<A NAME="ipov-41"></A><h4>Physical Network Layer: Where Frames Are Sent and
Received</h4>
<p><A NAME="indexterm-170"></A><A NAME="indexterm-171"></A><A NAME="indexterm-172"></A><A NAME="indexterm-173"></A>The physical network layer on the sending host receives the frames
and converts the IP addresses into the hardware addresses appropriate to the
network media. The physical network layer then sends the frame out over the
network media. </p>
<A NAME="ipov-42"></A><h4>How the Receiving Host Handles the Packet</h4>
<p><A NAME="indexterm-174"></A><A NAME="indexterm-175"></A><A NAME="indexterm-176"></A>When the packet arrives on the receiving host, the packet travels
through the TCP/IP protocol stack in the reverse order from which it was sent. <A HREF="p5.html#ipov-fig-30">Figure 1-1</A> illustrates this path. Moreover,
each protocol on the receiving host strips off header information that is
attached to the packet by its peer on the sending host. The following process
occurs:</p>
<ol Type="1"><li><p><A NAME="indexterm-177"></A><A NAME="indexterm-178"></A><A NAME="indexterm-179"></A><A NAME="indexterm-180"></A>The physical network layer receives the packet in its frame form.
The physical network layer computes the CRC of the packet, then sends the
frame to the data link layer.</p>
</li>
<li><p><A NAME="indexterm-181"></A><A NAME="indexterm-182"></A>The data-link layer verifies that the CRC for the frame is correct
and strips off the frame header and the CRC. Finally, the data-link protocol
sends the frame to the Internet layer.</p>
</li>
<li><p><A NAME="indexterm-183"></A>The Internet layer reads information in the header to identify
the transmission. Then, the Internet layer determines if the packet is a fragment.
If the transmission is fragmented, IP reassembles the fragments into the original
datagram. IP then strips off the IP header and passes the datagram on to transport
layer protocols.</p>
</li>
<li><p><A NAME="indexterm-184"></A>The transport layer (TCP, SCTP, and UDP) reads the header to determine
which application layer protocol must receive the data. Then, TCP, SCTP, or
UDP strips off its related header. TCP, SCTP, or UDP sends the message or
stream to the receiving application.</p>
</li>
<li><p><A NAME="indexterm-185"></A><A NAME="indexterm-186"></A><A NAME="indexterm-187"></A><A NAME="indexterm-188"></A><A NAME="indexterm-189"></A><A NAME="indexterm-190"></A><A NAME="indexterm-191"></A><A NAME="indexterm-192"></A><A NAME="indexterm-193"></A><A NAME="indexterm-194"></A><A NAME="indexterm-195"></A><A NAME="indexterm-196"></A>The application layer receives the message. The application layer
then performs the operation that the sending host requested.</p>
</li>
</ol>
<A NAME="ipov-100"></A><h3>TCP/IP Internal Trace Support</h3>
<A NAME="indexterm-197"></A><p>TCP/IP provides internal trace support by logging TCP communication
when an RST packet terminates a connection. When an RST packet is transmitted
or received, information on as many as 10 packets, which were just transmitted,
is logged with the connection information.</p>
<A NAME="ipov-43"></A><h2>Finding Out More About TCP/IP and the Internet</h2>
<p><A NAME="indexterm-198"></A>Information about TCP/IP and the Internet is widely available.
If you require specific information that is not covered in this text, you
can probably find what you need in the sources cited next. </p>
<A NAME="ipov-44"></A><h3>Computer Books About TCP/IP</h3>
<p><A NAME="indexterm-199"></A>Many trade books about TCP/IP and the Internet are available from
your local library or computer bookstore. The following two books are  considered
the classic texts on TCP/IP:</p>
<ul><li><p>Craig Hunt. <b>TCP/IP Network Administration</b>  -
This book contains some theory and much practical information for managing
a heterogeneous TCP/IP network.</p>
</li>
<li><p>W. Richard Stevens. <b>TCP/IP Illustrated, Volume I</b>  -
This book is an in-depth explanation of the TCP/IP protocols. This book is
ideal for network administrators who require a technical background in TCP/IP
and for network programmers.</p>
</li>
</ul>
<A NAME="ewavk"></A><h3>TCP/IP and Networking Related Web Sites</h3>
<p>The Internet has a wealth of web sites and user groups that are devoted
to TCP/IP protocols and their administration. Many manufacturers, including
Sun Microsystems, offer web-based resources for general TCP/IP information.
The following are helpful web resources for TCP/IP information and general
system administration information.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Web Site</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p><A  HREF="http://www.ietf.org/home.html">The Internet
Engineering Task Force (IETF) web site</A></p></td><td><p>The IETF is the body responsible for the architecture and governance
of the Internet. The IETF web site contains information about the various
activities of this organization. The site also includes links to the major
publications of the IETF. </p></td></tr>
<tr><td><p><A  HREF="http://www.sun.com/bigadmin">Sun Microsystem's
BigAdmin Portal</A></p></td><td><p>BigAdmin provides information for administering Sun computers. The site
offers FAQs, resources, discussions, links to documentation, and other materials
that pertain to Solaris OS administration, including networking.</p></td></tr>
</table><A NAME="ipov-45"></A><h3>Requests for Comments and Internet Drafts</h3>
<p>The Internet Engineering Task Force (IETF) working groups publish standards
documents that are known as <b>Requests for Comments</b> (RFCs).
Standards that are under development are published in <b>Internet Drafts</b>.
The Internet Architecture Board (IAB) must approve all RFCs before they are
placed in the public domain. Typically RFCs and Internet drafts are directed
to developers and other highly technical readers. However, a number of RFCs
that deal with TCP/IP topics contain valuable information for system administrators.
These RFCs are cited in various places throughout this book.</p>
<p><A NAME="indexterm-200"></A><A NAME="indexterm-201"></A><A NAME="indexterm-202"></A>Generally, For Your Information (FYI) documents appear as a subset
of the RFCs. FYIs contain information that does not deal with Internet standards.
FYIs contain Internet information of a more general nature. For example, FYI
documents include a bibliography that list introductory TCP/IP books and papers.
FYI documents provide an exhaustive compendium of Internet-related software
tools. Finally, FYI documents include a glossary of Internet and general networking
terms. </p>
<p><A NAME="indexterm-203"></A>You will find references to relevant RFCs throughout this guide
and other books in the Solaris System Administrator Collection.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p4.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p6.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

