<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Planning Requirements for
LDAP Naming Services (Tasks) - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-09-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p37.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p39.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="planldap-1"></a>Chapter&nbsp;10<h3>Planning Requirements for
LDAP Naming Services (Tasks)</h3><p>This chapter discusses the high-level planning you should do before
beginning the server and client setup and installation processes.</p>
<p>This chapter covers the following topics.</p>
<ul><li><p><a href="p38.html#planldap-10">LDAP Planning Overview</a></p>
</li>
<li><p><a href="p38.html#planldap-11">Planning the LDAP Network Model</a></p>
</li>
<li><p><a href="p38.html#planldap-111111">Planning the Directory Information Tree (DIT)</a></p>
</li>
<li><p><a href="p38.html#sundssetup-8">LDAP and Replica Servers</a></p>
</li>
<li><p><a href="p39.html">Planning the LDAP Security Model</a></p>
</li>
<li><p><a href="p39.html#planldap-3">Planning Client Profiles and Default Attribute Values for LDAP</a></p>
</li>
<li><p><a href="p40.html">Planning the LDAP Data Population</a></p>
</li>
</ul>
<a name="planldap-10"></a><h3>LDAP Planning Overview</h3>
<p>The LDAP client profile is a collection of configuration information
an LDAP client uses to access LDAP naming services information about the supporting
LDAP server. This chapter discusses the planning of the various aspects of
the LDAP naming services. These include the network model, the directory information
tree, the security model, the default values of the various profile attributes,
and finally, the preparation for data population.</p>
<a name="planldap-11"></a><h3>Planning the LDAP Network Model</h3>
<p>For availability and performance considerations, each subnet of the
company-wide network should have its own LDAP server to service all the LDAP
clients in the subnet.  Only one of the servers needs to be a master LDAP
server. The rest could all be replicas of the master server.</p>
<p>To plan for the network configuration, consider how many servers are
available, how a client would be able to get to the servers, and in what order
the servers should be accessed.  If there is one per subnet, you could use
the <tt>defaultServerList</tt> attribute to list all the servers
and have the LDAP client sort and manipulate the access order. If the servers
need to be accessed in a certain order due to speed or data management reasons,
you should use the <tt>preferredServerList</tt>  attribute to define
the fixed order of accessing the servers. Note that you might not want to
put the master server on either of these lists to reduce the load on the master
server.</p>
<p>In addition, you might find three more attributes worth consideration
when planning for the server and network configuration. The <tt>bindTimeLimit</tt> attribute can be used to set the time-out value for a TCP connect
request. The <tt>searchTimeLimit</tt> attribute can be used to set
the time-out value for an LDAP search operation. The <tt>profileTTL</tt> attribute
can be used to control how often the LDAP client should download its profile
from the servers. For a slow or unstable network, the <tt>bindTimeLimit</tt> and <tt>searchTimeLimit</tt> attributes might need a larger value than the defaults.
For early stage testing of the deployment, you might want to reduce the value
of the <tt>profileTTL</tt> attribute to have the clients pick up
the frequent changes made to the profile stored in the LDAP servers.</p>
<a name="planldap-111111"></a><h3>Planning the Directory Information Tree
(DIT)</h3>
<p>LDAP naming services have a default directory information tree (DIT)
and an associated default schema. For example, the <tt>ou=people</tt> container
contains the user account, password, and shadow information. The <tt>ou=hosts</tt> container contains information about systems in the network.  Each
entry in the <tt>ou=people</tt> container would be of <tt>objectclass
posixAccount</tt> and <tt>shadowAccount</tt>.</p>
<p>The default DIT is a well designed directory structure and is based
on open standards.  It should be sufficient for most of naming service needs,
and is recommended to be used without changes. If you choose to use the default
DIT, the only thing you need to decide is from which node (base DN) in the
directory tree the naming services information will be searched for a given
domain. This node is specified with the <tt>defaultSearchBase</tt> attribute.
 Additionally, you might want to set the <tt>defaultSearchScope</tt> attribute
to tell the clients the scope of search a naming service lookup should perform.
Is it just searching one level under the DN (one), or the entire subtree under
the DN (sub)?</p>
<p>There are times, however, that more flexibility is needed for the LDAP
naming service to either work with an existing DIT or handle a more complicated
DIT with naming service data scattered around the directory tree. For example,
user account entries may exist in different part of the tree. The <tt>serviceSearchDescriptor</tt>, <tt>attributeMap</tt>, and <tt>objectclassMap</tt> attributes
in the client profile are designed to handle these situations.</p>
<p>A service search descriptor can be used to override the default search
base, search scope, and search filter for a particular service. See <a href="p35.html#ldapsecure-65">Service Search Descriptors (SSDs) and Schema Mapping</a>.</p>
<p>The <tt>AttributeMap</tt> and <tt>ObjectclassMap</tt> attributes
provide a way for schema mapping. They make it possible for the LDAP naming
services to work with an existing DIT. You can map the <tt>posixAccount</tt> object
class to an existing object class, <tt>myAccount</tt>, for example.
You can map an attribute in the <tt>posixAccount</tt> object class
to an attribute in the <tt>myAccount</tt> object class.</p>
<a name="planldap-13"></a><h4>Multiple Directory Servers</h4>
<p>Multiple LDAP servers can serve one DIT. For example, some subtrees
of the DIT reside on other LDAP servers.  In this case, an LDAP server may
refer the LDAP client to a different server for the naming data it knows about
but is not in its own database. If you plan such a DIT configuration, you
should set the clients' profile attribute <tt>followReferrals</tt> to
indicate to the LDAP naming service to follow server referrals to continue
naming service lookups. However, it is best to have all naming data for a
given domain reside on a single directory server, if at all possible.</p>
<p>Referrals can be useful if you want to have clients access read-only
replicas most of the time and follow referrals to a read/write master server
only when necessary. In this way, the master server does not get overloaded
with requests that could be handled by replicas.</p>
<a name="planldap-5"></a><h4>Data Sharing With Other Applications</h4>
<p>To make best use of LDAP, you should have a single LDAP entry for each
logical entry. For example, for a user you can have not only company white-page
information, but also Solaris account information, and possibly application-specific
data. Since <tt>posixAccount</tt> and <tt>shadowAccount</tt> are
auxiliary object classes, they can be added to any entry in the directory.
 This will require careful planning, setup, and administration.</p>
<a name="planldap-15"></a><h4>Choosing the Directory Suffix</h4>
<p>See the Sun Java System Directory Server (formerly Sun ONE Directory Server) documentation
for information about how to choose an appropriate directory suffix.</p>
<a name="sundssetup-8"></a><h3>LDAP and Replica Servers</h3>
<p>There are three different strategies to employ when setting up replica
servers.</p>
<ul><li><p>Single-master replication</p>
</li>
<li><p>Floating-master replication</p>
</li>
<li><p>Multi-master replication</p>
</li>
</ul>
<p><b>Single-master</b></p>
<p>With single-master replication, only one master server for any given
partition or non-partitioned network holds writable copies of directory entries.
Any replica servers have read-only copies of the directory entries. While
both replicas and masters can perform searches, compares, and bind operations,
only the master server can perform write operations.</p>
<p>The potential disadvantage to the single-master replication strategy
is that the master server is a single point of failure. If the master server
goes down, none of the replicas can process write operations.</p>
<p><b>Floating-master</b></p>
<p>The floating-master strategy is similar to the single-master strategy
in that there is only one master server with write capabilities at any given
time for a given partitioned or non-partitioned network. However, when implementing
the floating-master strategy, when the master server goes down, a replica
is automatically transformed into a master server by way of an algorithm.</p>
<p>One potential disadvantage to the floating-master replication strategy
is that if your network becomes partitioned and replicas on either side of
the partition become masters, the process of reconciling the new masters can
be very complicated if the network is rejoined.</p>
<p><b>Multi-master</b></p>
<p>With multi-master replication, there are multiple master servers with
their own read-write copies of the directory entry data. While the multi-master
strategy eliminates the problem of having a single point of failure, update
conflicts can occur between servers. In other words, if an entry's attribute
is modified around the same time on two masters, an update conflict resolution
policy, such as &ldquo;last writer wins,&rdquo; must be in place.</p>
<p>For information about how to set up replica servers, refer to the <i>Administration Guide</i> for the version of Sun Java System Directory Server that you are
using.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p37.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p39.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

