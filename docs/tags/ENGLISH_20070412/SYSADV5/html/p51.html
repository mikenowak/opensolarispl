<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>LDAP General Reference (Reference) - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-09-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p50.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p52.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="schemas-1"></a>Chapter&nbsp;14<h3>LDAP General Reference (Reference)</h3><a name="indexterm-513"></a><p>This chapter covers the following topics.</p>
<ol><li><p><a href="p51.html#schemas-16">Blank Checklists</a></p>
</li>
<li><p><a href="p51.html#schemas-10">LDAP Upgrade Information</a></p>
</li>
<li><p><a href="p52.html">LDAP Commands</a></p>
</li>
<li><p><a href="p52.html#schemas-111">Example <tt>pam.conf</tt> File for <tt>pam_ldap</tt></a></p>
</li>
<li><p><a href="p52.html#schemas-250">Example <tt>pam_conf</tt> file for <tt>pam_ldap</tt> Configured for Account Management</a></p>
</li>
<li><p><a href="p52.html#appendixa-2">IETF Schemas for LDAP</a></p>
</li>
<li><p><a href="p52.html#schemas-17">Directory User Agent Profile (<tt>DUAProfile</tt>) Schema</a></p>
</li>
<li><p><a href="p53.html">Solaris Schemas</a></p>
</li>
<li><p><a href="p53.html#schemas-18">Internet Print Protocol Information for LDAP</a></p>
</li>
<li><p><a href="p54.html#schemas-100">Generic Directory Server Requirements for LDAP</a></p>
</li>
<li><p><a href="p54.html#schemas-122">Default Filters Used by LDAP Naming Services</a></p>
</li>
</ol>
<a name="schemas-16"></a><h3>Blank Checklists</h3>
<a name="sundssetup-tbl-2355"></a>Table 14-1 Server Variable Definitions<table><tr><th><p>Variable</p>
</th><th><p>Definition for _______ Network</p>
</th></tr>
<tr><td><p>Port number at which an instance of the directory server is installed
(389)</p>
</td><td></td></tr>
<tr><td><p>Name of server </p>
</td><td></td></tr>
<tr><td><p>Replica server(s) (IP number:port number)</p>
</td><td></td></tr>
<tr><td><p>Directory manager [<tt>dn: cn=directory manager</tt>]</p>
</td><td></td></tr>
<tr><td><p>Domain name to be served </p>
</td><td></td></tr>
<tr><td><p>Maximum time (in seconds) to process client requests before timing out</p>
</td><td></td></tr>
<tr><td><p>Maximum number of entries returned for each search request</p>
</td><td></td></tr>
</table><a name="schemas-tbl-21"></a>Table 14-2 Client Profile Variable Definitions<table><tr><th><p>Variable</p>
</th><th><p>Definition for ________ Network</p>
</th></tr>
<tr><td><p>Profile name</p>
</td><td></td></tr>
<tr><td><p>Server list (defaults to the local subnet)</p>
</td><td></td></tr>
<tr><td><p>Preferred server list (listed in order of which server to try first,
second, and so on)</p>
</td><td></td></tr>
<tr><td><p>Search scope (number of levels down through the directory tree. '<tt>One</tt>' or '<tt>Sub</tt>')</p>
</td><td></td></tr>
<tr><td><p>Credential used to gain access to server. The default is <tt>anonymous</tt></p>
</td><td></td></tr>
<tr><td><p>Follow Referrals? ( a pointer to another server if the main server is
unavailable) The default is <tt>no</tt>.</p>
</td><td></td></tr>
<tr><td><p>Search time limit (in seconds, default <tt>30</tt>) for waiting
for server to return information.</p>
</td><td></td></tr>
<tr><td><p>Bind time limit (in seconds, default <tt>30</tt>) for contacting
server. The default is seconds.</p>
</td><td></td></tr>
<tr><td><p>Authentication method Default is <tt>none</tt>.</p>
</td><td></td></tr>
</table><a name="schemas-10"></a><h3>LDAP Upgrade Information</h3>
<p>This section provides information to consider when upgrading from the
Solaris 8 release to a Solaris 9 or later release.</p>
<a name="schemas-26"></a><h4>Compatibility</h4>
<p>Clients configured on Solaris 9 or later Solaris software releases are
fully compatible with directory servers set up to serve Solaris 8 clients,
which only support version 1 profiles.  However, to take advantage of newer
features built into Solaris 9 and later releases, and to  use the newer security
model, you must use version 2 profiles.</p>
<p>Servers can serve a mix of both old and new clients. Clients see the
same  results from the server as long as schema mapping is not enabled and
version 2 profiles  are not configured to use special filters with the <tt>serviceSearchDescriptors</tt> attribute.  Obviously if the server is not using the default schema,
older clients cannot use that server as Solaris 8 clients cannot arbitrarily
map nondefault schema.</p>
<a name="schemas-28"></a><h4>Running the <tt>ldap_cachemgr</tt> Daemon</h4>
<p>Beginning with the Solaris 9 release, the <tt>ldap_cachemgr</tt> daemon <b>must</b> be running at all times. The daemon is <b>required</b> for
the client to function properly. When you use the Service Management Facility's <tt>svcadm</tt> command to start the LDAP client, the <tt>ldap_cachemgr</tt> daemon
is automatically invoked. See the <tt>ldap_cachemgr</tt>(1M) man page for more information.</p>
<a name="schemas-22"></a><h4>New <tt>automount</tt> Schema</h4>
<p>Beginning with the Solaris 9 release, by default the Solaris software
uses a new schema for <tt>automount</tt> entries. This new schema
replaces the generic NIS map schema that Solaris 8 clients used.  This means
that if you set up a server with Solaris 9 or later software tools, Solaris
8 clients cannot see the <tt>automount</tt> entries.  For sites
where the server being set up is to serve both Solaris 8 and later Solaris
software clients, a profile can be created to map the schema to the old one
before adding automounter entries.  This would ensure that <tt>ldapaddent</tt>(1M) adds the
entries using the old schema.  However, note that this would also mean that
all clients based on Solaris 9 or later software must use a profile where
the schema for <tt>automount</tt> is mapped.</p>
<p>You need to add the following mapping attributes to your profile for
this mapping to take effect.</p>
<pre>attributeMap: 		automount:automountMapName=nisMapName
attributeMap: 		automount:automountKey=cn
attributeMap: 		automount:automountInformation=nisMapEntry
objectclassMap: 	  automount:automountMap=nisMap
objectclassMap: 	  automount:automount=nisObject</pre><a name="schemas-29"></a><h3><tt>pam_ldap</tt> Changes</h3>
<p>The Solaris 10 OS release introduced several changes to <tt>pam_ldap</tt>,
identified in the following list. Also, see the <tt>pam_ldap</tt>(5) man page for more information.</p>
<ul><li><p>The previously supported <tt>use_first_pass</tt> and <tt>try_first_pass</tt> options are obsolete as of the Solaris
10 software release. These options are no longer needed, may safely be removed
from <tt>pam.conf</tt>, and are silently ignored. They may be removed
in a future release.</p>
</li>
<li><p>Password prompting must be provided for by stacking <tt>pam_authtok_get</tt> before <tt>pam_ldap</tt> in the authentication and password
module stacks, and by including <tt>pam_passwd_auth</tt> in the <tt>passwd</tt> service <tt>auth</tt> stack.</p>
</li>
<li><p>The previously supported password update function is replaced
in this release by the previously recommended use of <tt>pam_authtok_store</tt> with
the <tt>server_policy</tt> option.</p>
</li>
</ul>
<p>An upgrade to this release will not automatically update the existing <tt>pam.conf</tt> file to reflect the above changes. If the existing <tt>pam.conf</tt> file contains a <tt>pam_ldap</tt> configuration,
you will be notified after the upgrade via the <tt>CLEANUP</tt> file.
You will need to examine the <tt>pam.conf</tt> file and modify
it, as needed.</p>
<p>It is not possible to provide a clean automatic update for the changes
listed above, primarily password prompting and password update, due to the
relevance of other modules used in the same stack and also due to the existence
of third party modules.</p>
<p>See <tt>pam_passwd_auth</tt>(5), <tt>pam_authtok_get</tt>(5), <tt>pam_authtok_store</tt>(5), and <tt>pam.conf</tt>(4) man pages for more information.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p50.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p52.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

