<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Up Sun Java System Directory Server With
LDAP Clients (Tasks) - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-09-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p40.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p42.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="sundssetup-13"></a>Chapter&nbsp;11<h3>Setting Up Sun Java System Directory Server With
LDAP Clients (Tasks)</h3><p>This chapter describes how to configure Sun Java System Directory Server (formerly Sun ONE Directory Server)
to support a network of Solaris LDAP naming services clients. The information
is specific to the Sun Java System Directory Server.  For information about installing and configuring
the directory server, see the Sun Java System Directory Server documentation, that is included
with the Sun Java Enterprise System.</p>
<hr>
<p><b>Note - </b>You must have already performed all the procedures described in
the installation and configuration documentation that shipped with your Sun Java System Directory Server before
you can configure Sun Java System Directory Server to work with Solaris LDAP clients.</p>
<hr>
<hr>
<p><b>Note - </b>A directory server (an LDAP server) <b>cannot</b> be
its own client.</p>
<hr>
<p>This chapter covers the following topics.</p>
<ul><li><p><a href="p41.html#sundssetup-233">Configuring Sun Java System Directory Server Using <tt>idsconfig</tt></a></p>
</li>
<li><p><a href="p42.html">Using Service Search Descriptors to Modify Client Access to Various Services</a></p>
</li>
<li><p><a href="p42.html#sundssetup-33">Running <tt>idsconfig</tt></a></p>
</li>
<li><p><a href="p43.html">Populating the Directory Server Using <tt>ldapaddent</tt></a></p>
</li>
<li><p><a href="p43.html#sundssetup-27">Managing Printer Entries</a></p>
</li>
<li><p><a href="p43.html#sundssetup-26">Populating the Directory Server With Additional Profiles</a></p>
</li>
<li><p><a href="p43.html#sundssetup-31">Configuring the Directory Server to Enable Account Management</a></p>
</li>
<li><p><a href="p44.html">Migrating Your Sun Java System Directory Server</a></p>
</li>
</ul>
<a name="sundssetup-233"></a><h3>Configuring Sun Java System Directory Server Using <tt>idsconfig</tt></h3>
<a name="sundssetup-234"></a><h4>Creating a Checklist Based on Your Server
Installation</h4>
<p><a name="indexterm-491"></a>During the server installation process, you will have defined
crucial variables, with which you should create a checklist similar to the
one below before launching <tt>idsconfig</tt>. You can use the blank
checklist provided in <a href="p51.html#schemas-16">Blank Checklists</a>.</p>
<hr>
<p><b>Note - </b>The information included below will serve as the basis for all
examples that follow in the LDAP related chapters. The example domain is of
an widget company, Example, Inc. with stores nationwide. The examples will
deal with the West Coast Division, with the domain west.example.com</p>
<hr>
<a name="sundssetup-tbl-235"></a>Table 11-1 Server Variables Defined<table><tr><th><p>Variable</p>
</th><th><p>Definition for Example Network</p>
</th></tr>
<tr><td><p>Port number at which an instance of the directory server is installed</p>
</td><td><p>389 (default)</p>
</td></tr>
<tr><td><p>Name of server </p>
</td><td><p><tt><b>myserver</b></tt> (from the FQDN myserver.west.example.com
or 192.168.0.1)</p>
</td></tr>
<tr><td><p>Replica server(s) (IPnumber:port number)</p>
</td><td><p><tt><b>192.168.0.2</b></tt> [for myreplica.west.example.com]</p>
</td></tr>
<tr><td><p>Directory manager</p>
</td><td><p>cn=directory manager (default)</p>
</td></tr>
<tr><td><p>Domain name to be served </p>
</td><td><p><tt><b>west.example.com</b></tt> </p>
</td></tr>
<tr><td><p>Maximum time (in seconds) to process client requests before timing out</p>
</td><td><p><tt>-</tt><tt><b>1</b></tt><tt>-</tt></p>
</td></tr>
<tr><td><p>Maximum number of entries returned for each search request</p>
</td><td><p><tt>-</tt><tt><b>1</b></tt><tt>-</tt></p>
</td></tr>
</table><hr>
<p><b>Note - </b>If you are using hostnames in defining <tt>defaultServerList</tt> or <tt>preferredServerList</tt>, you MUST ensure LDAP is not used for hosts
lookup.  This means <tt>ldap</tt> must not be in <tt>/etc/nsswitch.conf</tt> <tt>hosts</tt> line.</p>
<hr>
<a name="sundssetup-tbl-236"></a>Table 11-2 Client Profile Variables
Defined<table><tr><th><p>Variable</p>
</th><th><p>Definition for Example Network</p>
</th></tr>
<tr><td><p>Profile name (the default name is default)</p>
</td><td><p><tt><b>WestUserProfile</b></tt></p>
</td></tr>
<tr><td><p>Server list (defaults to the local subnet)</p>
</td><td><p><tt><b>192.168.0.1</b></tt></p>
</td></tr>
<tr><td><p>Preferred server list (listed in order of which server to try first,
second, and so on)</p>
</td><td><p><tt><b>none</b></tt></p>
</td></tr>
<tr><td><p>Search scope (number of levels down through the directory tree. '<tt>One</tt>', the default, or '<tt>Sub</tt>')</p>
</td><td><p><tt><b>one</b></tt> (default)</p>
</td></tr>
<tr><td><p>Credential used to gain access to server. Default is <tt>anonymous</tt></p>
</td><td><p><tt><b>proxy</b></tt></p>
</td></tr>
<tr><td><p><a name="indexterm-492"></a>Follow Referrals? ( a pointer to another server if the main server
is unavailable) Default is <tt>no</tt>.</p>
</td><td><p><tt><b>Y</b></tt></p>
</td></tr>
<tr><td><p>Search time limit (default is 30 seconds) for waiting for server to
return information.</p>
</td><td><p><tt><b>default</b></tt></p>
</td></tr>
<tr><td><p>Bind time limit (default is 10 seconds) for contacting the server. </p>
</td><td><p><tt><b>default</b></tt></p>
</td></tr>
<tr><td><p>Authentication method Default is <tt>none</tt>.</p>
</td><td><p><tt><b>simple</b></tt></p>
</td></tr>
</table><hr>
<p><b>Note - </b>Client profiles are defined per domain. At least one profile must
be defined for a given domain.</p>
<hr>
<a name="sundssetup-10"></a><h5>Attribute Indexes</h5>
<p><a name="indexterm-493"></a><tt>idsconfig</tt> indexes the following list of  attributes
for improved performance.</p>
<dl><dt><tt>membernisnetgroup</tt></dt>
<dd><p><tt>pres,eq,sub</tt></p>
</dd>
<dt><tt>nisnetgrouptriple</tt></dt>
<dd><p><tt>pres,eq,sub</tt></p>
</dd>
<dt><tt>ipHostNumber</tt></dt>
<dd><p><tt>pres,eq,sub</tt></p>
</dd>
<dt><tt>uidNumber</tt></dt>
<dd><p><tt>pres,eq</tt></p>
</dd>
<dt><tt>gidNumber</tt></dt>
<dd><p><tt>pres,eq</tt></p>
</dd>
<dt><tt>ipNetworkNumber</tt></dt>
<dd><p><tt>pres,eq</tt></p>
</dd>
<dt><tt>automountkey</tt></dt>
<dd><p><tt>pres,eq</tt></p>
</dd>
<dt><tt>oncRpcNumber</tt></dt>
<dd><p><tt>pres,eq</tt></p>
</dd>
</dl>
<a name="sundssetup-238"></a><h4>Schema Definitions</h4>
<p><tt>idsconfig</tt>(1M) automatically
adds the necessary schema definitions. Unless you are very experienced in
LDAP administration, do not manually modify the server schema. See <a href="p51.html">Chapter&nbsp;14, LDAP General Reference (Reference)</a> for
an extended list of schemas used by the LDAP naming service.</p>
<a name="sundssetup-11"></a><h4>Using Browsing Indexes</h4>
<p><a name="indexterm-494"></a>The browsing index functionality of the Sun Java System Directory Server, otherwise
known as the virtual list view (VLV), provides a way in which a client can
view a select group or number of entries from very long list, thus making
the search process less time consuming for each client. Browsing indexes provide
optimized, predefined search parameters with which the Solaris LDAP naming
client can access specific information from the various services more quickly.
Keep in mind that if you do not create browsing indexes, the clients may not
get all the entries of a given type because the server limits for search time
or number of entries might be enforced.</p>
<p>VLV indexes are configured on the directory server and the proxy user
has read access to these indexes.</p>
<p>Before configuring browsing indexes on the Sun Java System Directory Server, consider the
performance cost associated with using these indexes. For more information,
refer to the <i>Administration Guide</i> for the version of Sun Java System Directory Server that
you are using.</p>
<p><tt>idsconfig</tt> creates entries for several VLV indexes.
Use the <tt>directoryserver</tt> script to stop the server and to
create the actual VLV indexes. See the <tt>idsconfig</tt>(1M) and the <tt>directoryserver</tt>(1M) man pages for more information. Refer to the output
of the <tt>idsconfig</tt> command to determine the VLV entries created
by <tt>idsconfig</tt> and the syntax of the corresponding <tt>directoryserver</tt> commands that you need to run. See <a href="p42.html#sundssetup-39">Example <tt>idsconfig</tt> Setup</a> for sample <tt>idsconfig</tt> output.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p40.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p42.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

