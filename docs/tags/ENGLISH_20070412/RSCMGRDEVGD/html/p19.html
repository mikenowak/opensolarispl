<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Resource Pools - Solaris Containers: Resource Management and Solaris Zones Developer's Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >Solaris Containers: Resource Management and Solaris Zones Developer's Guide<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p18.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p20.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="resource-pools-5"></a>Chapter&nbsp;6<h3>Resource Pools</h3><p>This chapter describes resource pools and their properties.</p>
<ul><li><p><a href="p19.html#resource-pools-6">Overview of Resource Pools</a></p>
</li>
<li><p><a href="p19.html#resource-pools-12">Dynamic Resource Pool Constraints and Objectives</a></p>
</li>
<li><p><a href="p21.html#resource-pools-1">Resource Pools API Functions</a></p>
</li>
<li><p><a href="p23.html">Resource Pool Code Examples</a></p>
</li>
<li><p><a href="p23.html#resource-pools-35">Programming Issues Associated With Resource Pools</a></p>
</li>
</ul>
<a name="resource-pools-6"></a><h3>Overview of Resource Pools</h3>
<p><a name="indexterm-40"></a>Resource pools provide a framework for managing processor sets
and thread scheduling classes. Resource pools are used for partitioning machine
resources. Resource pools enable you to separate workloads so that workload
consumption of certain resources does not overlap. The resource reservation
helps to achieve predictable performance on systems with mixed workloads.</p>
<p>For an overview of resource pools and example commands for administering
resource pools, see Chapter 12, Resource Pools (Overview), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i> and Chapter 13, Creating and Administering Resource Pools (Tasks), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i>.</p>
<p>A processor set groups the CPUs on a system into a bounded entity, on
which a process or processes can run exclusively. Processes cannot extend
beyond the processor set, nor can other processes extend into the processor
set. A processor set enables tasks of similar characteristics to be grouped
together and a hard upper boundary for CPU use to be set.</p>
<p>The resource pool framework allows the definition of a soft processor
set with a maximum and minimum CPU count requirement. Additionally, the framework
provides a hard-defined scheduling class for that processor set.</p>
<p>A zone can be bound to a resource pool through the <tt>pool</tt> property
of the zone configuration. The zone is bound to the specified pool upon creation
of the zone. The pool configuration can be changed only from the global zone.
Zones cannot span multiple pools. All processes in a zone run in the same
pool. However, multiple zones can bind to the same resource pool.</p>
<p>A resource pool defines:</p>
<ul><li><p>Processor set groups</p>
</li>
<li><p>Scheduling class</p>
</li>
</ul>
<a name="resource-pools-37"></a><h4>Scheduling Class</h4>
<p><a name="indexterm-41"></a>Scheduling classes provide different CPU access characteristics
to threads that are based on algorithmic logic. The scheduling classes include:</p>
<ul><li><p>Realtime scheduling class</p>
</li>
<li><p>Interactive scheduling class</p>
</li>
<li><p>Fixed priority scheduling class</p>
</li>
<li><p>Timesharing scheduling class</p>
</li>
<li><p>Fair share scheduling class</p>
</li>
</ul>
<p>For an overview of fair share scheduler and example commands for administering
the fair share scheduler, see Chapter 8, Fair Share Scheduler (Overview), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i> and Chapter 9, Administering the Fair Share Scheduler (Tasks), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i>.</p>
<p>Do not mix scheduling classes in a set of CPUs. If scheduling classes
are mixed in a CPU set, system performance might become erratic and unpredictable.
Use processor sets to segregate applications by their characteristics. Assign
scheduling classes under which the application best performs. For more information
about the characteristics of an individual scheduling class, see <tt>priocntl</tt>(1).</p>
<p>For an overview of resource pools and a discussion of when to use pools,
see <a href="p19.html">Chapter&nbsp;6, Resource Pools</a>.</p>
<a name="resource-pools-12"></a><h3>Dynamic Resource Pool Constraints and
Objectives</h3>
<p><a name="indexterm-42"></a>The <tt>libpool</tt> library defines properties that
are available to the various entities that are managed within the pools facility.
Each property falls into the following categories:</p>
<dl><dt><tt><b>Configuration constraints</b></tt></dt>
<dd><p>A constraint defines boundaries of a property. Typical constraints
are the maximum and minimum allocations specified in the <tt>libpool</tt> configuration.</p>
</dd>
<dt><tt><b>Objective</b></tt></dt>
<dd><p>An objective changes the resource assignments of the current
configuration to generate new candidate configurations that observe the established
constraints. An objective has the following categories:</p>
<dl><dt><tt><b>Workload dependent</b></tt></dt>
<dd><p>A workload-dependent objective varies according to the conditions
imposed by the workload. An example of the workload dependent objective is
the <tt>utilization</tt> objective.</p>
</dd>
<dt><tt><b>Workload independent</b></tt></dt>
<dd><p>A workload-independent objective does not vary according to
the conditions imposed by the workload. An example of the workload independent
objective is the <tt>cpu locality</tt> objective.</p>
</dd>
</dl>
<p>An objective can take an optional prefix to indicate the importance
of the objective. The objective is multiplied by this prefix, which is an
integer from 0 to INT64_MAX,, to determine the significance of the objective.</p>
</dd>
</dl>
<p>For usage examples, see How to Set Configuration Constraints in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i> and How to Define Configuration Objectives in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i>.</p>
<a name="resource-pools-2"></a><h4>System Properties</h4>
<a name="indexterm-43"></a><dl><dt><tt>system.bind-default</tt> (<tt><b>writable
boolean</b></tt>)</dt>
<dd><p>If the specified pool is not found in &lt;<tt>filename</tt>><tt>/etc/project</tt>&lt;<tt>/filename</tt>>, bind to pool with
the <tt>pool.default</tt> property set to TRUE.</p>
</dd>
<dt><tt>system.comment</tt> (<tt><b>writable
string</b></tt>)</dt>
<dd><p>User description of system. <tt>system.comment</tt> is
not used by the default pools commands, except when a configuration is initiated
by the <tt>poolcfg</tt> utility. In this case, the system puts an
informative message in the <tt>system.comment</tt> property for
that configuration.</p>
</dd>
<dt><tt>system.name</tt> (<tt><b>writable string</b></tt>)</dt>
<dd><p>User name for the configuration.</p>
</dd>
<dt><tt>system.version</tt> (read-only integer)</dt>
<dd><p><tt>libpool</tt> version required to manipulate
this configuration.</p>
</dd>
</dl>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p18.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p20.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

