<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>
Support for 64-Bit Computing</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Basic Administration"><link rel="up" href="ch08.html" title="Chapter 8. Shutting Down and Booting a System (Overview)"><link rel="prev" href="ch08s08.html" title="Booting a System From the Network"><link rel="next" href="ch09.html" title="Chapter 9. Shutting Down a System (Tasks)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">
Support for 64-Bit Computing</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s08.html">Prev</a> </td><th width="60%" align="center">Chapter 8. Shutting Down and Booting a System (Overview)</th><td width="20%" align="right"> <a accesskey="n" href="ch09.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="fcpez"></a>
Support for 64-Bit Computing</h2></div></div></div>

<p> The system
autodetects the appropriate kernel to boot on x86 based systems. New installations
of the Solaris OS autoboot to 64-bit mode on 64-bit capable hardware. Upgrade
installations of the Solaris OS autoboot to 64-bit mode on 64-bit capable
hardware, <span class="emphasis"><em>unless</em></span> the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter was previously set to a value other than <code class="filename">kernel/unix</code>.<a class="indexterm" name="indexterm-106"></a>
</p>
<p>For upgrade installations of the Solaris OS, where the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter was previously set to a value other than <code class="filename">kernel/unix</code>, you will need to do one of the following to boot the
system to 64-bit mode:</p>
<p>If you are running at least the Solaris
Express release:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Manually set the system to boot to 64-bit mode. See <span class="olink">
How to Modify the Solaris Boot Behavior by Editing the GRUB Menu</span>.</p>
</li><li>
<p>Use the <span><strong class="command">eeprom</strong></span> command to enable autodetection.
See <span class="olink">
How to Set Solaris Boot Parameters by Using the <span><strong class="command">eeprom</strong></span> Command</span>.</p>
</li></ul></div>
<p>If you are running the Solaris 10 release:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Manually set the system to boot to 64-bit mode. See <span class="olink">Example 12&#8211;2</span>.</p>
</li><li>
<p>Use the <span><strong class="command">eeprom</strong></span> command to enable autodetection.
See <span class="olink">
Setting the <code class="literal">boot-file</code> Parameter With the <span><strong class="command">eeprom</strong></span> Command</span>.</p>
</li></ul></div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="ffktp"></a>
Setting the <code class="literal">boot-file</code> Parameter
With the <span><strong class="command">eeprom</strong></span> Command</h3></div></div></div>

<a class="indexterm" name="indexterm-107"></a>
<a class="indexterm" name="indexterm-108"></a>
<p>
<span class="strong"><strong>Solaris 10:</strong></span> For all new software
installations, as well as upgrade installations, where the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter had previously been set to <code class="filename">kernel/unix</code>,
the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter is set
to a null value (<code class="literal">""</code>). The system then automatically boots
to 64-bit mode on x86 based systems that are capable of 64-bit computing when
you type <span><strong class="command">b</strong></span> at the boot prompt.</p>
<p>You do not need to manually specify which kernel a 64-bit capable system
should boot unless one of the following conditions exists: </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter
was previously set to a value other than <code class="literal">kernel/unix</code>.</p>
</li><li>
<p>You want to force the system to boot to a particular mode.</p>
</li></ul></div>
<p>The following table shows the boot mode result for an x86 based system
that is 64-bit capable, depending on the Solaris OS version, the boot command
that is used, and how the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter
is set. </p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>Boot Command</p>
</th><th>
<p>
<span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> Parameter Setting</p>
</th><th>
<p>Boot Mode Result</p>
</th></tr></thead><tbody><tr><td>
<p>
<span><strong class="command">b kernel/unix</strong></span>
</p>
</td><td>
<p>The <code class="literal">boot-file</code> parameter is ignored when this command
is used.</p>
</td><td>
<p>32-bit mode boot</p>
</td></tr><tr><td>
<p>
<span><strong class="command">b kernel/amd64/unix</strong></span>
</p>
</td><td>
<p>The <code class="literal">boot-file</code> parameter is ignored when this command
is used.</p>
</td><td>
<p>64-bit mode boot</p>
</td></tr><tr><td>
<p>
<span><strong class="command">b</strong></span>
</p>
</td><td>
<p>
<code class="literal">""</code>
</p>
</td><td>
<p>64-bit mode boot</p>
</td></tr><tr><td>
<p>
<span><strong class="command">b</strong></span>
</p>
</td><td>
<p>
<code class="literal">kernel/unix</code>
</p>
</td><td>
<p>32-bit mode boot</p>
</td></tr><tr><td>
<p>
<span><strong class="command">b</strong></span>
</p>
</td><td>
<p>
<code class="literal">kernel/amd64/unix</code>
</p>
</td><td>
<p>64-bit mode boot</p>
</td></tr></tbody></table>
</div>
<p>To manually specify which mode a 64-bit capable x86 based system boots
to on future reboots, set the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter.
Note that you must be superuser or assume an equivalent role to run the <span><strong class="command">eeprom</strong></span> command. </p>
<p>To manually specify that a 64-bit capable x86 system always boot a 64-bit
kernel, set the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter
as follows:</p>
<pre class="screen"># <strong class="userinput"><code>eeprom boot-file=kernel/amd64/unix</code></strong>
</pre>
<p>To manually specify that a 64-bit capable x86 system always boot a 32-bit
kernel, set the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter
as follows:</p>
<pre class="screen"># <strong class="userinput"><code>eeprom boot-file=kernel/unix</code></strong>
</pre>
<p>To restore the default autodetect boot behavior, type:</p>
<pre class="screen"># <strong class="userinput"><code>eeprom boot-file=""</code></strong>
</pre>
<p>To determine the current <code class="literal">boot-file</code> parameter, type:</p>
<pre class="screen">$ <strong class="userinput"><code>eeprom boot-file</code></strong>
</pre>
<p>For more information on the <span><strong class="command">eeprom</strong></span> command, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">eeprom</span>
(
1M
)
</span>
</span> man page. For information
on how to troubleshoot problems on 64-bit capable x86 based systems, see <span class="olink">
Troubleshooting a Failed 64-Bit Boot</span>.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="ffktv"></a>
Booting a System With the Kernel Debugger
(<span><strong class="command">kmdb</strong></span>)</h3></div></div></div>

<a class="indexterm" name="indexterm-109"></a>
<a class="indexterm" name="indexterm-110"></a>
<a class="indexterm" name="indexterm-111"></a>
<a class="indexterm" name="indexterm-112"></a>
<p>
<span class="strong"><strong>Solaris 10:</strong></span> To boot a 64-bit capable
x86 based system with <span><strong class="command">kmdb</strong></span>, use the <code class="option">
k</code> option
to the boot specification. Although <span><strong class="command">b kmdb</strong></span> is still a valid
command, the preferred method is to use <span><strong class="command">b</strong></span> <code class="option">
k</code>.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>Typing <span><strong class="command">b kmdb</strong></span> at the boot prompt causes a system
to boot the autodetected kernel type with the kernel debugger enabled, regardless
of how the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter
is set.</p>
<p>Typing <span><strong class="command">b</strong></span> <code class="option">
k</code> at the
boot prompt boots whichever kernel the system would otherwise boot if you
typed <span><strong class="command">b</strong></span>, with the kernel debugger enabled. The kernel is
specified by the <span><strong class="command">eeprom</strong></span> <code class="literal">boot-file</code> parameter,
or by the autodetected default, if the <code class="literal">boot-file</code> parameter
is set to a null value (<code class="literal">""</code>).</p>
</div>
<p>For an example of how to boot a 64-bit capable x86 based system with <span><strong class="command">kmdb</strong></span>, see <span class="olink">Example 12&#8211;8</span>.</p>
<p>For more information on 64-bit computing on the x86 platform, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">isainfo</span>
(
1
)
</span>
</span>, <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">isalist</span>
(
1
)
</span>
</span>, and <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">sysinfo</span>
(
2
)
</span>
</span> man pages.</p>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s08.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch08.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch09.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Booting a System From the Network </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 9. Shutting Down a System (Tasks)</td></tr></table></div></body></html>
