<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Diskless Client Management Overview</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Basic Administration"><link rel="up" href="ch06.html" title="Chapter 6. Managing Client-Server Support (Overview)"><link rel="prev" href="ch06s05.html" title="Overview of System Types"><link rel="next" href="ch07.html" title="Chapter 7. Managing Diskless Clients (Tasks)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Diskless Client Management Overview</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch06s05.html">Prev</a> </td><th width="60%" align="center">Chapter 6. Managing Client-Server Support (Overview)</th><td width="20%" align="right"> <a accesskey="n" href="ch07.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="clientconcept-22"></a>Diskless Client Management Overview</h2></div></div></div>

<p>The following sections and <span class="olink">Chapter 7, Managing Diskless Clients (Tasks)</span> describe how to manage diskless
client support in the Solaris Operating System (Solaris OS).</p>
<p>A <span class="emphasis"><em>diskless client</em></span> is a system that depends on an <span class="emphasis"><em>OS server</em></span> for its operating system, software, and storage. A diskless
client mounts its root (<code class="filename">/</code>), <code class="filename">/usr</code>, and other file
systems from its OS server. A diskless client has its own CPU and physical
memory and can process data locally. However, a diskless client cannot operate
if it is detached from its network or if its OS server malfunctions. A diskless
client generates significant network traffic because of its continual need
to function across the network. </p>
<p>In the Solaris Express,Solaris 10, and
Solaris 9 releases, the diskless client commands, <span><strong class="command">smosservice</strong></span> and <span><strong class="command">smdiskless</strong></span>, enable you to manage OS services and diskless client
support. In the Solaris 8 and Solaris 7 releases, diskless clients were managed
with the <span class="trademark">Solstice</span>&#8482; GUI management tools. </p>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="clientconcept-28"></a>OS Server and Diskless Client Support
Information</h3></div></div></div>

<p>The following table describes which Solaris releases and architecture
types are supported by the <span><strong class="command">smosservice</strong></span> and <span><strong class="command">smdiskless</strong></span> commands.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>
<p>Architecture Type</p>
</th><th>
<p>Solaris 8</p>
</th><th>
<p>Solaris 9</p>
</th><th>
<p>Solaris 10 and Solaris Express</p>
</th></tr></thead><tbody><tr><td>
<p>SPARC servers</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td></tr><tr><td>
<p>x86 based servers</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td></tr><tr><td>
<p>SPARC based clients</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td></tr><tr><td>
<p>x86 based clients</p>
</td><td>
<p>Supported (Starting with the Solaris 8 1/01 release)</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td></tr></tbody></table>
</div>
<p>This table describes the combination of OS client-server configurations
that are supported by the <span><strong class="command">smosservice</strong></span> and <span><strong class="command">smdiskless</strong></span> commands.</p>
<div class="table"><a name="fwano"></a><p class="title"><b>Table 6.3. OS Client-Server
Support</b></p>


<table summary="OS Client-Server
Support" border="1"><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><td>
</td><td>
<p>
<span class="strong"><strong>Diskless Client OS</strong></span>
</p>
</td><td>
</td><td>
</td><td>
</td><td>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Server OS</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Solaris Express</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Solaris 10</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Solaris 9</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Solaris 8</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Solaris 7</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Solaris Express</strong></span>
</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Solaris 10</strong></span>
</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Solaris 9</strong></span>
</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Solaris 8</strong></span>
</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Supported</p>
</td><td>
<p>Supported</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Solaris 7</strong></span>
</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Not supported</p>
</td><td>
<p>Supported</p>
</td></tr></tbody></table>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="clientconcept-41599"></a>Diskless Client Management Features</h3></div></div></div>

<p>You can use the <span><strong class="command">smosservice</strong></span> and <span><strong class="command">smdiskless</strong></span> commands
to add and maintain diskless client support on a network. By using a name
service, you can manage system information in a centralized manner so that
important system information, such as host names, do not have to be duplicated
for every system on the network.</p>
<p>You can perform the following tasks with the <span><strong class="command">smosservice</strong></span> and <span><strong class="command">smdiskless</strong></span> commands:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Add and modify diskless client support</p>
</li><li>
<p>Add and remove OS services</p>
</li><li>
<p>Manage diskless client information in the LDAP, NIS, NIS+,
or files name service environment</p>
</li></ul></div>
<p>If you are performing a GRUB based boot on an x86 system, you need to
manually set up the DHCP configuration. See <span class="olink">
How to Prepare for Adding Diskless Clients in a GRUB Based Boot Environment</span> for
more information.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>You can only use the diskless client commands to set up diskless
client booting. You cannot use these commands to set up other services, such
as remote installation or profile services. Set up remote installation services
by including diskless client specifications in the <code class="filename">sysidcfg</code> file.
For more information, see <span class="olink">
<em class="citetitle">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</em>
</span>.</p>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="clients-2"></a>Working With Diskless Client Commands</h4></div></div></div>

<p>By writing your own shell scripts and using the commands shown in the
following table, you can easily set up and manage your diskless client environment. </p>
<div class="table"><a name="chapter-tbl-15"></a><p class="title"><b>Table 6.4. Diskless Client Commands</b></p>


<table summary="Diskless Client Commands" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>Command</p>
</th><th>
<p>Subcommand</p>
</th><th>
<p>Task</p>
</th></tr></thead><tbody><tr><td>
<p>
<span><strong class="command">/usr/sadm/bin/smosservice</strong></span>
</p>
</td><td>
<p>
<span><strong class="command">add</strong></span>
</p>
</td><td>
<p>Add OS services</p>
</td></tr><tr><td>
</td><td>
<p>
<span><strong class="command">delete</strong></span>
</p>
</td><td>
<p>Delete OS services</p>
</td></tr><tr><td>
</td><td>
<p>
<span><strong class="command">list</strong></span>
</p>
</td><td>
<p>List OS services</p>
</td></tr><tr><td>
</td><td>
<p>
<span><strong class="command">patch</strong></span>
</p>
</td><td>
<p>Manage OS service patches</p>
</td></tr><tr><td>
<p>
<span><strong class="command">/usr/sadm/bin/smdiskless</strong></span>
</p>
</td><td>
<p>
<span><strong class="command">add</strong></span>
</p>
</td><td>
<p>Add a diskless client to an OS server</p>
</td></tr><tr><td>
</td><td>
<p>
<span><strong class="command">delete</strong></span>
</p>
</td><td>
<p>Delete a diskless client from an OS server</p>
</td></tr><tr><td>
</td><td>
<p>
<span><strong class="command">list</strong></span>
</p>
</td><td>
<p>List the diskless clients on an OS server</p>
</td></tr><tr><td>
</td><td>
<p>
<span><strong class="command">modify</strong></span>
</p>
</td><td>
<p>Modify the attributes of a diskless client</p>
</td></tr></tbody></table>
</div>
<p>You can obtain help on these commands in two ways:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Use the <code class="option">
h</code> option when you type the command,
subcommand, and required options, as shown in the following example.</p>
<pre class="screen">% <strong class="userinput"><code>/usr/sadm/bin/smdiskless add -p my-password -u my-user-name -- -h</code></strong>
</pre>
</li><li>
<p>View the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">smdiskless</span>
(
1M
)
</span>
</span> and <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">smosservice</span>
(
1M
)
</span>
</span> man pages.</p>
</li></ul></div>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="chapter-27"></a>Required RBAC Rights for Diskless Client Management</h4></div></div></div>

<p>You can use the <span><strong class="command">smosservice</strong></span> and <span><strong class="command">smdiskless</strong></span> commands
as superuser. If you are using role-based access control (RBAC), you can use
either a subset of or all of the diskless client commands, according to the
RBAC rights to which they are assigned. The following table lists the RBAC
rights that are required to use the diskless client commands.</p>
<div class="table"><a name="chapter-tbl-28"></a><p class="title"><b>Table 6.5. Required RBAC Rights for
Diskless Client Management</b></p>


<table summary="Required RBAC Rights for
Diskless Client Management" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>RBAC Right</p>
</th><th>
<p>Command</p>
</th><th>
<p>Task</p>
</th></tr></thead><tbody><tr><td>
<p>Basic Solaris User, Network Management</p>
</td><td>
<p>
<span><strong class="command">smosservice list</strong></span>
</p>
</td><td>
<p>List OS services</p>
<p>
</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<span><strong class="command">smosservice patch</strong></span>
</p>
</td><td>
<p>List OS service patches</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<span><strong class="command">smdiskless list</strong></span>
</p>
</td><td>
<p>List diskless clients on an OS server</p>
</td></tr><tr><td>
<p>Network Management</p>
</td><td>
<p>
<span><strong class="command">smdiskless add</strong></span>
</p>
</td><td>
<p>Add diskless clients</p>
</td></tr><tr><td>
<p>System Administrator</p>
</td><td>
<p>All commands</p>
</td><td>
<p>All tasks</p>
</td></tr></tbody></table>
</div>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="clientconcept-5"></a>Adding OS Services</h4></div></div></div>

<p>
<a class="indexterm" name="clientconcept-ix884"></a>
<a class="indexterm" name="clientconcept-ix885"></a>
<a class="indexterm" name="clientconcept-ix886"></a>A Solaris OS server is a server that provides operating system
(OS) services to support diskless client systems. You can add support for
an OS server or convert a stand-alone system to an OS server by using the <span><strong class="command">smosservice</strong></span> command. </p>
<p>For each platform group and Solaris release that you want to support,
you must add the particular OS service to the OS server. For example, if you
want to support SPARC sun-4u systems running the Solaris Express
release, you must add the Sun-4u/Solaris Express OS services to the OS server. For
each diskless client that you support, you must add the OS service for that
client to the OS server. For example, you would need to add OS services to
support SPARC sun-4m systems or x86 based systems that run the Solaris
10 or Solaris 9 release, because they are different platform groups.</p>
<p>You must have access to the appropriate Solaris software CD or disk
image to add OS services.</p>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="clientconcept-12"></a>Adding OS Services When the OS Server
Has Been Patched</h4></div></div></div>

<p>When adding OS services to an OS server, you might see an error message
stating that you have inconsistent versions of the OS running on the server
and the OS that you are trying to add. This error message occurs when the
installed version of the OS has packages that were previously patched, and
the OS services being added do not have those packages patched, because the
patches have been integrated into the packages.</p>
<p>For example, you might have a server that is running the Solaris
Express or the Solaris 10 release. You might also have additional OS services
loaded on this server, including the Solaris 9 SPARC sun-4m OS services that
have been patched. If you try to add the Solaris 8 SPARC sun-4u OS services
from a CD-ROM to this server, you could get the following error message:</p>
<pre class="screen">Error: inconsistent revision, installed package appears to have been 
patched resulting in it being different than the package on your media. 
You will need to backout all patches that patch this package before 
retrying the add OS service option.</pre>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="chapter-29"></a>Disk Space Requirements for OS Servers</h3></div></div></div>

<p>Before you set up your diskless client environment, ensure that you
have the required disk space available for each diskless client directory.</p>
<p>In previous Solaris releases, you were prompted about diskless client
support during the installation process. In the Solaris
Express, Solaris 10, and Solaris 9 releases, you must manually allocate
an <code class="filename">/export</code> file system either during installation or
create it after installation. See the following table for specific disk space
requirements.</p>
<div class="table"><a name="euxcz"></a><p class="title"><b>Table 6.6. Disk Space Requirements for Solaris
OS Servers</b></p>


<table summary="Disk Space Requirements for Solaris
OS Servers" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>
<span class="strong"><strong>Server OS/Architecture Type</strong></span>
</p>
</th><th>
<p>
<span class="strong"><strong>Directory</strong></span>
</p>
</th><th>
<p>
<span class="strong"><strong>Required Disk Space</strong></span>
</p>
</th></tr></thead><tbody><tr><td>
<p>Solaris Express SPARC based OS server</p>
</td><td>
<p>
<code class="filename">/export</code>
</p>
</td><td>
<p>5 Gbytes</p>
</td></tr><tr><td>
<p>Solaris Express  x86 based OS server</p>
</td><td>
<p>
<code class="filename">/export</code>
</p>
</td><td>
<p>5 Gbytes</p>
</td></tr><tr><td>
<p>Solaris Express  SPARC based diskless
client</p>
</td><td>
<p>
<code class="filename">/export</code>
</p>
</td><td>
<p>Reserve 200 to 300 Mbytes per diskless client.</p>
</td></tr><tr><td>
<p>Solaris Express  x86 based diskless
client</p>
</td><td>
<p>
<code class="filename">/export</code>
</p>
</td><td>
<p>Reserve 200 to 300 Mbytes per diskless client.</p>
</td></tr></tbody></table>
</div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch06s05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch06.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Overview of System Types </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 7. Managing Diskless Clients (Tasks)</td></tr></table></div></body></html>
