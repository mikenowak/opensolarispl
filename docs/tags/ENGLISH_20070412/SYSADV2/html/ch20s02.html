<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Displaying Virtual Memory Statistics (vmstat)</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="ch20.html" title="Chapter 20. Monitoring System Performance (Tasks)"><link rel="prev" href="ch20.html" title="Chapter 20. Monitoring System Performance (Tasks)"><link rel="next" href="ch20s03.html" title="Displaying Disk Utilization Information (iostat)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Displaying Virtual Memory Statistics (<span><strong class="command">vmstat</strong></span>)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch20.html">Prev</a> </td><th width="60%" align="center">Chapter 20. Monitoring System Performance (Tasks)</th><td width="20%" align="right"> <a accesskey="n" href="ch20s03.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="spmonitor-22"></a>Displaying Virtual Memory Statistics (<span><strong class="command">vmstat</strong></span>)</h2></div></div></div>

<p>
<a class="indexterm" name="spmonitor-ix4301"></a>You can use the <span><strong class="command">vmstat</strong></span> command to report virtual
memory statistics and information about system events such as CPU load, paging,
number of context switches, device interrupts, and system calls. The <span><strong class="command">vmstat</strong></span> command can also display statistics on swapping, cache flushing,
and interrupts.</p>
<p>
<a class="indexterm" name="spmonitor-ix4308"></a>The following table describes the fields in the <span><strong class="command">vmstat</strong></span> command
output.  </p>
<div class="table"><a name="spmonitor-57160"></a><p class="title"><b>Table 20.1. Output From the <span>vmstat</span> Command</b></p>


<table summary="Output From the vmstat Command" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>Category</p>
</th><th>
<p>Field Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">procs</code>
</p>
</td><td>
<p>
</p>
</td><td>
<p>Reports on the following:</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">r</code> </p>
</td><td>
<p>The number of kernel threads in the dispatch queue</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">b</code>
</p>
</td><td>
<p>The number of blocked kernel threads that are waiting for resources</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">w</code>
</p>
</td><td>
<p>The number of swapped out LWPs that are waiting for processing resources
to finish </p>
</td></tr><tr><td>
<p>
<code class="literal">memory</code>
</p>
</td><td>
<p>
</p>
</td><td>
<p>Reports on usage of real memory and virtual memory:</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">swap</code> </p>
</td><td>
<p>Available swap space</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">free</code>  </p>
</td><td>
<p>Size of the free list</p>
</td></tr><tr><td>
<p>
<code class="literal">page</code>
</p>
</td><td>
<p>
</p>
</td><td>
<p>Reports on page faults and paging activity, in units per second:</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">re</code>
</p>
</td><td>
<p>Pages reclaimed</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">mf</code>
</p>
</td><td>
<p>Minor faults and major faults</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">pi</code> </p>
</td><td>
<p>Kbytes paged in</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">po</code> </p>
</td><td>
<p>Kbytes paged out</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">fr</code> </p>
</td><td>
<p>Kbytes freed</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">de</code>
</p>
</td><td>
<p>Anticipated memory that is needed by recently swapped-in processes</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">sr</code>
</p>
</td><td>
<p>Pages scanned by the <span><strong class="command">page</strong></span> daemon not currently in
use. If <code class="literal">sr</code> does not equal zero, the <span><strong class="command">page</strong></span> daemon
has been running.</p>
</td></tr><tr><td>
<p>
<code class="literal">disk</code> </p>
</td><td>
<p>
</p>
</td><td>
<p>Reports the number of disk operations per second, showing data on up
to four disks</p>
</td></tr><tr><td>
<p>
<code class="literal">faults</code> </p>
</td><td>
<p>
</p>
</td><td>
<p>Reports the trap/interrupt rates per second:</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">in</code> </p>
</td><td>
<p>Interrupts per second</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">sy</code>
</p>
</td><td>
<p>System calls per second</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">cs</code> </p>
</td><td>
<p>CPU context switch rate</p>
</td></tr><tr><td>
<p>
<code class="literal">cpu</code> </p>
</td><td>
<p>
</p>
</td><td>
<p>Reports on the use of CPU time:</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">us</code>  </p>
</td><td>
<p>User time</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">sy</code>  </p>
</td><td>
<p>System time</p>
</td></tr><tr><td>
<p>
</p>
</td><td>
<p>
<code class="literal">id</code>  </p>
</td><td>
<p>Idle time </p>
</td></tr></tbody></table>
</div>
<p>For a more detailed description of this command, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">vmstat</span>
(
1M
)
</span>
</span> man page.</p>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2243408"></a></h3></div></div></div>

<div class="task"><a name="enudr"></a><p class="title"><b>How to Display Virtual Memory Statistics (<span><strong class="command">vmstat</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Collect virtual memory statistics by using the <span><strong class="command">vmstat</strong></span> command
with a time interval in seconds.</p>
<pre class="screen">$ <strong class="userinput"><code>vmstat</code></strong> <em class="replaceable"><code>n</code></em>
</pre>
<p>where <em class="replaceable"><code>n</code></em> is the interval in seconds between
reports.</p>
</li></ul></div><div class="example"><a name="spmonitor-2"></a><p class="title"><b>Example 20.1. Displaying Virtual Memory Statistics</b></p>


<p>The following example shows the <span><strong class="command">vmstat</strong></span> display of
statistics that were gathered at five-second intervals.</p>
<pre class="screen">$ <strong class="userinput"><code>vmstat 5</code></strong>
kthr      memory            page            disk          faults      cpu
 r b w   swap  free  re  mf pi po fr de sr dd f0 s1 --   in   sy   cs us sy id
 0 0 0 863160 365680  0   3  1  0  0  0  0  0  0  0  0  406  378  209  1  0 99
 0 0 0 765640 208568  0  36  0  0  0  0  0  0  0  0  0  479 4445 1378  3  3 94
 0 0 0 765640 208568  0   0  0  0  0  0  0  0  0  0  0  423  214  235  0  0 100
 0 0 0 765712 208640  0   0  0  0  0  0  0  3  0  0  0  412  158  181  0  0 100
 0 0 0 765832 208760  0   0  0  0  0  0  0  0  0  0  0  402  157  179  0  0 100
 0 0 0 765832 208760  0   0  0  0  0  0  0  0  0  0  0  403  153  182  0  0 100
 0 0 0 765832 208760  0   0  0  0  0  0  0  0  0  0  0  402  168  177  0  0 100
 0 0 0 765832 208760  0   0  0  0  0  0  0  0  0  0  0  402  153  178  0  0 100
 0 0 0 765832 208760  0  18  0  0  0  0  0  0  0  0  0  407  165  186  0  0 100</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2243526"></a></h3></div></div></div>

<div class="task"><a name="enudw"></a><p class="title"><b>How to Display System Event Information (<span><strong class="command">vmstat
-s</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Run the <span><strong class="command">vmstat -s</strong></span> command to show how many
system events have taken place since the last time the system was booted. </p>
<pre class="screen">$ <strong class="userinput"><code>vmstat -s</code></strong>
        0 swap ins
        0 swap outs
        0 pages swapped in
        0 pages swapped out
   522586 total address trans. faults taken
    17006 page ins
       25 page outs
    23361 pages paged in
       28 pages paged out
    45594 total reclaims
    45592 reclaims from free list
        0 micro (hat) faults
   522586 minor (as) faults
    16189 major faults
    98241 copy-on-write faults
   137280 zero fill page faults
    45052 pages examined by the clock daemon
        0 revolutions of the clock hand
       26 pages freed by the clock daemon
     2857 forks
       78 vforks
     1647 execs
 34673885 cpu context switches
 65943468 device interrupts
   711250 traps
 63957605 system calls
  3523925 total name lookups (cache hits 99%)
    92590 user   cpu
    65952 system cpu
 16085832 idle   cpu
     7450 wait   cpu</pre>
</li></ul></div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2243586"></a></h3></div></div></div>

<div class="task"><a name="enudm"></a><p class="title"><b>How to Display Swapping Statistics (<span><strong class="command">vmstat
-S</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Run <span><strong class="command">vmstat -S</strong></span> to show swapping statistics.</p>
<pre class="screen">$ <strong class="userinput"><code>vmstat -S</code></strong>
kthr      memory            page            disk          faults      cpu
 r b w   swap  free  si  so pi po fr de sr dd f0 s1 --   in   sy   cs us sy id
 0 0 0 862608 364792  0   0  1  0  0  0  0  0  0  0  0  406  394  213  1  0 99</pre>
<p>The swapping statistics fields are described in the following list.
For a description of the other fields, see <span class="olink">Table 20&#8211;1</span>.</p>
<div class="variablelist"><dl><dt><span class="term">
<code class="literal">si</code>
</span></dt><dd>
<p>Average number of LWPs that are swapped in per second</p>
</dd><dt><span class="term">
<code class="literal">so</code>
</span></dt><dd>
<p>Number of whole processes that are swapped out</p>
</dd></dl></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>The <code class="filename">vmstat</code> command truncates the output of <code class="literal">si</code> and <code class="literal">so</code> fields. Use the <code class="filename">sar</code> command
to display a more accurate accounting of swap statistics.</p>
</div>
</li></ul></div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2243777"></a></h3></div></div></div>

<div class="task"><a name="enudt"></a><p class="title"><b>How to Display Interrupts Per Device (<span><strong class="command">vmstat
-i</strong></span>)</b></p><div class="procedure"><ul><li>
<p>Run the <span><strong class="command">vmstat -i</strong></span> command to show the number
of interrupts per device.</p>
</li></ul></div><div class="example"><a name="spmonitor-3"></a><p class="title"><b>Example 20.2. Displaying Interrupts Per Device</b></p>


<p>The following example shows output from the <span><strong class="command">vmstat -i</strong></span> command. </p>
<pre class="screen">$ <strong class="userinput"><code>vmstat -i</code></strong>
interrupt         total     rate
--------------------------------
clock          52163269      100
esp0            2600077        4
zsc0              25341        0
zsc1              48917        0
cgsixc0             459        0
lec0             400882        0
fdc0                 14        0
bppc0                 0        0
audiocs0              0        0
--------------------------------
Total          55238959      105</pre>
</div></div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch20.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch20.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch20s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 20. Monitoring System Performance (Tasks) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Displaying Disk Utilization Information (<span><strong class="command">iostat</strong></span>)</td></tr></table></div></body></html>
