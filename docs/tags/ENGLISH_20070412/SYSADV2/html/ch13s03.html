<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Checking the Size of Files</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="ch13.html" title="Chapter 13. Managing Disk Use (Tasks)"><link rel="prev" href="ch13s02.html" title="Displaying Information About Files and
Disk Space"><link rel="next" href="ch13s04.html" title="Checking the Size of Directories"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Checking the Size of Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13s02.html">Prev</a> </td><th width="60%" align="center">Chapter 13. Managing Disk Use (Tasks)</th><td width="20%" align="right"> <a accesskey="n" href="ch13s04.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sysresdiskuse-3"></a>Checking the Size of Files</h2></div></div></div>

<p>
<a class="indexterm" name="sysresdiskuse-ix2197"></a>
<a class="indexterm" name="sysresdiskuse-ix2198"></a>
<a class="indexterm" name="sysresdiskuse-ix2199"></a>
<a class="indexterm" name="sysresdiskuse-ix2200"></a>
<a class="indexterm" name="sysresdiskuse-ix2201"></a>
<a class="indexterm" name="sysresdiskuse-ix2202"></a>
<a class="indexterm" name="sysresdiskuse-ix2203"></a>
<a class="indexterm" name="sysresdiskuse-ix2204"></a>
<a class="indexterm" name="sysresdiskuse-ix2205"></a>
<a class="indexterm" name="sysresdiskuse-ix2206"></a>You can check the size of files and sort them by using the <span><strong class="command">ls</strong></span> command. You can find files that exceed a size limit by using the <span><strong class="command">find</strong></span> command. For more information, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">ls</span>
(
1
)
</span>
</span> and <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">find</span>
(
1
)
</span>
</span> man
pages.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>If you run out of space in the <code class="filename">/var</code> directory,
do not symbolically link the <code class="filename">/var</code> directory to a directory
on a file system with more disk space.  Doing so, even as a temporary measure,
might cause problems for certain Solaris daemon processes and utilities.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2188671"></a></h3></div></div></div>

<div class="task"><a name="sysresdiskuse-40204"></a><p class="title"><b>How to Display the Size of Files</b></p><a class="indexterm" name="indexterm-156"></a><a class="indexterm" name="indexterm-157"></a><div class="procedure"><ol type="1"><li><a name="sysresdiskuse-step-5"></a>
<p>
<a class="indexterm" name="sysresdiskuse-ix2207"></a>Change to the directory where the files you want to check are
located. </p>
</li><li><a name="sysresdiskuse-step-6"></a>
<p>Display the size of the files.</p>
<pre class="screen">$ <strong class="userinput"><code>ls</code></strong> [<strong class="userinput"><code>-lh</code></strong>] [<strong class="userinput"><code>-s</code></strong>]</pre>
<div class="variablelist"><dl><dt><span class="term">
<code class="option">
l</code>
</span></dt><dd>
<p>Displays a list of files and directories in long format, showing
the sizes in bytes. (See the example that follows.)</p>
</dd><dt><span class="term">
<code class="option">
h</code>
</span></dt><dd>
<p>Scales file sizes and directory sizes into Kbytes, Mbytes,
Gbytes, or Tbytes when the file or directory size is larger than 1024 bytes.
This option also modifies the output displayed by the <code class="option">
o</code>, <code class="option">
n</code>, <code class="option">
@</code>, and <code class="option">
g</code> options to display
file or directory sizes in the new format. For more information, see the<span class="olink">
<span class="citerefentry">
<span class="refentrytitle">ls</span>
(
1
)
</span>
</span> man page.</p>
</dd><dt><span class="term">
<code class="option">
s</code>
</span></dt><dd>
<p>Displays a list of the files and directories, showing the
sizes in blocks.</p>
</dd></dl></div>
</li></ol></div><div class="example"><a name="emjel"></a><p class="title"><b>Example 13.4. Displaying the Size of Files</b></p>


<p>The following example shows that the <code class="filename">lastlog</code> and <code class="filename">messages</code> files are larger than the other files in the <code class="filename">/var/adm</code> directory. </p>
<pre class="screen">$ <strong class="userinput"><code>cd /var/adm</code></strong>
$ <strong class="userinput"><code>ls -lh</code></strong>
total 148
drwxrwxr-x   5 adm      adm          512 Nov 26 09:39 acct/
-rw-------   1 uucp     bin            0 Nov 26 09:25 aculog
drwxr-xr-x   2 adm      adm          512 Nov 26 09:25 exacct/
-r--r--r--   1 root     other       342K Nov 26 13:56 lastlog
drwxr-xr-x   2 adm      adm          512 Nov 26 09:25 log/
-rw-r--r--   1 root     root         20K Nov 26 13:55 messages
drwxr-xr-x   2 adm      adm          512 Nov 26 09:25 passwd/
drwxrwxr-x   2 adm      sys          512 Nov 26 09:39 sa/
drwxr-xr-x   2 root     sys          512 Nov 26 09:49 sm.bin/
-rw-rw-rw-   1 root     bin            0 Nov 26 09:25 spellhist
drwxr-xr-x   2 root     sys          512 Nov 26 09:25 streams/
-rw-r--r--   1 root     bin         3.3K Nov 26 13:56 utmpx
-rw-r--r--   1 root     root           0 Nov 26 10:17 vold.log
-rw-r--r--   1 adm      adm          19K Nov 26 13:56 wtmpx</pre>
<p>
<a class="indexterm" name="sysresdiskuse-ix2210"></a>
<a class="indexterm" name="sysresdiskuse-ix2211"></a>
<a class="indexterm" name="sysresdiskuse-ix2212"></a>
<a class="indexterm" name="sysresdiskuse-ix2214"></a>
<a class="indexterm" name="sysresdiskuse-ix2215"></a>
<a class="indexterm" name="sysresdiskuse-ix2216"></a>
<a class="indexterm" name="sysresdiskuse-ix2217"></a>
<a class="indexterm" name="sysresdiskuse-ix2218"></a>
<a class="indexterm" name="sysresdiskuse-ix2219"></a>
<a class="indexterm" name="sysresdiskuse-ix2220"></a>The following example shows that the <code class="filename">lpsched.1</code> file
uses two blocks.          </p>
<pre class="screen">$ <strong class="userinput"><code>cd /var/lp/logs</code></strong>
$ <strong class="userinput"><code>ls -s</code></strong>
total 2            0 lpsched       2 lpsched.1</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2189183"></a></h3></div></div></div>

<div class="task"><a name="sysresdiskuse-24569"></a><p class="title"><b>How to Find Large Files</b></p><div class="procedure"><ol type="1"><li><a name="sysresdiskuse-step-9"></a>
<p>
<a class="indexterm" name="sysresdiskuse-ix2222"></a>
<a class="indexterm" name="sysresdiskuse-ix2223"></a>
<a class="indexterm" name="indexterm-158"></a>Change to the directory that you want to search.  </p>
</li><li><a name="sysresdiskuse-step-10"></a>
<p>
<a class="indexterm" name="sysresdiskuse-ix2224"></a>Display the size of files in blocks from largest to smallest.
 </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>If the characters or columns for the files are <span class="emphasis"><em>different</em></span>, use the following command to sort a list of files by block size,
from largest to smallest.</p>
<pre class="screen">$ <strong class="userinput"><code>ls -l | sort +4rn | more</code></strong>
</pre>
<p>Note that this command sorts files in a list by the character that is
in the fourth field, starting from the left.</p>
</li><li>
<p>If the characters or columns for the files are the <span class="emphasis"><em>same</em></span>, use the following command to sort a list of files by block size,
from largest to smallest.</p>
<pre class="screen">$ <strong class="userinput"><code>ls -s | sort -nr | more</code></strong>
</pre>
<p>Note that this command sorts files in a list, starting with the left
most character.</p>
</li></ul></div>
</li></ol></div><div class="example"><a name="gbebt"></a><p class="title"><b>Example 13.5. Finding Large Files (Sorting by the Fifth Field's Character)</b></p>


<pre class="screen">$ <strong class="userinput"><code>cd /var/adm</code></strong>
$ <strong class="userinput"><code>ls -l | sort +4rn | more</code></strong>
-r--r--r--   1 root     root     4568368 Oct 17 08:36 lastlog
-rw-r--r--   1 adm      adm       697040 Oct 17 12:30 pacct.9
-rw-r--r--   1 adm      adm       280520 Oct 17 13:05 pacct.2
-rw-r--r--   1 adm      adm       277360 Oct 17 12:55 pacct.4
-rw-r--r--   1 adm      adm       264080 Oct 17 12:45 pacct.6
-rw-r--r--   1 adm      adm       255840 Oct 17 12:40 pacct.7
-rw-r--r--   1 adm      adm       254120 Oct 17 13:10 pacct.1
-rw-r--r--   1 adm      adm       250360 Oct 17 12:25 pacct.10
-rw-r--r--   1 adm      adm       248880 Oct 17 13:00 pacct.3
-rw-r--r--   1 adm      adm       247200 Oct 17 12:35 pacct.8
-rw-r--r--   1 adm      adm       246720 Oct 17 13:15 pacct.0
-rw-r--r--   1 adm      adm       245920 Oct 17 12:50 pacct.5
-rw-r--r--   1 root     root      190229 Oct  5 03:02 messages.1
-rw-r--r--   1 adm      adm       156800 Oct 17 13:17 pacct
-rw-r--r--   1 adm      adm       129084 Oct 17 08:36 wtmpx</pre>
</div><div class="example"><a name="emjem"></a><p class="title"><b>Example 13.6. Finding Large Files (Sorting by the Left Most Character)</b></p>


<p>
<a class="indexterm" name="sysresdiskuse-ix2226"></a>
<a class="indexterm" name="sysresdiskuse-ix2227"></a>
<a class="indexterm" name="sysresdiskuse-ix2225"></a>In the following example, the <code class="filename">lastlog</code> and <code class="filename">messages</code> files are the largest files in the <code class="filename">/var/adm</code> directory.
  </p>
<pre class="screen">$ <strong class="userinput"><code>cd /var/adm</code></strong>
$ <strong class="userinput"><code>ls -s | sort -nr | more</code></strong>
  48 lastlog
  30 messages
  24 wtmpx
  18 pacct
   8 utmpx
   2 vold.log
   2 sulog
   2 sm.bin/
   2 sa/
   2 passwd/
   2 pacct1
   2 log/
   2 acct/
   0 spellhist
   0 aculog
total 144</pre>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2189514"></a></h3></div></div></div>

<div class="task"><a name="enmwy"></a><p class="title"><b>How to Find Files That Exceed a Specified Size Limit</b></p><div class="procedure"><ul><li>
<p>To locate and display the names of files that exceed a specified
size, use the <span><strong class="command">find</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>find</code></strong> <em class="replaceable"><code>directory</code></em> <strong class="userinput"><code>-size</code></strong> <strong class="userinput"><code>+</code></strong>
<em class="replaceable"><code>nnn</code></em> </pre>
<div class="variablelist"><dl><dt><span class="term">
<em class="replaceable"><code>directory</code></em>
</span></dt><dd>
<p>Identifies the directory that you want to search.</p>
</dd><dt><span class="term">
<code class="option">
size</code> <span><strong class="command">+</strong></span>
<em class="replaceable"><code>nnn</code></em>
</span></dt><dd>
<p>Is a number of 512-byte blocks. Files that exceed this size
are listed.</p>
</dd></dl></div>
</li></ul></div><div class="example"><a name="sysresdiskuse-12"></a><p class="title"><b>Example 13.7. Finding Files That Exceed a Specified Size Limit</b></p>


<p>
<a class="indexterm" name="sysresdiskuse-ix2233"></a>
<a class="indexterm" name="sysresdiskuse-ix2234"></a>
<a class="indexterm" name="sysresdiskuse-ix2235"></a>
<a class="indexterm" name="sysresdiskuse-ix2236"></a>
<a class="indexterm" name="sysresdiskuse-ix2237"></a>The following example shows how to find files larger than 400
blocks in the current working directory. The <code class="option">
print</code> option
displays the output of the <span><strong class="command">find</strong></span> command.</p>
<pre class="screen">$ <strong class="userinput"><code>find . -size +400 -print</code></strong>
./Howto/howto.doc
./Howto/howto.doc.backup
./Howto/howtotest.doc
./Routine/routineBackupconcepts.doc
./Routine/routineIntro.doc
./Routine/routineTroublefsck.doc
./.record
./Mail/pagination
./Config/configPrintadmin.doc
./Config/configPrintsetup.doc
./Config/configMailappx.doc
./Config/configMailconcepts.doc
./snapshot.rs</pre>
</div></div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch13.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch13s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Displaying Information About Files and
Disk Space </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Checking the Size of Directories</td></tr></table></div></body></html>
