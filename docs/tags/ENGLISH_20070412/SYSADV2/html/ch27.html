<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 27. Troubleshooting Printing
Problems (Tasks)</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="prev" href="ch26s03.html" title="Recognizing Problems With Network Access"><link rel="next" href="ch27s02.html" title="Troubleshooting Printing Problems"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 27. Troubleshooting Printing
Problems (Tasks)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch26s03.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch27s02.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="tsprint-34397"></a>Chapter 27. Troubleshooting Printing
Problems (Tasks)</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="ch27.html#tsprint-78101">Tips on Troubleshooting Printing Problems</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch27.html#tsprint-10970">Troubleshooting No Output (Nothing Prints)</a></span></dt><dt><span class="sect2"><a href="ch27.html#tsprint-75415">Troubleshooting Incorrect Output</a></span></dt><dt><span class="sect2"><a href="ch27.html#tsprint-22552">Troubleshooting Hung <span><strong class="command">lp</strong></span> Commands</a></span></dt><dt><span class="sect2"><a href="ch27.html#tsprint-23911">Troubleshooting Idle (Hung) Printers</a></span></dt><dt><span class="sect2"><a href="ch27.html#tsprint-11">Troubleshooting Conflicting Status Messages</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch27s02.html">Troubleshooting Printing Problems</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch27s02.html#tsprint-33410">How to Troubleshoot No Printer Output</a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2271124"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2271619"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2271786"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2272866"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2273102"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2274813"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#tsprint-18877">How to Troubleshoot an Idle (Hung) Printer</a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2274983"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#tsprint-155">How to Check for Print Filtering</a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2275152"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2275233"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2275401"></a></span></dt><dt><span class="sect2"><a href="ch27s02.html#id2275543"></a></span></dt></dl></dd></dl></div>





<div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tsprint-78101"></a>Tips on Troubleshooting Printing Problems</h2></div></div></div>

<p>
<a class="indexterm" name="tsprint-ix5492"></a>Sometimes after setting up a printer, you find that nothing prints.
Or, you might get a little farther in the process: something prints, but it
is not what you expect, the output is incorrect or illegible. Then, when you
get past these problems, other problems might occur, such as:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>
<span><strong class="command">lp</strong></span> commands hanging</p>
</li><li>
<p>Printers becoming idle</p>
</li><li>
<p>Users getting conflicting messages</p>
</li></ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>Although many of the suggestions in this chapter are relevant
to parallel printers, they are geared toward the more common serial printers.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="tsprint-10970"></a>Troubleshooting No Output (Nothing Prints)</h3></div></div></div>

<p>When nothing prints, there are three general areas to check:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The printer hardware</p>
</li><li>
<p>The network</p>
</li><li>
<p>The LP print service</p>
</li></ul></div>
<p>If you get a banner page, but nothing else, this is a special case of
incorrect output. See <span class="olink">Troubleshooting Incorrect Output</span>.</p>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tsprint-70699"></a>Check the Hardware</h4></div></div></div>

<p>The hardware is the first area to check. As obvious as it sounds, you
should make sure that the printer is plugged in and turned on. In addition,
you should refer to the manufacturer's documentation for information about
hardware settings. Some computers use hardware switches that change the characteristics
of a printer port.</p>
<p>The printer hardware includes the printer, the cable that connects it
to the computer, and the ports into which the cable plugs at each end. As
a general approach, you should work your way from the printer to the computer.
Check the printer. Check where the cable connects to the printer. Check the
cable. Check where the cable connects to the computer.</p>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tsprint-24407"></a>Check the Network</h4></div></div></div>

<p>Problems are more common with remote print requests that are going from
a print client to a print server. You should make sure that network access
between the print server and print clients is enabled.</p>
<p>If the network is running the Network Information Service Plus (NIS+),
see  for instructions to enable
access between systems. If the network is not running the Network Information
Service (NIS) or NIS+, before you set up print servers and print clients,
include the Internet address and system name for each client system in the <code class="filename">/etc/hosts</code> file on the print server. Also, the IP address and system
name for the print server must be included in the <code class="filename">/etc/hosts</code> file
of each print client system.</p>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tsprint-25533"></a>Check the LP Print Service</h4></div></div></div>

<p>
<a class="indexterm" name="tsprint-ix5494"></a>For printing to work, the LP scheduler must be running on both
the print server and print client. If it is not running, you need to start
it using the <code class="filename">/usr/lib/lp/lpsched</code> command. If you have
trouble starting the scheduler, see <span class="olink">How to Restart the Print Scheduler</span>.  </p>
<p>In addition to the scheduler running, a printer must be enabled and
accepting requests before it will produce any output. If the LP print service
is not accepting requests for a printer, the submitted print requests are
rejected. Usually, in that instance, the user receives a warning message after
submitting a print request. If the LP print service is not enabled for a printer,
print requests remain queued on the system until the printer is enabled.</p>
<p>In general, you should analyze a printing problem as follows:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Follow the path of the print request step-by-step.</p>
</li><li>
<p>Examine the status of the LP print service at each step.</p>
<div class="itemizedlist"><ul type="circle"><li>
<p>Is the configuration correct?</p>
</li><li>
<p>Is the printer accepting requests?</p>
</li><li>
<p>Is the printer enabled to process requests?</p>
</li></ul></div>
</li><li>
<p>
<a class="indexterm" name="tsprint-ix5497"></a>
<a class="indexterm" name="tsprint-ix5498"></a>If the request is hanging on transmission, set up <code class="literal">lpr.debug</code> in <code class="filename">syslog.conf</code> to display the flow.   </p>
</li><li>
<p>
<a class="indexterm" name="tsprint-ix5500"></a>If the request is hanging locally, examine the <code class="filename">lpsched</code> log
(<code class="filename">/var/lp/logs/lpsched</code>). </p>
</li><li>
<p>If the request is hanging locally, have notification of the
printer device errors (faults) mailed to you, and re-enable the printer.</p>
</li></ul></div>
<p>The procedures found in <span class="olink">Troubleshooting Printing Problems</span> use this strategy to help you troubleshoot various
problems with the LP print service.</p>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="tsprint-75415"></a>Troubleshooting Incorrect Output</h3></div></div></div>

<p>If the printer and the print service software are not configured correctly,
the printer might print, but it might provide output that is not what you
expect.</p>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tsprint-1"></a>Check the Printer Type and File Content Type</h4></div></div></div>

<a class="indexterm" name="tsprint-ix5502"></a>
<a class="indexterm" name="tsprint-ix5503"></a>
<p>If you used the wrong printer type when you set up the printer with
the LP print service, inappropriate printer control characters can be sent
to the printer. The results are unpredictable: nothing might print, the output
might be illegible, or the output might be printed in the wrong character
set or font.</p>
<p>If you specified an incorrect file content type, the banner page might
print, but that is all. The file content types specified for a printer indicate
the types of files the printer can print directly, without filtering. When
a user sends a file to the printer, the file is sent directly to the printer
without any attempt to filter it. The problem occurs if the printer cannot
handle the file content type.</p>
<p>When setting up print clients, you increase the chance for a mistake
because the file content types must be correct on both the print server and
the print client. If you set up the print client as recommended with <code class="literal">any</code> as the file content type, files are sent directly to the print
server and the print server determines the need for filtering. Therefore,
the file content types have to be specified correctly only on the server.</p>
<p>You can specify a file content on the print client to off-load filtering
from the server to the client, but the content type must be supported on the
print server. </p>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tsprint-2"></a>Check the <span><strong class="command">stty</strong></span> Settings</h4></div></div></div>

<a class="indexterm" name="tsprint-ix5504"></a>
<p>Many formatting problems can result when the default <span><strong class="command">stty</strong></span> (standard
terminal) settings do not match the settings required by the printer. The
following sections describe what happens when some of the settings are incorrect.</p>
<div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="tsprint-60536"></a>Wrong Baud Settings</h5></div></div></div>

<p>
<a class="indexterm" name="tsprint-ix5505"></a>
<a class="indexterm" name="tsprint-ix5506"></a>When the baud setting of the computer does not match the baud
setting of the printer, usually you get some output, but it does not look
like the file you submitted for printing. Random characters are displayed,
with an unusual mixture of special characters and undesirable spacing. The
default for the LP print service is 9600 baud.   </p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>If a printer is connected by a parallel port, the baud setting
is irrelevant.</p>
</div>
</div>
<div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="tsprint-3"></a>Wrong Parity Setting</h5></div></div></div>

<p>
<a class="indexterm" name="tsprint-ix5508"></a>
<a class="indexterm" name="tsprint-ix5509"></a>Some printers use a parity bit to ensure that data received for
printing has not been garbled during transmission. The parity bit setting
for the computer and the printer must match. If they do not match, some characters
either will not be printed at all, or will be replaced by other characters.
In this case, the output looks approximately correct. The word spacing is
all right and many letters are in their correct place. The LP print service
does not set the parity bit by default.   </p>
</div>
<div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="tsprint-4"></a>Wrong Tab Settings</h5></div></div></div>

<p>
<a class="indexterm" name="tsprint-ix5511"></a>
<a class="indexterm" name="tsprint-ix5512"></a>If the file contains tabs, but the printer expects no tabs, the
printed output might contain the complete contents of the file, but the text
might be jammed against the right margin. Also, if the tab settings for the
printer are incorrect, the text might not have a left margin, it might run
together, it might be concentrated to a portion of the page, or it might be
incorrectly double-spaced. The default is for tabs to be set every eight spaces.
 </p>
</div>
<div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="tsprint-5"></a>Wrong Return Setting</h5></div></div></div>

<a class="indexterm" name="tsprint-ix5513"></a>
<p>If the output is double-spaced, but it should be single-spaced, either
the tab settings for the printer are incorrect or the printer is adding a
line feed after each return. The LP print service adds a return before each
line feed, so the combination causes two line feeds.</p>
<p>If the print zigzags down the page, the <code class="literal">stty</code> option <code class="literal">onlcr</code> that sends a return before every line feed is not set. The <code class="literal">stty=onlcr</code> option is set by default, but you might have cleared
it while trying to solve other printing problems.</p>
</div>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="tsprint-22552"></a>Troubleshooting Hung <span><strong class="command">lp</strong></span> Commands</h3></div></div></div>

<a class="indexterm" name="tsprint-ix5515"></a>
<a class="indexterm" name="tsprint-ix5516"></a>
<p>If you type any of the <span><strong class="command">lp</strong></span> commands (such as <span><strong class="command">lpsystem</strong></span>, <span><strong class="command">lpadmin</strong></span>, or <span><strong class="command">lpstat</strong></span>) and
nothing happens (no error message, status information, or prompt is displayed),
chances are something is wrong with the LP scheduler. Such a problem can usually
be resolved by stopping and restarting the LP scheduler. See <span class="olink">How to Stop the Print Scheduler</span> for instructions.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="tsprint-23911"></a>Troubleshooting Idle (Hung) Printers</h3></div></div></div>

<a class="indexterm" name="tsprint-ix5518"></a>
<p>You might find a printer that is idle, even though it has print requests
queued to it. A printer might seem idle when it should not be for one of the
following reasons:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The current print request is being filtered.</p>
</li><li>
<p>The printer has a fault.</p>
</li><li>
<p>Networking problems might be interrupting the printing process.</p>
</li></ul></div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tsprint-6"></a>Check the Print Filters</h4></div></div></div>

<p>Slow print filters run in the background to avoid tying up the printer.
A print request that requires filtering will not print until it has been filtered.</p>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tsprint-7"></a>Check Printer Faults</h4></div></div></div>

<p>When the LP print service detects a fault, printing resumes automatically,
but not immediately. The LP print service waits about five minutes before
trying again, and continues trying until a request is printed successfully.
You can force a retry immediately by enabling the printer.</p>
</div>
<div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tsprint-8"></a>Check Network Problems</h4></div></div></div>

<p>When printing files over a network, you might encounter the following
types of problems:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Requests sent to print servers might back up in the client
system (local) queue.</p>
</li><li>
<p>Requests sent to print servers might back up in the print
server (remote) queue.</p>
</li></ul></div>
<div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="tsprint-9"></a>Print Requests Backed Up in the Local Queue</h5></div></div></div>

<p>Print requests submitted to a print server might back up in the client
system queue for the following reasons:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The print server is down.</p>
</li><li>
<p>The printer is disabled on the print server.</p>
</li><li>
<p>The network between the print client and print server is down.</p>
</li><li>
<p>Underlying network software was not set up properly.</p>
</li></ul></div>
<p>While you are tracking the source of the problem, you should stop new
requests from being added to the queue. See <span class="olink">How to Accept or Reject Print Requests for a Printer</span> for more information.</p>
</div>
<div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="tsprint-10"></a>Print Requests Backed Up in the Remote Queue</h5></div></div></div>

<p>If print requests back up in the print server queue, the printer has
probably been disabled. When a printer is accepting requests, but not processing
them, the requests are queued to print. Unless there is a further problem,
once the printer is enabled, the print requests in the queue should print.</p>
</div>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="tsprint-11"></a>Troubleshooting Conflicting Status Messages</h3></div></div></div>

<a class="indexterm" name="tsprint-ix5521"></a>
<p>A user might enter a print request and be notified that the client system
has accepted it, then receive mail from the print server that the print request
has been rejected. These conflicting messages might occur for the following
reasons:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>The print client might be accepting requests, while the print
server is rejecting requests.</p>
</li><li>
<p>The definition of the printer on the print client might not
match the definition of that printer on the print server. More specifically,
the definitions of the print job components, like filters, character sets,
print wheels, or forms are not the same on the client and server systems.</p>
</li></ul></div>
<p>You should check that identical definitions of these job components
are registered on both the print clients and print servers so that local users
can access printers on the print servers.</p>
</div>
</div>

</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch26s03.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch27s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Recognizing Problems With Network Access </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Troubleshooting Printing Problems</td></tr></table></div></body></html>
