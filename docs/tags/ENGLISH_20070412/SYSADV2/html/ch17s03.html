<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>System Accounting Files</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="ch17.html" title="Chapter 17. System Accounting (Reference)"><link rel="prev" href="ch17s02.html" title="Daily Accounting Reports"><link rel="next" href="ch18.html" title="Chapter 18. Managing System Performance
(Overview)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">System Accounting Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch17s02.html">Prev</a> </td><th width="60%" align="center">Chapter 17. System Accounting (Reference)</th><td width="20%" align="right"> <a accesskey="n" href="ch18.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sysresacctref-24103"></a>System Accounting Files</h2></div></div></div>

<p>
<a class="indexterm" name="sysresacctref-ix3176"></a>
<a class="indexterm" name="sysresacctref-ix3177"></a>
<a class="indexterm" name="sysresacctref-ix3178"></a>
<a class="indexterm" name="sysresacctref-ix3179"></a>
<a class="indexterm" name="sysresacctref-ix3180"></a>
<a class="indexterm" name="sysresacctref-ix3181"></a>
<a class="indexterm" name="sysresacctref-ix3182"></a>
<a class="indexterm" name="sysresacctref-ix3183"></a>
<a class="indexterm" name="sysresacctref-ix3184"></a>
<a class="indexterm" name="sysresacctref-ix3186"></a>
<a class="indexterm" name="sysresacctref-ix3187"></a>
<a class="indexterm" name="sysresacctref-ix3188"></a>The <code class="filename">/var/adm</code> directory contains the active data collection
files. The following table describes the accounting files in this directory.     
  </p>
<div class="table"><a name="sysresacctref-tbl-7"></a><p class="title"><b>Table 17.7. Files in the <code class="filename">/var/adm</code> Directory</b></p>


<table summary="Files in the /var/adm Directory" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>File</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="filename">dtmp</code>
</p>
</td><td>
<p>Output from the <span><strong class="command">acctdusg</strong></span> program </p>
</td></tr><tr><td>
<p>
<code class="filename">fee</code> </p>
</td><td>
<p>Output from the <span><strong class="command">chargefee</strong></span> program, which are the ASCII <span><strong class="command">tacct</strong></span> records </p>
</td></tr><tr><td>
<p>
<code class="filename">pacct</code>
</p>
</td><td>
<p>Active process accounting file </p>
</td></tr><tr><td>
<p>
<code class="filename">pacct</code>
<em class="replaceable"><code>n</code></em> </p>
</td><td>
<p>Process accounting files that are switched by running the <span><strong class="command">turnacct</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">Spacct</code>
<em class="replaceable"><code>n</code></em>.<em class="replaceable"><code>MMDD</code></em> </p>
</td><td>
<p>Process accounting files for <em class="replaceable"><code>MMDD</code></em> during execution
of the <span><strong class="command">runacct</strong></span> script</p>
</td></tr></tbody></table>
</div>
<p>
<a class="indexterm" name="sysresacctref-ix3190"></a>
<a class="indexterm" name="sysresacctref-ix3191"></a>
<a class="indexterm" name="sysresacctref-ix3192"></a>
<a class="indexterm" name="sysresacctref-ix3194"></a>
<a class="indexterm" name="sysresacctref-ix3195"></a>
<a class="indexterm" name="sysresacctref-ix3196"></a>
<a class="indexterm" name="sysresacctref-ix3197"></a>
<a class="indexterm" name="sysresacctref-ix3198"></a>
<a class="indexterm" name="sysresacctref-ix3199"></a>
<a class="indexterm" name="sysresacctref-ix3200"></a>
<a class="indexterm" name="sysresacctref-ix3201"></a>
<a class="indexterm" name="sysresacctref-ix3202"></a>
<a class="indexterm" name="sysresacctref-ix3203"></a>
<a class="indexterm" name="sysresacctref-ix3205"></a>
<a class="indexterm" name="sysresacctref-ix3206"></a>
<a class="indexterm" name="sysresacctref-ix3207"></a>
<a class="indexterm" name="sysresacctref-ix3208"></a>
<a class="indexterm" name="sysresacctref-ix3209"></a>
<a class="indexterm" name="sysresacctref-ix3214"></a>
<a class="indexterm" name="sysresacctref-ix3215"></a>
<a class="indexterm" name="sysresacctref-ix3216"></a>
<a class="indexterm" name="sysresacctref-ix3217"></a>
<a class="indexterm" name="sysresacctref-ix3218"></a>
<a class="indexterm" name="sysresacctref-ix3219"></a>
<a class="indexterm" name="sysresacctref-ix3220"></a>
<a class="indexterm" name="sysresacctref-ix3221"></a>
<a class="indexterm" name="sysresacctref-ix3222"></a>
<a class="indexterm" name="sysresacctref-ix3225"></a>
<a class="indexterm" name="sysresacctref-ix3230"></a>
<a class="indexterm" name="sysresacctref-ix3231"></a>
<a class="indexterm" name="sysresacctref-ix3232"></a>
<a class="indexterm" name="sysresacctref-ix3233"></a>
<a class="indexterm" name="sysresacctref-ix3234"></a>
<a class="indexterm" name="sysresacctref-ix3237"></a>
<a class="indexterm" name="sysresacctref-ix3238"></a>
<a class="indexterm" name="sysresacctref-ix3239"></a>
<a class="indexterm" name="sysresacctref-ix3240"></a>
<a class="indexterm" name="sysresacctref-ix3241"></a>
<a class="indexterm" name="sysresacctref-ix3242"></a>
<a class="indexterm" name="sysresacctref-ix3243"></a>
<a class="indexterm" name="sysresacctref-ix3244"></a>
<a class="indexterm" name="sysresacctref-ix3245"></a>
<a class="indexterm" name="sysresacctref-ix3246"></a>
<a class="indexterm" name="sysresacctref-ix3247"></a>
<a class="indexterm" name="sysresacctref-ix3251"></a>The <code class="filename">/var/adm/acct</code> directory contains the <code class="filename">nite</code>, <code class="filename">sum</code>, and <code class="filename">fiscal</code> directories.
These directories contain the actual data collection files. For example, the <code class="filename">nite</code> directory contains files that are reused daily by the <span><strong class="command">runacct</strong></span> script. A brief summary of the files in the <code class="filename">/var/adm/acct/nite</code> directory follows.                             </p>
<div class="table"><a name="sysresacctref-tbl-8"></a><p class="title"><b>Table 17.8. Files in the <code class="filename">/var/adm/acct/nite</code> Directory</b></p>


<table summary="Files in the /var/adm/acct/nite Directory" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>File</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="filename">active</code> </p>
</td><td>
<p>Used by the <span><strong class="command">runacct</strong></span> script to record progress and print warning
and error messages</p>
</td></tr><tr><td>
<p>
<code class="filename">active</code>.<em class="replaceable"><code>MMDD</code></em> </p>
</td><td>
<p>Same as the <code class="filename">active</code> file after the <span><strong class="command">runacct</strong></span> script
detects an error </p>
</td></tr><tr><td>
<p>
<code class="filename">cms</code> </p>
</td><td>
<p>ASCII total command summary used by the <span><strong class="command">prdaily</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">ctacct.</code>
<em class="replaceable"><code>MMDD</code></em> </p>
</td><td>
<p>Connect accounting records in <code class="filename">tacct.h</code> format </p>
</td></tr><tr><td>
<p>
<code class="filename">ctmp</code> </p>
</td><td>
<p>Output of <span><strong class="command">acctcon1</strong></span> program, which consists of connect session
records in <code class="filename">ctmp.h</code> format (<span><strong class="command">acctcon1</strong></span> and <span><strong class="command">acctcon2</strong></span> are provided for compatibility purposes) </p>
</td></tr><tr><td>
<p>
<code class="filename">daycms</code> </p>
</td><td>
<p>ASCII daily command summary used by the <span><strong class="command">prdaily</strong></span> script</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="indexterm-221"></a>
<code class="filename">daytacct</code> </p>
</td><td>
<p>Total accounting records for one day in <code class="filename">tacct.h</code> format </p>
</td></tr><tr><td>
<p>
<code class="filename">disktacct</code> </p>
</td><td>
<p>Disk accounting records in <code class="filename">tacct.h</code> format, created by the <span><strong class="command">dodisk</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">fd2log</code> </p>
</td><td>
<p>Diagnostic output during execution of the <span><strong class="command">runacct</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">lastdate</code> </p>
</td><td>
<p>Last day the <span><strong class="command">runacct</strong></span> script executed (in <span><strong class="command">date +%m%d</strong></span> format) </p>
</td></tr><tr><td>
<p>
<code class="filename">lineuse</code>
</p>
</td><td>
<p>
<code class="literal">tty</code> line usage report used by the <span><strong class="command">prdaily</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">lock</code> </p>
</td><td>
<p>Used to control serial use of the <span><strong class="command">runacct</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">log</code> </p>
</td><td>
<p>Diagnostic output from the <span><strong class="command">acctcon</strong></span> program</p>
</td></tr><tr><td>
<p>
<code class="filename">log</code>
<em class="replaceable"><code>.MMDD</code></em> </p>
</td><td>
<p>Same as the <code class="filename">log</code> file after the <span><strong class="command">runacct</strong></span> script
detects an error </p>
</td></tr><tr><td>
<p>
<code class="filename">owtmpx</code> </p>
</td><td>
<p>Previous day's <span><strong class="command">wtmpx</strong></span> file </p>
</td></tr><tr><td>
<p>
<code class="filename">reboots</code> </p>
</td><td>
<p>Beginning and ending dates from the <code class="filename">wtmpx</code> file, and a listing
of reboots </p>
</td></tr><tr><td>
<p>
<code class="filename">statefile</code> </p>
</td><td>
<p>Used to record current state during execution of the <span><strong class="command">runacct</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">tmpwtmp</code> </p>
</td><td>
<p>
<code class="filename">wtmpx</code> file corrected by the <span><strong class="command">wtmpfix</strong></span> program</p>
</td></tr><tr><td>
<p>
<code class="filename">wtmperror</code> </p>
</td><td>
<p>Contains <span><strong class="command">wtmpfix</strong></span> error messages</p>
</td></tr><tr><td>
<p>
<code class="filename">wtmperror</code> <em class="replaceable"><code>MMDD</code></em> </p>
</td><td>
<p>Same as the <code class="filename">wtmperror</code> file after the <span><strong class="command">runacct</strong></span> script
detects an error </p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="sysresacctref-ix3248"></a>
<a class="indexterm" name="sysresacctref-ix3249"></a>
<code class="filename">wtmp</code>
<em class="replaceable"><code>MMDD</code></em>  </p>
</td><td>
<p>The <span><strong class="command">runacct</strong></span> script's copy of the <code class="filename">wtmpx</code> file </p>
</td></tr></tbody></table>
</div>
<p>
<a class="indexterm" name="sysresacctref-ix3253"></a>
<a class="indexterm" name="sysresacctref-ix3255"></a>
<a class="indexterm" name="sysresacctref-ix3256"></a>
<a class="indexterm" name="sysresacctref-ix3270"></a>
<a class="indexterm" name="sysresacctref-ix3271"></a>
<a class="indexterm" name="sysresacctref-ix3257"></a>
<a class="indexterm" name="sysresacctref-ix3258"></a>
<a class="indexterm" name="sysresacctref-ix3259"></a>
<a class="indexterm" name="sysresacctref-ix3260"></a>
<a class="indexterm" name="sysresacctref-ix3261"></a>
<a class="indexterm" name="sysresacctref-ix3262"></a>
<a class="indexterm" name="sysresacctref-ix3264"></a>
<a class="indexterm" name="sysresacctref-ix3265"></a>
<a class="indexterm" name="sysresacctref-ix3266"></a>
<a class="indexterm" name="sysresacctref-ix3267"></a>
<a class="indexterm" name="sysresacctref-ix3268"></a>
<a class="indexterm" name="sysresacctref-ix3269"></a>
<a class="indexterm" name="sysresacctref-ix3235"></a>
<a class="indexterm" name="sysresacctref-ix3236"></a>The <code class="filename">sum</code> directory contains the cumulative summary
files updated by the <span><strong class="command">runacct</strong></span> script and used by the <span><strong class="command">monacct</strong></span> script. The following table summarizes the files in the <code class="filename">/var/adm/acct/sum</code> directory.           </p>
<div class="table"><a name="sysresacctref-65833"></a><p class="title"><b>Table 17.9. Files in the <code class="filename">/var/adm/acct/sum</code> Directory</b></p>


<table summary="Files in the /var/adm/acct/sum Directory" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>File</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="filename">cms</code> </p>
</td><td>
<p>Total command summary file for current fiscal period in binary format </p>
</td></tr><tr><td>
<p>
<code class="filename">cmsprev</code> </p>
</td><td>
<p>Command summary file without latest update </p>
</td></tr><tr><td>
<p>
<code class="filename">daycms</code> </p>
</td><td>
<p>Command summary file for the day's usage in internal summary format </p>
</td></tr><tr><td>
<p>
<code class="filename">loginlog</code> </p>
</td><td>
<p>Record of last date each user logged in; created by the <span><strong class="command">lastlogin</strong></span> script
and used in the <span><strong class="command">prdaily</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">rprt.</code>
<em class="replaceable"><code>MMDD</code></em> </p>
</td><td>
<p>Saved output of <span><strong class="command">prdaily</strong></span> script</p>
</td></tr><tr><td>
<p>
<code class="filename">tacct</code> </p>
</td><td>
<p>Cumulative total accounting file for current fiscal period </p>
</td></tr><tr><td>
<p>
<code class="filename">tacctprev</code>
</p>
</td><td>
<p>Same as the <code class="filename">tacct</code> file without latest update </p>
</td></tr><tr><td>
<p>
<code class="filename">tacct.</code>
<em class="replaceable"><code>MMDD</code></em> </p>
</td><td>
<p>Total accounting file for <em class="replaceable"><code>MMDD</code></em> </p>
</td></tr></tbody></table>
</div>
<p>
<a class="indexterm" name="sysresacctref-ix3273"></a>
<a class="indexterm" name="sysresacctref-ix3286"></a>
<a class="indexterm" name="sysresacctref-ix3290"></a>
<a class="indexterm" name="sysresacctref-ix3291"></a>
<a class="indexterm" name="sysresacctref-ix3292"></a>
<a class="indexterm" name="sysresacctref-ix3277"></a>
<a class="indexterm" name="sysresacctref-ix3278"></a>
<a class="indexterm" name="sysresacctref-ix3280"></a>
<a class="indexterm" name="sysresacctref-ix3281"></a>
<a class="indexterm" name="sysresacctref-ix3282"></a>
<a class="indexterm" name="sysresacctref-ix3283"></a>
<a class="indexterm" name="sysresacctref-ix3284"></a>
<a class="indexterm" name="sysresacctref-ix3293"></a>
<a class="indexterm" name="sysresacctref-ix3294"></a>
<a class="indexterm" name="sysresacctref-ix3295"></a>
<a class="indexterm" name="sysresacctref-ix3302"></a>
<a class="indexterm" name="sysresacctref-ix3303"></a>
<a class="indexterm" name="sysresacctref-ix3305"></a>The fiscal directory contains periodic summary files that are created
by the <span><strong class="command">monacct</strong></span> script. The following table summarizes the files
in the <code class="filename">/var/adm/acct/fiscal</code> directory.                </p>
<div class="table"><a name="sysresacctref-75194"></a><p class="title"><b>Table 17.10. Files in the <code class="filename">/var/adm/acct/fiscal</code> Directory</b></p>


<table summary="Files in the /var/adm/acct/fiscal Directory" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>File</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="filename">cms</code>
<em class="replaceable"><code>n</code></em> </p>
</td><td>
<p>Total command summary file for fiscal period <em class="replaceable"><code>n</code></em> in
internal summary format</p>
</td></tr><tr><td>
<p>
<code class="filename">fiscrpt</code>
<em class="replaceable"><code>n</code></em>
</p>
</td><td>
<p>Report similar to <code class="filename">rprt</code>
<em class="replaceable"><code>n</code></em> for
fiscal period <em class="replaceable"><code>n</code></em> </p>
</td></tr><tr><td>
<p>
<code class="filename">tacct</code>
<em class="replaceable"><code>n</code></em> </p>
</td><td>
<p>Total accounting file for fiscal period <em class="replaceable"><code>n</code></em> </p>
</td></tr></tbody></table>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="sysresacctref-9"></a>Files Produced by the <span><strong class="command">runacct</strong></span> Script</h3></div></div></div>

<p>
<a class="indexterm" name="sysresacctref-ix3285"></a>
<a class="indexterm" name="sysresacctref-ix3307"></a>
<a class="indexterm" name="sysresacctref-ix3308"></a>
<a class="indexterm" name="sysresacctref-ix3309"></a>
<a class="indexterm" name="sysresacctref-ix3310"></a>
<a class="indexterm" name="sysresacctref-ix3311"></a>
<a class="indexterm" name="sysresacctref-ix3312"></a>
<a class="indexterm" name="sysresacctref-ix3314"></a>
<a class="indexterm" name="sysresacctref-ix3315"></a>
<a class="indexterm" name="sysresacctref-ix3316"></a>
<a class="indexterm" name="sysresacctref-ix3317"></a>
<a class="indexterm" name="sysresacctref-ix3318"></a>
<a class="indexterm" name="sysresacctref-ix3319"></a>
<a class="indexterm" name="sysresacctref-ix3320"></a>
<a class="indexterm" name="sysresacctref-ix3321"></a>
<a class="indexterm" name="sysresacctref-ix3322"></a>
<a class="indexterm" name="sysresacctref-ix3325"></a>The following table summarizes the most useful files produced by the <span><strong class="command">runacct</strong></span> script. These files are found in the <code class="filename">/var/adm/acct</code> directory.
            </p>
<div class="table"><a name="sysresacctref-31080"></a><p class="title"><b>Table 17.11. Files Created by the <span>runacct</span> Script</b></p>


<table summary="Files Created by the runacct Script" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>File </p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<a class="indexterm" name="indexterm-222"></a>
<code class="filename">nite/daytacct</code> </p>
</td><td>
<p>The total accounting file for the day in <code class="filename">tacct.h</code> format.</p>
</td></tr><tr><td>
<p>
<a class="indexterm" name="indexterm-223"></a>
<a class="indexterm" name="indexterm-224"></a>
<code class="filename">nite/lineuse</code> </p>
</td><td>
<p>The <span><strong class="command">runacct</strong></span> script calls the <span><strong class="command">acctcon</strong></span> program
to gather data on terminal line usage from the <code class="filename">/var/adm/acct/nite/tmpwtmp</code> file and writes the data to the <code class="filename">/var/adm/acct/nite/lineuse</code> file.
The <span><strong class="command">prdaily</strong></span> script uses this data to report line usage. This report
is especially useful for detecting bad lines. If the ratio between the number of logouts
to logins is greater than three to one, the line is very likely failing. </p>
</td></tr><tr><td>
<p>
<code class="filename">sum/cms</code> </p>
</td><td>
<p>This file is the accumulation of each day's command summaries. The accumulation
restarts when the <code class="filename">monacct</code> script is executed. The ASCII version
is the <code class="filename">nite/cms</code> file. </p>
</td></tr><tr><td>
<p>
<code class="filename">sum/daycms</code> </p>
</td><td>
<p>The <span><strong class="command">runacct</strong></span> script calls the <span><strong class="command">acctcms</strong></span> program
to process the commands used during the day to create the Daily Command Summary report
and stores the data in the <code class="filename">/var/adm/acct/sum/daycms</code> file. The
ASCII version is the <code class="filename">/var/adm/acct/nite/daycms</code> file.</p>
</td></tr><tr><td>
<p>
<code class="filename">sum/loginlog</code> </p>
</td><td>
<p>The <span><strong class="command">runacct</strong></span> script calls the <span><strong class="command">lastlogin</strong></span> script
to update the last date logged in for the logins in the <code class="filename">/var/adm/acct/sum/loginlog</code> file. The <span><strong class="command">lastlogin</strong></span> command also removes from this
file any logins that are no longer valid.</p>
</td></tr><tr><td>
<p>
<code class="filename">sum/rprt.</code>
<em class="replaceable"><code>MMDD</code></em> </p>
</td><td>
<p>Each execution of the <span><strong class="command">runacct</strong></span> script saves a copy of the
daily report that was printed by the <span><strong class="command">prdaily</strong></span> script. </p>
</td></tr><tr><td>
<p>
<code class="filename">sum/tacct</code> </p>
</td><td>
<p>Contains the accumulation of each day's <code class="filename">nite/daytacct</code> data
and is used for billing purposes. The <span><strong class="command">monacct</strong></span> script restarts accumulating
this data each month or fiscal period.</p>
</td></tr></tbody></table>
</div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch17s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch17.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch18.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Daily Accounting Reports </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 18. Managing System Performance
(Overview)</td></tr></table></div></body></html>
