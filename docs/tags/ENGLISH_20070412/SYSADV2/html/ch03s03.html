<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Setting Up a Print Server</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="ch03.html" title="Chapter 3. Setting Up Printers (Tasks)"><link rel="prev" href="ch03s02.html" title="Starting Solaris Print Manager"><link rel="next" href="ch03s04.html" title="Setting Up a Print Client"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Setting Up a Print Server</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s02.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Setting Up Printers (Tasks)</th><td width="20%" align="right"> <a accesskey="n" href="ch03s04.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="printsetup-20070"></a>Setting Up a Print Server</h2></div></div></div>

<a class="indexterm" name="printsetup-ix274"></a>
<a class="indexterm" name="printsetup-ix275"></a>
<p>When you add an attached printer or a network printer to a system, the printer
is made accessible to the local system. The system on which you install the printer
becomes the <span class="emphasis"><em>print server</em></span>.</p>
<p>The following procedure describes how to use Solaris Print Manager to add a
new attached printer with the expanded printer support that is the default in this
release.</p>
<p>
<a class="indexterm" name="indexterm-33"></a>For overview information about the new or changed Solaris Print Manager
features in this release, see <span class="olink">What's New in Printing?</span>.</p>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2117152"></a></h3></div></div></div>

<div class="task"><a name="ermly"></a><p class="title"><b>How to Add a New Attached Printer by Using Solaris Print Manager</b></p><div class="tasksummary">
<p>The printer definitions that you can assign with Solaris Print Manager include
the use of PPD files. The <code class="literal">Use PPD files</code> option is available in
the Print Manager drop-down menu in Solaris Print Manager. This default option enables
you to select the printer make, model, and driver when adding new printer.</p>
<p>This procedure shows you how to add a new attached printer by using Solaris
Print Manager with the Use PPD files default option selected. To add a new attached
printer without PPD files, you must first deselect this option in the Print Manager
drop-down menu. For overview information about new or modified Solaris Print Manager
features in this release, see <span class="olink">What's New in Printing?</span>.</p>
</div><div class="procedure"><a name="ermlp"></a><ol type="1"><li>
<p>Select the system to be the print server.</p>
</li><li>
<p>Connect the printer to the print server. Turn on the power to the printer.</p>
<p>Consult the printer vendor's installation documentation for information
about the hardware switches and cabling requirements. </p>
</li><li>
<p>Start Solaris Print Manager on the print server where you connected the
printer.</p>
<p>For instructions, see <span class="olink">How to Start Solaris Print Manager</span>.</p>
</li><li>
<p>Select New Attached Printer from the Printer menu.</p>
<p>The New
Attached Printer window is displayed.</p>
</li><li>
<p>Fill in the required fields with the appropriate information.</p>
<p>
<a class="indexterm" name="indexterm-34"></a>
<a class="indexterm" name="indexterm-35"></a>
<a class="indexterm" name="indexterm-36"></a>If you need information to complete a field, click the Help button.</p>
<p>For example, to add a new attached printer with PPD files, provide the appropriate
information in the following fields:</p>
<pre class="screen">Printer Name:
Description:
Printer Port:
Printer Make:
Printer Model:
Printer Driver:
Fault Notification:
Options:
Default Printer
Always Print Banner
User Access List:</pre>
<p>The Printer Server field is filled in by Solaris Print Manager.</p>
<p>To add a new attached printer without PPD files, provide the appropriate information
in the following fields:</p>
<pre class="screen">Printer Name:
Description:
Printer Port:
Printer Type:
File Contents:
Fault Notification:
Options:
Default Printer
Always Print Banner
User Access List:</pre>
<p>The Printer Server field is filled in by Solaris Print Manager.</p>
</li><li>
<p>Click OK.</p>
</li><li>
<p>Verify that the printer has been installed. Check for the new printer
entry in the Solaris Print Manager main window.</p>
</li><li>
<p>Verify that the printer can print requests.</p>
<pre class="screen">$ <strong class="userinput"><code>lp -d</code></strong> <em class="replaceable"><code>printer-name</code></em> <em class="replaceable"><code>filename</code></em>
</pre>
</li><li>
<p>Exit Solaris Print Manager.</p>
<p>Choose Exit from the Print Manager
Menu.</p>
</li></ol></div><div class="taskrelated"><a name="id2117445"></a><p class="title"><b></b></p>

<font color="red">&lt;title&gt;Verifying That the New Solaris Print Manager Feature Is
Working&lt;/title&gt;</font>
<p>When you are using Solaris Print Manager to create or modify a print queue,
choose the <code class="literal">files</code> option as the name service. Select the Printer
-&gt; New Attached Printer option from the menu. If the drop-down menu displays printer
make and printer model, the new feature is working.</p>
</div><div class="taskrelated"><a name="id2117466"></a><p class="title"><b></b></p>
<font color="red">&lt;title&gt;Verifying That the RIP Feature Is Working&lt;/title&gt;</font>
<p>The RIP enables you to print to printers that do not have resident PostScript
processing  capabilities.</p>
<p>To ensure that the RIP feature is working you need to create a new print queue
by selecting one of the make/model combinations that is available in the New Attached
Printer and New Network Printer screens used by Solaris Print Manager. Then, try printing
to the new printer. If the output of the print job is recognizable, the RIP feature
is working. If the output of the print job is unrecognizable, then the RIP feature
is not working.</p>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2117493"></a></h3></div></div></div>

<div class="task"><a name="ertru"></a><p class="title"><b>How to Add a New Attached Printer by Using LP Print Service
Commands</b></p><div class="tasksummary">
<p>
<a class="indexterm" name="indexterm-37"></a>
<a class="indexterm" name="indexterm-38"></a>
<a class="indexterm" name="indexterm-39"></a>
<a class="indexterm" name="indexterm-40"></a>This procedure describes how to add a new attached printer with expanded
printer support. The <code class="option">
n</code> option to the <span><strong class="command">lpadmin</strong></span> command
enables you to specify a PPD file when adding a new attached printer or modifying
an existing attached printer. Two examples follow this procedure. The first example
shows you how to add a new attached printer with PPD files. The second example shows
you how to add a new attached printer without PPD files.</p>
</div><div class="procedure"><a name="ertrv"></a><ol type="1"><li>
<p>Connect the printer to the system, and turn  on the power to the printer.</p>
<p>Consult the printer vendor's installation documentation for information
about the hardware switches and cabling requirements.</p>
</li><li>
<p>Collect the information that is required to configure an attached printer
with PPD files.</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Printer name and port device</p>
</li><li>
<p>File content type</p>
</li><li>
<p>PPD file</p>
</li></ul></div>
<p>To determine the PPD file that the printer will use, first define the printer
make, model, and driver.</p>
<p>For overview information about using PPD files
when adding a printer or modifying an existing printer by using LP print service commands,
see <span class="olink">What's New in Printing?</span>.</p>
</li><li>
<p>Define the printer name, port device, file content type, and PPD file
that the printer will use.</p>
<p>When using PPD files, the file content type
is typically PostScript.</p>
<ol type="a">
<li>
<p>Specify the printer name and the port device that the printer will use.</p>
<pre class="screen"># <strong class="userinput"><code>lpadmin -p <em class="replaceable"><code>printer-name</code></em> -v /dev/printers/0</code></strong>
</pre>
<p>The device to use is <code class="filename">/dev/printers/0</code>.</p>
</li>
<li>
<p>Specify the interface script that the printer will use.</p>
<pre class="screen"># <strong class="userinput"><code>lpadmin -p <em class="replaceable"><code>printer-name</code></em> -m standard_foomatic</code></strong>
</pre>
</li>
<li>
<p>Specify the file content type and the PPD file that the printer will use.</p>
<pre class="screen"># <strong class="userinput"><code>lpadmin -p <em class="replaceable"><code>printer-name</code></em> -I <em class="replaceable"><code>content-type</code></em> -n /<em class="replaceable"><code>path</code></em>/<em class="replaceable"><code>ppdfile</code></em>
</code></strong>
</pre>
<p>The PPD file that you supply is located in the <code class="filename">/<em class="replaceable"><code>path</code></em>
</code> directory.</p>
</li>
<li>
<p>Specify the printer description.</p>
<pre class="screen"># <strong class="userinput"><code>lpadmin -p <em class="replaceable"><code>printer-name</code></em> -D "<em class="replaceable"><code>printer-description</code></em>"</code></strong>
</pre>
</li>
</ol>
<p>For more information, see the <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">lpadmin</span>
(
1M
)
</span>
</span> man
page.</p>
</li><li>
<p>(Optional) Add filters to the print server.</p>
<pre class="screen"># <strong class="userinput"><code>cd /etc/lp/fd</code></strong>
# <strong class="userinput"><code>for</code></strong> <em class="replaceable"><code>filter</code></em> <strong class="userinput"><code>in *.fd;do</code></strong>
    &gt; <em class="replaceable"><code>name</code></em>
<strong class="userinput"><code>=`basename $</code></strong>
<em class="replaceable"><code>filter</code></em> <strong class="userinput"><code>.fd`</code></strong>
    &gt; <strong class="userinput"><code>lpfilter -f $</code></strong> <em class="replaceable"><code>name</code></em>
<strong class="userinput"><code>-F $</code></strong> <em class="replaceable"><code>filter</code></em>
    &gt; <strong class="userinput"><code>done</code></strong>
</pre>
</li><li>
<p>Enable the printer to accept print requests and to print those requests.</p>
<pre class="screen"># <strong class="userinput"><code>accept</code></strong> <em class="replaceable"><code>printer-name</code></em>
# <strong class="userinput"><code>enable</code></strong> <em class="replaceable"><code>printer-name</code></em>
</pre>
</li><li>
<p>Verify that the printer is correctly configured.</p>
<pre class="screen"># <strong class="userinput"><code>lpstat -p <em class="replaceable"><code>printer-name</code></em> -l</code></strong>
</pre>
<p>The output of the <span><strong class="command">lpstat</strong></span> command will list the PPD file that
you used.</p>
</li></ol></div><div class="example"><a name="ertrx"></a><p class="title"><b>Example 3.1. Adding a New Attached Printer With PPD Files by Using LP Print Service Commands</b></p>


<a class="indexterm" name="indexterm-41"></a>
<p>This example shows how to add a new attached printer with PPD files. The <code class="option">
n</code> option to the <span><strong class="command">lpadmin</strong></span> command enables you to add a new
print queue by specifying PPD files. The following information is used as an example.
The information that you provide will vary:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Printer name: <code class="literal">paper</code>
</p>
</li><li>
<p>Port device: <code class="literal">/dev/printers/0</code>
</p>
</li><li>
<p>File content type: <code class="literal">postscript</code>
</p>
</li><li>
<p>PPD file: <code class="filename">/<em class="replaceable"><code>path</code></em>/Lexmark-Optra_E312-Postscript.ppd.gz</code>
</p>
</li></ul></div>
<pre class="screen"># <strong class="userinput"><code>lpadmin -p paper -v /dev/printers/0</code></strong> <em class="lineannotation"><span class="lineannotation">(1)</span></em>
# <strong class="userinput"><code>lpadmin -p paper -I postscript</code></strong> <em class="lineannotation"><span class="lineannotation">(2)</span></em>
# <strong class="userinput"><code>lpadmin -p paper -m standard_footmatic</code></strong> <em class="lineannotation"><span class="lineannotation">(3)</span></em>
# <strong class="userinput"><code>lpadmin -p paper -n /<em class="replaceable"><code>path</code></em>/Lexmark-Optra_E312-Postscript.ppd.gzmake</code></strong>
<em class="lineannotation"><span class="lineannotation">(4)</span></em>
# <strong class="userinput"><code>lpadmin -p paper -D "Color printer on third floor, rm 3003"</code></strong> <em class="lineannotation"><span class="lineannotation">(5)</span></em>
# <strong class="userinput"><code>cd /etc/lp/fd</code></strong>
# <strong class="userinput"><code>for</code></strong> <em class="replaceable"><code>filter</code></em> <strong class="userinput"><code>in *.fd;do</code></strong> 
   &gt; <em class="replaceable"><code>name</code></em>
<strong class="userinput"><code>=`basename $</code></strong> <em class="replaceable"><code>filter</code></em> <strong class="userinput"><code>.fd`</code></strong>
   &gt; <strong class="userinput"><code>lpfilter -f $</code></strong> <em class="replaceable"><code>name</code></em> <strong class="userinput"><code>-F $</code></strong> <em class="replaceable"><code>filter</code></em> 
   &gt; <strong class="userinput"><code>done</code></strong> <em class="lineannotation"><span class="lineannotation">(6)</span></em>
# <strong class="userinput"><code>accept paper</code></strong>
	destination &#8220;paper&#8221; now accepting requests 
# <strong class="userinput"><code>enable paper</code></strong>	<em class="lineannotation"><span class="lineannotation">(7)</span></em> 
printer &#8220;paper&#8221; now enabled 
# <strong class="userinput"><code>lpstat -p paper</code></strong> <em class="lineannotation"><span class="lineannotation">(8)</span></em>
printer paper is idle. enabled since Feb 28 11:21 2004...</pre>
<div class="orderedlist"><ol type="1"><li>
<p>Defines the printer name and the port device that the printer will
use</p>
</li><li>
<p>Sets the file content types to which the printer can print to directly</p>
</li><li>
<p>Specifies the interface script for utilizing PPD files</p>
</li><li>
<p>Specifies the path to the PPD file and the PPD file name</p>
</li><li>
<p>Adds a description for the printer</p>
</li><li>
<p>Adds print filters to the print server</p>
</li><li>
<p>Accepts print requests for the printer and enables the printer</p>
</li><li>
<p>Verifies that the printer is ready for printing</p>
</li></ol></div>
</div><div class="example"><a name="ertrw"></a><p class="title"><b>Example 3.2. Adding a New Attached Printer Without PPD Files by Using LP Print Service Commands</b></p>


<p>This example shows how to add a new attached printer without PPD files. The
commands in this example must be executed on the print server where the printer is
connected. The following information is used as an example. The information that you
provide will vary:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Printer name: <code class="literal">luna</code>
</p>
</li><li>
<p>Port device: <code class="literal">/dev/term/b</code>
</p>
</li><li>
<p>Printer type: <code class="literal">PS</code>
</p>
</li><li>
<p>File content type: <code class="literal">postscript</code>
</p>
<pre class="screen"># <strong class="userinput"><code>chown lp /dev/term/b</code></strong>
# <strong class="userinput"><code>chmod 600 /dev/term/b</code></strong> <em class="lineannotation"><span class="lineannotation">(1)</span></em>
# <strong class="userinput"><code>lpadmin -p luna -v /dev/term/b</code></strong> <em class="lineannotation"><span class="lineannotation">(2)</span></em>
# <strong class="userinput"><code>lpadmin -p luna -T PS</code></strong> <em class="lineannotation"><span class="lineannotation">(3)</span></em>
# <strong class="userinput"><code>lpadmin -p luna -I postscript</code></strong> <em class="lineannotation"><span class="lineannotation">(4)</span></em>
# <strong class="userinput"><code>lpadmin -p luna -D "Room 1954 ps"</code></strong> <em class="lineannotation"><span class="lineannotation">(5)</span></em>
# <strong class="userinput"><code>cd /etc/lp/fd</code></strong>
# <strong class="userinput"><code>for</code></strong> <em class="replaceable"><code>filter</code></em> <strong class="userinput"><code>in *.fd;do</code></strong> 
   &gt; <em class="replaceable"><code>name</code></em> <strong class="userinput"><code>=`basename $</code></strong> <em class="replaceable"><code>filter</code></em>
<strong class="userinput"><code>.fd`</code></strong>
   &gt; <strong class="userinput"><code>lpfilter -f $</code></strong> <em class="replaceable"><code>name</code></em> <strong class="userinput"><code>-F $</code></strong> <em class="replaceable"><code>filter</code></em>
   &gt; <strong class="userinput"><code>done</code></strong> <em class="lineannotation"><span class="lineannotation">(6)</span></em>
# <strong class="userinput"><code>accept luna</code></strong>
destination &#8220;luna&#8221; now accepting requests 
# <strong class="userinput"><code>enable luna</code></strong> <em class="lineannotation"><span class="lineannotation">(7)</span></em> 
printer &#8220;luna&#8221; now enabled 
# <strong class="userinput"><code>lpstat -p luna</code></strong> <em class="lineannotation"><span class="lineannotation">(8)</span></em>
printer luna is idle.enabled since Feb 28 11:21 2003.available</pre>
</li></ul></div>
<div class="orderedlist"><ol type="1"><li>
<p>Gives <code class="literal">lp</code> ownership and sole access to a port device</p>
</li><li>
<p>Defines the printer name and the port device that the printer will
use</p>
</li><li>
<p>Sets the printer type of the printer</p>
</li><li>
<p>Specifies the file content types to which the printer can print directly</p>
</li><li>
<p>Adds a description for the printer</p>
</li><li>
<p>Adds print filters to the print server</p>
</li><li>
<p>Accepts print requests for the printer and enables the printer</p>
</li><li>
<p>Verifies that the printer is ready for printing</p>
</li></ol></div>
</div><div class="taskrelated">

<div class="itemizedlist"><ul type="disc"><li>
<p>
<span class="olink">How to Add Printer Access by Using Solaris Print Manager</span> to add printer access on a print client.</p>
</li><li>
<p>
<span class="olink">How to Set Up a <code class="filename">.printers</code> File</span> to
allow users to customize printer aliases.</p>
</li></ul></div>
</div></div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Starting Solaris Print Manager </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Setting Up a Print Client</td></tr></table></div></body></html>
