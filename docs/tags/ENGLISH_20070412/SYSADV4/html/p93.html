<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Mail
Alias Files - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p87.html">14.&nbsp;&nbsp;Mail Services (Reference)</a> > <a href="p91.html">Mail Service Programs and Files</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p92.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p94.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="mailrefer-33"></a><h4>Mail
Alias Files</h4>
<p><a name="indexterm-1452"></a>You can use any of the
following files, maps, or tables to
maintain aliases. </p>
<ul><li><p><a href="p93.html#mailrefer-34"><tt>.mailrc</tt> Aliases</a></p>
</li>
<li><p><a href="p93.html#mailrefer-35"><tt>/etc/mail/aliases</tt> File</a></p>
</li>
<li><p><a href="p93.html#mailrefer-36">NIS <tt>aliases</tt> Map</a></p>
</li>
<li><p><a href="p93.html#mailrefer-37">NIS+ <tt>mail_aliases</tt> Table</a></p>
</li>
</ul>
<p>Your method of maintaining aliases
depends on who uses the alias and
who needs to be able to change the
alias. Each type of alias has unique
format requirements.</p>
<p>If you are looking for task
information, refer to <a href="p79.html">Administering Mail Alias Files (Task Map)</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
<a name="mailrefer-34"></a><h5><tt>.mailrc</tt> Aliases</h5>
<p><a name="indexterm-1453"></a><a name="indexterm-1454"></a>Aliases that are listed
in a <tt>.mailrc</tt> file
are accessible only by the user who
owns the file. This restriction enables
users to establish an alias file that
they control and that is usable only
by its owner. Aliases in a <tt>.mailrc</tt> file adhere to the following
format.</p>
<pre>alias <i>aliasname value value value</i> ...</pre><p><i>aliasname</i> is
the name that the user uses when sending
mail, and <i>value</i> is
a valid email address.</p>
<p>If a user establishes a personal
alias for <tt>scott</tt> that
does not match the email address for <tt>scott</tt> in the name service,
an error occurs. Mail is routed to
the wrong person when people try to
reply to mail that is generated by
this user. The only workaround is
to use any of the other aliasing mechanisms.</p>
<a name="mailrefer-35"></a><h5><tt>/etc/mail/aliases</tt> File</h5>
<p><a name="indexterm-1455"></a><a name="indexterm-1456"></a>Any alias that is established
in the <tt>/etc/mail/aliases</tt> file
can be used by any user who knows
the name of the alias and the host
name of the system that contains the
file. Distribution list formats in
a local <tt>/etc/mail/aliases</tt> file
adhere to the following format.</p>
<pre><i>aliasname</i>: <i>value,value,value</i> ...</pre><p><b>aliasname</b> is
the name that the user uses when sending
mail to this alias, and <b>value</b> is
a valid email address.</p>
<p>If your network is not running
a name service, the <tt>/etc/mail/aliases</tt> file of each system should
contain entries for all mail clients.
You can either edit the file on each
system or edit the file on one system
and copy the file to each of the other
systems.</p>
<p>The aliases in the <tt>/etc/mail/aliases</tt> file are stored in text
form. When you edit the <tt>/etc/mail/aliases</tt> file, you need to run
the <tt>newaliases</tt> program.
This program recompiles the database
and makes the aliases available in
binary form to the <tt>sendmail</tt> program.
For task information, refer to <a href="p81.html">How to Set Up a Local Mail Alias File</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>. Otherwise,
you can use the Mailing List feature
in the Solaris Management Console
to administer the mail aliases that
are stored in the local <tt>/etc</tt> files.</p>
<p>You can create aliases for only
local names, such as a current host
name or no host name. For example,
an alias entry for user <tt>ignatz</tt> who
has a mailbox on the system <tt>saturn</tt> would have the following
entry in the <tt>/etc/mail/aliases</tt> file.</p>
<pre>ignatz: ignatz@saturn</pre><p><a name="indexterm-1457"></a>You should create an administrative
account for each mail server.  You
create such an account by assigning
a mailbox on the mail server to <tt>root</tt> and by adding an entry
for <tt>root</tt> to the <tt>/etc/mail/aliases</tt> file.
For example, if the system <tt>saturn</tt> is a mailbox server, add
the entry <tt>root:</tt> <tt>sysadmin@saturn</tt> to the <tt>/etc/mail/aliases</tt> file.
 </p>
<p><a name="indexterm-1458"></a><a name="indexterm-1459"></a>Normally, only the <tt>root</tt> user can edit this
file. However, when you use the Solaris
Management Console, all users in group
14, which is the sysadmin group, can
change the local file. Another option
is to create the following entry.</p>
<pre><i>aliasname</i>: :include:<b>/</b><i>path</i><b>/</b><i>aliasfile</i></pre><p><b>aliasname</b> is
the name that the user uses when sending
mail, and <b>/path/aliasfile</b> is
the full path to the file that contains
the alias list. The alias file should
include email entries, one entry on
each line, and no other notations.</p>
<pre><i>user1@host1</i>
<i>user2@host2</i></pre><p>You can define additional mail
files in <tt>/etc/mail/aliases</tt> to
keep a log or a backup copy.  The
following entry stores all mail that
is sent to <i>aliasname</i> in <i>filename</i>.</p>
<pre><i>aliasname</i>: /home/backup/<i>filename</i></pre><p>You can also route the mail
to another process. The following
example stores a copy of the mail
message in <i>filename</i> and
prints a copy.</p>
<pre><i>aliasname</i>: "|tee -a /home/backup/<i>filename</i> |lp"</pre><p>For a task map, refer to <a href="p79.html">Administering Mail Alias Files (Task Map)</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
<a name="mailrefer-36"></a><h5>NIS <tt>aliases</tt> Map</h5>
<p><a name="indexterm-1460"></a><a name="indexterm-1461"></a><a name="indexterm-1462"></a>All users in a local domain
can use the entries that are in the
NIS <tt>aliases</tt> map.
The reason is that the <tt>sendmail</tt> program
can use the NIS <tt>aliases</tt> map
instead of the local <tt>/etc/mail/aliases</tt> files to determine mailing
addresses. For more information, refer
to the <tt>nsswitch.conf</tt>(4) man
page.</p>
<p>Aliases in the NIS <tt>aliases</tt> map adhere to the following
format.</p>
<pre><i>aliasname</i>: <i>value,value,value</i> ...</pre><p><b>aliasname</b> is
the name that the user uses when sending
mail, and <b>value</b> is
a valid email address.</p>
<p>The NIS <tt>aliases</tt> map
should contain entries for all mail
clients. In general, only the root
user on the NIS master can change
these entries. This type of alias
might not be a good choice for aliases
that are constantly changing. However,
such aliases can be useful if the
aliases point to another alias file,
as in the following syntax example.</p>
<pre><i>aliasname</i>: <i>aliasname@host</i></pre><p><i>aliasname</i> is
the name that the user uses when sending
mail, and <i>host</i> is
the host name for the server that
contains an <tt>/etc/mail/alias</tt> file.</p>
<p>For task information, refer
to <a href="p80.html#mailadmin-93">How to Set Up an NIS <tt>mail.aliases</tt> Map</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
<a name="mailrefer-37"></a><h5>NIS+ <tt>mail_aliases</tt> Table</h5>
<p><a name="indexterm-1463"></a><a name="indexterm-1464"></a><a name="indexterm-1465"></a>The NIS+ <tt>mail_aliases</tt> table contains the names
by which a system or person is known
in the local domain. The <tt>sendmail</tt> program can use the NIS+ <tt>mail_aliases</tt> table, instead
of the local <tt>/etc/mail/aliases</tt> files,
to determine mailing addresses. Refer
to the <tt>aliasadm</tt>(1M) and <tt>nsswitch.conf</tt>(4) man
pages for more information.</p>
<p>Aliases in the NIS+ <tt>mail_aliases</tt> table adhere to the following
format:</p>
<pre><i>alias</i>: <i>expansion</i> # ["<i>options</i>" # "<i>comments</i>"]</pre><p><a href="p93.html#mailrefer-tbl-38">Table 14-12</a> describes
the four columns that are in an NIS+ <tt>mail_aliases</tt> table.</p>
<a name="mailrefer-tbl-38"></a>Table 14-12 Columns
in the NIS+ <tt>mail_aliases</tt> Table<table><tr><th><p>Column</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>alias</tt></p>
</td><td><p>The name of the alias</p>
</td></tr>
<tr><td><p><tt>expansion</tt></p>
</td><td><p>The value of the alias or a
list of aliases as it would appear
in a <tt>sendmail</tt> <tt>/etc/mail/aliases</tt> file</p>
</td></tr>
<tr><td><p><tt>options</tt></p>
</td><td><p>The column that is reserved
for future use</p>
</td></tr>
<tr><td><p><tt>comments</tt></p>
</td><td><p>The column for comments about
an individual alias</p>
</td></tr>
</table><p>The NIS+ <tt>mail_aliases</tt> table
should contain entries for all mail
clients. You can list, create, modify,
and delete entries in the NIS+ <tt>aliases</tt> table with the <tt>aliasadm</tt> command. To use the <tt>aliasadm</tt> command, you must
be a member of the NIS+ group that
owns the <tt>aliases</tt> table.
For task information, refer to <a href="p79.html">Administering Mail Alias Files (Task Map)</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>. Alternately,
you can use the Solaris Management
Console to administer the NIS+ mail
aliases.</p>
<hr>
<p><b>Note - </b>If you are creating a
new NIS+ <tt>aliases</tt> table,
you must initialize the table before
you create the entries. If the table
exists, no initialization is needed.</p>
<hr>
<a name="mailrefer-39"></a><h4><tt>.forward</tt> Files</h4>
<p><a name="indexterm-1466"></a><a name="indexterm-1467"></a>Users can create a <tt>.forward</tt> file in their
home directories that <tt>sendmail</tt>,
along with other programs, can use
to redirect mail or send mail. Refer
to the following topics.</p>
<ul><li><p><a href="p93.html#mailrefer-97">Situations to Avoid</a></p>
</li>
<li><p><a href="p94.html">Controls for <tt>.forward</tt> files</a></p>
</li>
<li><p><a href="p94.html#mailrefer-99"><tt>.forward.</tt><i>hostname</i> File</a></p>
</li>
<li><p><a href="p94.html#mailrefer-100"><tt>.forward+</tt><i>detail</i> File</a></p>
</li>
</ul>
<p>For a task map, refer to <a href="p84.html#mailadmin-264">Administering <tt>.forward</tt> Files (Task Map)</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
<a name="mailrefer-97"></a><h5>Situations
to Avoid</h5>
<p>The following list describes
some situations that you can avoid
or easily fix.</p>
<ul><li><p>If mail is not being
delivered to the expected address,
check the user's <tt>.forward</tt> file.
The user might have put the <tt>.forward</tt> file in the home directory
of <tt>host1</tt>, which
forwards mail to <tt>user@host2</tt>.
When the mail arrives at <tt>host2</tt>, <tt>sendmail</tt> checks for <tt>user</tt> in the NIS or NIS+ aliases
and sends the message back to <tt>user@host1</tt>. This routing results in
a loop and more bounced mail.</p>
</li>
<li><p>To avoid security
problems, never put <tt>.forward</tt> files
in the <tt>root</tt> and <tt>bin</tt> accounts. If necessary,
forward the mail by using the <tt>aliases</tt> file instead.</p>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p92.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p94.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

