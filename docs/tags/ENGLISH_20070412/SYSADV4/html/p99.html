<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Functions
That Distinguish <tt>sendmail.cf</tt> From <tt>submit.cf</tt> - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p87.html">14.&nbsp;&nbsp;Mail Services (Reference)</a> > <a href="p98.html#mailrefer-105">Changes From Version 8.12 of <tt>sendmail</tt></a> > <a href="p98.html#mailrefer-106"><tt>submit.cf</tt> Configuration File From Version 8.12 of <tt>sendmail</tt></a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p98.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p100.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="mailrefer-107"></a><h5>Functions
That Distinguish <tt>sendmail.cf</tt> From <tt>submit.cf</tt></h5>
<p>The <tt>sendmail.cf</tt> configuration
file is for the daemon mode. When
using this file, <tt>sendmail</tt> is
acting as a mail transfer agent (MTA),
which is started by <tt>root</tt>.</p>
<pre>/usr/lib/sendmail -L sm-mta -bd -q1h</pre><p>See the following list of other
distinguishing functions for <tt>sendmail.cf</tt>:</p>
<ul><li><p><a name="indexterm-1522"></a>By default, <tt>sendmail.cf</tt> accepts SMTP connections
on ports 25 and 587.</p>
</li>
<li><p>By default, <tt>sendmail.cf</tt> runs the main queue, <tt>/var/spool/mqueue</tt>.</p>
</li>
</ul>
<a name="mailrefer-108"></a><h5>Functional
Changes From Version 8.12 of <tt>sendmail</tt></h5>
<p>With the addition of <tt>submit.cf</tt>, the following functional
changes have occurred:</p>
<ul><li><p>Starting with version
8.12 of <tt>sendmail</tt>,
only <tt>root</tt> can
run the mail queue. For further details,
refer to the changes that are described
in the <tt>mailq</tt>(1) man
page. For new task information, refer
to <a href="p83.html">Administering the Queue Directories (Task Map)</a>. </p>
</li>
<li><p>The mail-submission
program mode runs without <tt>root</tt> privilege,
which might prevent <tt>sendmail</tt> from
having access to certain files (such
as the <tt>.forward</tt> files).
Therefore, the <tt>-bv</tt> option
for <tt>sendmail</tt> could
give the user misleading output. No
workaround is available.</p>
</li>
<li><p>Prior to <tt>sendmail</tt> version 8.12, if you were
not running <tt>sendmail</tt> in
daemon mode, you would only prevent
the delivery of inbound mail. Starting
with <tt>sendmail</tt> version
8.12, if you are not running the <tt>sendmail</tt> daemon with the
default configuration, you also prevent
the delivery of outbound mail. The
client queue runner (also known as
the mail submission program) must
be able to submit mail to the daemon
on the local SMTP port. If the client
queue runner tries to open an SMTP
session with the local host and the
daemon is not listening on the SMTP
port, the mail remains in the queue.
The default configuration does run
a daemon, so this problem does not
occur if you are using the default
configuration. However, if you have
disabled your daemon, refer to <a href="p78.html">Managing Mail Delivery by Using an Alternate Configuration</a> for a way to
resolve this problem.</p>
</li>
</ul>
<a name="mailrefer-109"></a><h4>Additional
or Deprecated Command-Line Options
From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1523"></a><a name="indexterm-1524"></a><a name="indexterm-1525"></a>The following table describes
additional or deprecated command-line
options for <tt>sendmail</tt>.
Other command-line options are described
in the <tt>sendmail</tt>(1M) man
page.</p>
<a name="mailrefer-tbl-200"></a>Table 14-19 Additional
or Deprecated Command-Line Options
From Version 8.12 of <tt>sendmail</tt><table><tr><th><p>Option</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><a name="indexterm-1526"></a><tt>-Ac</tt></p>
</td><td><p>Indicates that you want to use
the configuration file, <tt>submit.cf</tt>, even if the operation
mode does not indicate an initial
mail submission. For more information
about <tt>submit.cf</tt>,
refer to <a href="p98.html#mailrefer-106"><tt>submit.cf</tt> Configuration File From Version 8.12 of <tt>sendmail</tt></a>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1527"></a><tt>-Am</tt></p>
</td><td><p>Indicates that you want to use
the configuration file, <tt>sendmail.cf</tt>, even if the operation
mode indicates an initial mail submission.
For more information, refer to <a href="p98.html#mailrefer-106"><tt>submit.cf</tt> Configuration File From Version 8.12 of <tt>sendmail</tt></a>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1528"></a><tt>-bP</tt></p>
</td><td><p>Indicates that you are printing
the number of entries in each queue.</p>
</td></tr>
<tr><td><p><a name="indexterm-1529"></a><tt>-G</tt></p>
</td><td><p>Indicates that the message that
is being submitted from the command
line is for relaying, not for initial
submission. The message is rejected
if the addresses are not fully qualified.
No canonicalization is done.  As is
noted in the Release Notes that are
part of the <tt>sendmail</tt> distribution
on <a href="ftp://ftp.sendmail.org">ftp://ftp.sendmail.org</a>,
improperly formed messages might be
rejected in future releases.</p>
</td></tr>
<tr><td><p><a name="indexterm-1530"></a><tt>-L</tt> <i>tag</i></p>
</td><td><p>Sets the identifier that is
used for syslog messages to the supplied <i>tag</i>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1531"></a><tt>-q[!]I</tt> <i>substring</i></p>
</td><td><p>Processes only jobs that contain
this <i>substring</i> of
one of the recipients. When <tt>!</tt> is
added, the option processes only jobs
that do not have this <i>substring</i> of one of the recipients.</p>
</td></tr>
<tr><td><p><a name="indexterm-1532"></a><tt>-q[!]R</tt> <i>substring</i></p>
</td><td><p>Processes only jobs that contain
this <i>substring</i> of
the queue ID. When <tt>!</tt> is
added, the option processes only jobs
that do not have this <i>substring</i> of the queue ID.</p>
</td></tr>
<tr><td><p><a name="indexterm-1533"></a><tt>-q[!]S</tt> <i>substring</i></p>
</td><td><p>Processes only jobs that contain
this <i>substring</i> of
the sender. When <tt>!</tt> is
added, the option processes only jobs
that do not have this <i>substring</i> of the sender.</p>
</td></tr>
<tr><td><p><a name="indexterm-1534"></a><tt>-qf</tt></p>
</td><td><p>Processes saved messages in
the queue once, without using the <tt>fork</tt> system call, and runs
the process in the foreground. Refer
to the <tt>fork</tt>(2) man
page.</p>
</td></tr>
<tr><td><p><a name="indexterm-1535"></a><tt>-qG</tt><i>name</i></p>
</td><td><p>Processes only the messages
in the <i>name</i> queue
group.</p>
</td></tr>
<tr><td><p><a name="indexterm-1536"></a><tt>-qp</tt><i>time</i></p>
</td><td><p>Processes saved messages in
the queue at a specific interval of
time with a single child that is forked
for each queue. The child sleeps between
queue runs. This new option is similar
to the <tt>-q</tt><i>time</i>, which periodically
forks a child to process the queue.</p>
</td></tr>
<tr><td><p><a name="indexterm-1537"></a><tt>-U</tt></p>
</td><td><p>As is noted in the Release Notes
that are part of the <tt>sendmail</tt> distribution
on <a href="ftp://ftp.sendmail.org">ftp://ftp.sendmail.org</a>,
this option is not available as of
version 8.12. Mail user agents should
use the <tt>-G</tt> argument.</p>
</td></tr>
</table><a name="mailrefer-110"></a><h4>Additional
Arguments for the <tt>PidFile</tt> and <tt>ProcessTitlePrefix</tt> Options From Version 8.12
of <tt>sendmail</tt></h4>
<p><a name="indexterm-1538"></a><a name="indexterm-1539"></a><a name="indexterm-1540"></a><a name="indexterm-1541"></a><a name="indexterm-1542"></a><a name="indexterm-1543"></a><a name="indexterm-1544"></a>The following table describes
additional macro-processed arguments
for the <tt>PidFile</tt> and <tt>ProcessTitlePrefix</tt> options.
For more information about these options,
see the <tt>sendmail</tt>(1M) man
page.</p>
<a name="mailrefer-tbl-201"></a>Table 14-20 Arguments
for the <tt>PidFile</tt> and <tt>ProcessTitlePrefix</tt> Options<table><tr><th><p>Macro</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>${daemon_addr}</tt></p>
</td><td><p>Provides daemon address (for
example, 0.0.0.0)</p>
</td></tr>
<tr><td><p><tt>${daemon_family}</tt></p>
</td><td><p>Provides daemon family (for
example, <tt>inet</tt>,
and <tt>inet6</tt>)</p>
</td></tr>
<tr><td><p><tt>${daemon_info}</tt></p>
</td><td><p>Provides daemon information
(for example,                 SMTP+queueing@00:30:00)</p>
</td></tr>
<tr><td><p><tt>${daemon_name}</tt></p>
</td><td><p>Provides daemon name (for example,
MSA)</p>
</td></tr>
<tr><td><p><tt>${daemon_port}</tt></p>
</td><td><p>Provides daemon port (for example,
25)</p>
</td></tr>
<tr><td><p><tt>${queue_interval}</tt></p>
</td><td><p>Provides queue run interval
(for example, 00:30:00)</p>
</td></tr>
</table><a name="mailrefer-111"></a><h4>Additional
Defined Macros From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1545"></a><a name="indexterm-1546"></a>The following table describes
additional macros that are reserved
for use by the <tt>sendmail</tt> program.
The macros' values are assigned internally.
For more information, refer to the <tt>sendmail</tt>(1M) man
page.</p>
<a name="mailrefer-tbl-202"></a>Table 14-21 Additional
Defined Macros for <tt>sendmail</tt><table><tr><th><p>Macro</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>${addr_type}</tt></p>
</td><td><p>Identifies the current address
as an envelope sender or a recipient
address.</p>
</td></tr>
<tr><td><p><tt>${client_resolve}</tt></p>
</td><td><p>Holds the result of the resolve
call for <tt>${client_name}</tt>: <tt>OK</tt>, <tt>FAIL</tt>, <tt>FORGED</tt>, or <tt>TEMP</tt>.</p>
</td></tr>
<tr><td><p><tt>${deliveryMode}</tt></p>
</td><td><p>Specifies the current delivery
mode <tt>sendmail</tt> is
using instead of the value of the <tt>DeliveryMode</tt> option.</p>
</td></tr>
<tr><td><p><tt>${dsn_notify}</tt>, <tt>${dsn_envid}</tt>, <tt>${dsn_ret}</tt></p>
</td><td><p>Holds the corresponding DSN
parameter values.</p>
</td></tr>
<tr><td><p><tt>${if_addr}</tt></p>
</td><td><p>Provides the interface's address
for the incoming connection if the
interface does not belong to the loopback
net. This macro is especially useful
for virtual hosting.</p>
</td></tr>
<tr><td><p><tt>${if_addr_out}</tt>, <tt>${if_name_out}</tt>, <tt>${if_family_out}</tt></p>
</td><td><p>Avoids the reuse of <tt>${if_addr}</tt>. Holds the following values
respectively.</p>
<p>The address of the interface
for the outgoing connection</p>
<p>The host name of the interface
for the outgoing connection</p>
<p>The family of the interface
for the outgoing connection</p>
</td></tr>
<tr><td><p><tt>${if_name}</tt></p>
</td><td><p>Provides the interface's host
name for the incoming connection and
is especially useful for virtual hosting. </p>
</td></tr>
<tr><td><p><tt>${load_avg}</tt></p>
</td><td><p>Checks and reports the current
average number of jobs in the run
queue.</p>
</td></tr>
<tr><td><p><tt>${msg_size}</tt></p>
</td><td><p>Holds the value of the message
size (<tt>SIZE=parameter</tt>)
in an ESMTP dialogue before the message
has been collected. Thereafter, the
macro holds the message size as computed
by <tt>sendmail</tt> and
is used in <tt>check_compat</tt>.
For information about <tt>check_compat</tt>, refer to <a href="p99.html#mailrefer-tbl-206">Table 14-25</a>.</p>
</td></tr>
<tr><td><p><tt>${nrcpts}</tt></p>
</td><td><p>Holds the number of validated
recipients.</p>
</td></tr>
<tr><td><p><tt>${ntries}</tt></p>
</td><td><p>Holds the number of delivery
attempts.</p>
</td></tr>
<tr><td><p><tt>${rcpt_mailer}</tt>, <tt>${rcpt_host}</tt>, <tt>${rcpt_addr}</tt>, <tt>${mail_mailer}</tt>, <tt>${mail_host}</tt>, <tt>${mail_addr}</tt></p>
</td><td><p>Holds the results of parsing
the <tt>RCPT</tt> and <tt>MAIL</tt> arguments, which is
the resolved right-hand side (RHS)
triplet from the mail delivery agent
(<tt>$#</tt><i>mailer</i><tt></tt>),
the host (<tt>$@</tt><i>host</i><tt></tt>),
and the user (<tt>$:</tt><i>addr</i><tt></tt>).</p>
</td></tr>
</table><a name="mailrefer-112"></a><h4>Additional
Macros From Version 8.12 of <tt>sendmail</tt></h4>
<p>In this section, you can find
a table that describes the additional
macros that are used to build the <tt>sendmail</tt> configuration file.</p>
<a name="mailrefer-tbl-203"></a>Table 14-22 Additional
Macros Used to Build the <tt>sendmail</tt> Configuration File<table><tr><th><p>Macro</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>LOCAL_MAILER_EOL</tt></p>
</td><td><p>Overrides the default end-of-line
string for the local mailer.</p>
</td></tr>
<tr><td><p><tt>LOCAL_MAILER_FLAGS</tt></p>
</td><td><p>Adds <tt>Return-Path:</tt> header
by default.</p>
</td></tr>
<tr><td><p><tt>MAIL_SETTINGS_DIR</tt></p>
</td><td><p>Contains the path (including
the trailing slash) for the mail settings
directory.</p>
</td></tr>
<tr><td><p><tt>MODIFY_MAILER_FLAGS</tt></p>
</td><td><p>Improves the <tt>*_MAILER_FLAGS</tt>. This macro sets, adds,
or deletes flags.</p>
</td></tr>
<tr><td><p><tt>RELAY_MAILER_FLAGS</tt></p>
</td><td><p>Defines additional flags for
the relay mailer.</p>
</td></tr>
</table><a name="mailrefer-113"></a><h4>Additional <tt>MAX</tt> Macros From Version
8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1547"></a><a name="indexterm-1548"></a>Use the following macros
to configure the maximum number of
commands that can be received before <tt>sendmail</tt> slows its delivery.
You can set these <tt>MAX</tt> macros
at compile time. The maximum values
in the following table also represent
the current default values.</p>
<a name="mailrefer-tbl-204"></a>Table 14-23 Additional <tt>MAX</tt> Macros<table><tr><th><p>Macro</p>
</th><th><p>Maximum Value</p>
</th><th><p>Commands Checked by Each Macro</p>
</th></tr>
<tr><td><p><a name="indexterm-1549"></a><tt>MAXBADCOMMANDS</tt></p>
</td><td><p>25</p>
</td><td><p>Unknown commands</p>
</td></tr>
<tr><td><p><a name="indexterm-1550"></a><tt>MAXNOOPCOMMANDS</tt></p>
</td><td><p>20</p>
</td><td><p><tt>NOOP</tt>, <tt>VERB</tt>, <tt>ONEX</tt>, <tt>XUSR</tt></p>
</td></tr>
<tr><td><p><a name="indexterm-1551"></a><tt>MAXHELOCOMMANDS</tt></p>
</td><td><p>3</p>
</td><td><p><tt>HELO</tt>, <tt>EHLO</tt></p>
</td></tr>
<tr><td><p><a name="indexterm-1552"></a><tt>MAXVRFYCOMMANDS</tt></p>
</td><td><p>6</p>
</td><td><p><tt>VRFY</tt>, <tt>EXPN</tt></p>
</td></tr>
<tr><td><p><a name="indexterm-1553"></a><tt>MAXETRNCOMMANDS</tt></p>
</td><td><p>8</p>
</td><td><p><tt>ETRN</tt></p>
</td></tr>
</table><hr>
<p><b>Note - </b>You can disable a macro's
check by setting the macro's value
to zero.</p>
<hr>
<a name="mailrefer-114"></a><h4>Additional
and Revised <tt>m4</tt> Configuration
Macros From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1554"></a><a name="indexterm-1555"></a>This section contains
a table of additional and revised <tt>m4</tt> configuration macros
for <tt>sendmail</tt>. Use
the following syntax to declare these
macros.</p>
<pre><i>symbolic-name</i>(`<i>value</i>')</pre><p>If you need to build a new <tt>sendmail.cf</tt> file, refer
to <a href="p76.html">Building the <tt>sendmail.cf</tt> Configuration File</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
<a name="mailrefer-tbl-205"></a>Table 14-24 Additional
and Revised <tt>m4</tt> Configuration
Macros for <tt>sendmail</tt><table><tr><th><p><tt>m4</tt> Macro</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>FEATURE()</tt></p>
</td><td><p>For details, refer to <a href="p99.html#mailrefer-115">Changes to the <tt>FEATURE()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></a>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1556"></a><tt>LOCAL_DOMAIN()</tt></p>
</td><td><p>This macro adds entries to class <tt>w</tt> (<tt>$=w</tt>).</p>
</td></tr>
<tr><td><p><a name="indexterm-1557"></a><tt>MASQUERADE_EXCEPTION()</tt></p>
</td><td><p>A new macro that defines hosts
or subdomains that cannot be masqueraded.</p>
</td></tr>
<tr><td><p><a name="indexterm-1558"></a><tt>SMART_HOST()</tt></p>
</td><td><p>This macro can now be used for
bracketed addresses, such as <tt>user@[</tt><i>host</i><tt>]</tt>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1559"></a><a name="indexterm-1560"></a><tt>VIRTUSER_DOMAIN()</tt> or <tt>VIRTUSER_DOMAIN_FILE()</tt></p>
</td><td><p>When these macros are used,
include <tt>$={VirtHost}</tt> in <tt>$=R</tt>. As a reminder, <tt>$=R</tt> is the set of host names
that are allowed to relay.</p>
</td></tr>
</table><a name="mailrefer-115"></a><h4>Changes
to the <tt>FEATURE()</tt> Declaration
From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1561"></a>Refer to the following
tables for information about the specific
changes to the <tt>FEATURE()</tt> declarations.</p>
<p>To use the new and revised <tt>FEATURE</tt> names, use the following
syntax.</p>
<pre>FEATURE(`<i>name</i>', `<i>argument</i>')</pre><p><a name="indexterm-1562"></a><a name="indexterm-1563"></a>If you need to build a
new <tt>sendmail.cf</tt> file,
refer to <a href="p76.html">Building the <tt>sendmail.cf</tt> Configuration File</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
<a name="mailrefer-tbl-206"></a>Table 14-25 Additional
and Revised <tt>FEATURE()</tt> Declarations<table><tr><th><p>Name of <tt>FEATURE()</tt></p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><a name="indexterm-1564"></a><tt>compat_check</tt></p>
</td><td><p>Argument: Refer to the example
in the following paragraph.</p>
<p>This new <tt>FEATURE()</tt> enables
you to look for a key in the access
map that consists of the sender address
and the recipient address. This <tt>FEATURE()</tt> is delimited by
the following string, <tt>&lt;@></tt>. <i>sender</i><tt>@</tt><i>sdomain</i><tt>&lt;@></tt><i>recipient</i><tt>@</tt><i>rdomain</i> is an example.</p>
</td></tr>
<tr><td><p><a name="indexterm-1565"></a><tt>delay_checks</tt></p>
</td><td><p>Argument: <tt>friend</tt>,
which enables a spam-friend test,
or <tt>hater</tt>, which
enables a spam-hater test.</p>
<p>A new <tt>FEATURE()</tt> that
delays all checks. By using <tt>FEATURE(`delay_checks')</tt>, the rule sets <tt>check_mail</tt> and <tt>check_relay</tt> are
not called when a client connects
or issues a <tt>MAIL</tt> command
respectively.  Instead, these rule
sets are called by the <tt>check_rcpt</tt> rule set. For details,
refer to the <tt>/etc/mail/cf/README</tt> file.</p>
</td></tr>
<tr><td><p><a name="indexterm-1566"></a><tt>dnsbl</tt></p>
</td><td><p>Argument: This <tt>FEATURE()</tt>accepts
a maximum of two arguments:</p>
<ul><li><p>DNS server name</p>
</li>
<li><p>Rejection message</p>
</li>
</ul>
<p>A new <tt>FEATURE()</tt> that
you can include multiple times to
check the return values for DNS lookups.
Note that this <tt>FEATURE()</tt> enables
you to specify the behavior of temporary
lookup failures.</p>
</td></tr>
<tr><td><p><a name="indexterm-1567"></a><tt>enhdnsbl</tt></p>
</td><td><p>Argument: domain name.</p>
<p>A new <tt>FEATURE()</tt> that
is an enhanced version of <tt>dnsbl</tt>,
which enables you to check the return
values for DNS lookups. For more information,
refer to <tt>/etc/mail/cf/README</tt>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1568"></a><tt>generics_entire_domain</tt></p>
</td><td><p>Argument: None.</p>
<p>A new <tt>FEATURE()</tt> that
you can also use to apply <tt>genericstable</tt> to subdomains of <tt>$=G</tt>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1569"></a><tt>ldap_routing</tt></p>
</td><td><p>Argument: For details, refer
to the &ldquo;Release Notes&rdquo;
in <a href="http://www.sendmail.org">http://www.sendmail.org</a>.</p>
<p>A new <tt>FEATURE()</tt> that
implements LDAP address routing.  </p>
</td></tr>
<tr><td><p><a name="indexterm-1570"></a><tt>local_lmtp</tt></p>
</td><td><p>Argument: Path name of an LMTP-capable
mailer. The default is <tt>mail.local</tt>, which is LMTP capable
in this Solaris release.</p>
<p>A <tt>FEATURE()</tt> that
now sets the delivery status notification
(DSN) diagnostic-code type for the
local mailer to the proper value of <tt>SMTP</tt>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1571"></a><tt>local_no_masquerade</tt></p>
</td><td><p>Argument: None.</p>
<p>A new <tt>FEATURE()</tt> that
you can use to avoid masquerading
for the local mailer.</p>
</td></tr>
<tr><td><p><a name="indexterm-1572"></a><tt>lookupdotdomain</tt></p>
</td><td><p>Argument: None.</p>
<p>A new <tt>FEATURE()</tt> that
you can also use to look up the <i>.domain</i> in the access
map.</p>
</td></tr>
<tr><td><p><a name="indexterm-1573"></a><tt>nocanonify</tt></p>
</td><td><p>Argument: <tt>canonify_hosts</tt> or
nothing.</p>
<p>A <tt>FEATURE()</tt> that
now includes the following features.</p>
<p>Enables a list of domains, as
specified by <tt>CANONIFY_DOMAIN</tt> or <tt>CANONIFY_DOMAIN_FILE</tt>, to
be passed to the <tt>$[</tt> and <tt>$]</tt> operators for canonification.</p>
<p>Enables addresses that have
only a host name, such as <tt>&lt;user@host></tt>, to be canonified, if <tt>canonify_hosts</tt> is specified
as its parameter.</p>
<p>Adds a trailing dot to addresses
with more than one component.</p>
</td></tr>
<tr><td><p><a name="indexterm-1574"></a><tt>no_default_msa</tt></p>
</td><td><p>Argument: None.</p>
<p>A new <tt>FEATURE()</tt> that
turns off <tt>sendmail</tt>'s
default setting from <tt>m4</tt>&ndash;generated
configuration files to &ldquo;listen&rdquo;
on several different ports, an implementation
of RFC 2476.</p>
</td></tr>
<tr><td><p><a name="indexterm-1575"></a><tt>nouucp</tt></p>
</td><td><p>Argument: <tt>reject</tt>,
which does not allow the <tt>!</tt> token,
or <tt>nospecial</tt>, which
does allow the <tt>!</tt> token.</p>
<p>A <tt>FEATURE()</tt> that
determines whether to allow the <tt>!</tt> token in the local part
of an address.</p>
</td></tr>
<tr><td><p><a name="indexterm-1576"></a><tt>nullclient</tt></p>
</td><td><p>Argument: None.</p>
<p>A <tt>FEATURE()</tt> that
now provides the full rule sets of
a normal configuration, allowing antispam
checks to be performed.</p>
</td></tr>
<tr><td><p><a name="indexterm-1577"></a><tt>preserve_local_plus_detail</tt></p>
</td><td><p>Argument: None.</p>
<p>A new <tt>FEATURE()</tt> that
enables you to preserve the <tt>+detail</tt> portion of the address
when <tt>sendmail</tt> passes
the address to the local delivery
agent.</p>
</td></tr>
<tr><td><p><a name="indexterm-1578"></a><tt>preserve_luser_host</tt></p>
</td><td><p>Argument: None.</p>
<p>A new <tt>FEATURE()</tt> that
enables you to preserve the name of
the recipient host, if <tt>LUSER_RELAY</tt> is used.</p>
</td></tr>
<tr><td><p><a name="indexterm-1579"></a><tt>queuegroup</tt></p>
</td><td><p>Argument: None.</p>
<p>A new <tt>FEATURE()</tt> that
enables you to select a queue group
that is based on the full email address
or on the domain of the recipient.</p>
</td></tr>
<tr><td><p><a name="indexterm-1580"></a><tt>relay_mail_from</tt></p>
</td><td><p>Argument: The <i>domain</i> is
an optional argument.</p>
<p>A new <tt>FEATURE()</tt> that
allows relaying if the mail sender
is listed as a <tt>RELAY</tt> in
the access map and is tagged with
the <tt>From:</tt> header
line. If the optional <i>domain</i> argument is given,
the domain portion of the mail sender
is also checked.</p>
</td></tr>
<tr><td><p><a name="indexterm-1581"></a><tt>virtuser_entire_domain</tt></p>
</td><td><p>Argument: None.</p>
<p>A <tt>FEATURE()</tt> that
you can now use to apply <tt>$={VirtHost}</tt>, a new class for matching <tt>virtusertable</tt> entries that
can be populated by <tt>VIRTUSER_DOMAIN</tt> or <tt>VIRTUSER_DOMAIN_FILE</tt>. </p>
<p><tt>FEATURE(`virtuser_entire_domain')</tt> can also apply the class <tt>$={VirtHost}</tt> to entire subdomains.</p>
</td></tr>
</table><p><a name="indexterm-1582"></a><a name="indexterm-1583"></a>The following <tt>FEATURE()</tt> declarations are no longer
supported.</p>
<a name="mailrefer-tbl-207"></a>Table 14-26 Unsupported <tt>FEATURE()</tt> Declarations<table><tr><th><p>Name of <tt>FEATURE()</tt></p>
</th><th><p>Replacement</p>
</th></tr>
<tr><td><p><a name="indexterm-1584"></a><tt>rbl</tt></p>
</td><td><p><a name="indexterm-1585"></a><a name="indexterm-1586"></a><tt>FEATURE(`dnsbl')</tt> and <tt>FEATURE(`enhdnsbl')</tt> replace
this <tt>FEATURE()</tt>,
which has been removed.</p>
</td></tr>
<tr><td><p><a name="indexterm-1587"></a><tt>remote_mode</tt></p>
</td><td><p><tt>MASQUERADE_AS(`$S')</tt> replaces <tt>FEATURE(`remote_mode')</tt> in <tt>/etc/mail/cf/subsidiary.mc</tt>. <tt>$S</tt> is the <tt>SMART_HOST</tt> value
in <tt>sendmail.cf</tt>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1588"></a><tt>sun_reverse_alias_files</tt></p>
</td><td><p><a name="indexterm-1589"></a><tt>FEATURE(`genericstable')</tt>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1590"></a><tt>sun_reverse_alias_nis</tt></p>
</td><td><p><tt>FEATURE(`genericstable')</tt>.</p>
</td></tr>
<tr><td><p><a name="indexterm-1591"></a><tt>sun_reverse_alias_nisplus</tt></p>
</td><td><p><tt>FEATURE(`genericstable')</tt>.</p>
</td></tr>
</table><a name="mailrefer-116"></a><h4>Changes
to the <tt>MAILER()</tt> Declaration
From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1592"></a><a name="indexterm-1593"></a>The <tt>MAILER()</tt> declaration
specifies support for delivery agents.
To declare a delivery agent, use the
following syntax.</p>
<pre>MAILER(`<i>symbolic-name</i>')</pre><p>Note the following changes.</p>
<ul><li><p>In this new version
of <tt>sendmail</tt>, the <tt>MAILER(`smtp')</tt> declaration
now includes an additional mailer, <tt>dsmtp</tt>, which provides on-demand
delivery by using the <tt>F=%</tt> mailer
flag.  The <tt>dsmtp</tt> mailer
definition uses the new <tt>DSMTP_MAILER_ARGS</tt>,
which defaults to <tt>IPC $h</tt>.</p>
</li>
<li><p>Numbers for rule sets
that are used by <tt>MAILER</tt>s
have been removed. 	You now have
no required order for listing your <tt>MAILER</tt>s except for <tt>MAILER(`uucp')</tt>, which must follow <tt>MAILER(`smtp')</tt> if <tt>uucp-dom</tt> and <tt>uucp-uudom</tt> are used.</p>
</li>
</ul>
<p>For more information about mailers,
refer to <a href="p88.html#mailrefer-58">Mailers and <tt>sendmail</tt></a>. If you
need to build a new <tt>sendmail.cf</tt> file, refer to <a href="p76.html">Building the <tt>sendmail.cf</tt> Configuration File</a> in <a href="p72.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
<a name="mailrefer-117"></a><h4>Additional
Delivery Agent Flags From Version
8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1594"></a><a name="indexterm-1595"></a>The following table describes
additional delivery agent flags, which
by default are not set. These single-character
flags are Boolean. You can set or
unset a flag by including or excluding
it in the <tt>F=</tt> statement
of your configuration file, as shown
in the following example.</p>
<pre>Mlocal,    P=/usr/lib/mail.local, F=lsDFMAw5:/|@qSXfmnz9, S=10/30, R=20/40,
Mprog,     P=/bin/sh, F=lsDFMoqeu9, S=10/30, R=20/40, D=$z:/,
Msmtp,     P=[IPC], F=mDFMuX, S=11/31, R=21, E=\r\n, L=990,
Mesmtp,    P=[IPC], F=mDFMuXa, S=11/31, R=21, E=\r\n, L=990,
Msmtp8,    P=[IPC], F=mDFMuX8, S=11/31, R=21, E=\r\n, L=990,
Mrelay,    P=[IPC], F=mDFMuXa8, S=11/31, R=61, E=\r\n, L=2040,</pre><a name="mailrefer-tbl-208"></a>Table 14-27 Additional
Mailer Flags<table><tr><th><p>Flag</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>%</tt></p>
</td><td><p>Mailers that use this flag do
not attempt delivery to the initial
recipient of a message or to queue
runs unless the queued message is
selected by using an <tt>ETRN</tt> request
or one of the following queue options: <tt>-qI</tt>, <tt>-qR</tt>,
or <tt>-qS</tt>.</p>
</td></tr>
<tr><td><p><tt>1</tt></p>
</td><td><p>This flag disables the ability
of the mailer to send null characters
(for example, <tt>\0</tt>).</p>
</td></tr>
<tr><td><p><tt>2</tt></p>
</td><td><p>This flag disables the use of
ESMTP and requires that SMTP be used
instead.</p>
</td></tr>
<tr><td><p><tt>6</tt></p>
</td><td><p>This flag enables mailers to
strip headers to 7 bit.</p>
</td></tr>
</table>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p98.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p100.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

