<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Other Errors With Autofs - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p15.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a> > <a href="p29.html">Troubleshooting Autofs</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p29.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p31.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="rfsadmin-213"></a><h4>Other Errors With Autofs</h4>
<p>If the <tt>/etc/auto*</tt> files have the execute bit set,
the automounter tries to execute the maps, which creates messages such as
the following:</p>
<p><tt>/etc/auto_home: +auto_home: not found</tt></p>
<p>In this situation, the <tt>auto_home</tt> file has incorrect
permissions. Each entry in the file generates an error message that is similar
to this message. The permissions to the file should be reset by typing the
following command:</p>
<pre># <tt><b>chmod 644 /etc/auto_home</b></tt></pre><a name="rfsadmin-255"></a><h3>NFS Error Messages</h3>
<p>This section shows an error message that is followed by a description
of the conditions that should create the error and at minimum one remedy.</p>
<p>Bad argument specified with index option
- must be a file</p>
Solution: <p><a name="indexterm-444"></a><a name="indexterm-445"></a>You must include a file name with the <tt>index</tt> option.
You cannot use directory names.</p>
<p>Cannot establish NFS service over /dev/<i>tcp</i>: transport setup problem</p>
Description: <p><a name="indexterm-446"></a><a name="indexterm-447"></a>This message is often created when the services information in
the namespace has not been updated. The message can also be reported for UDP. </p>
Solution: <p>To fix this problem, you must update the
services data in the namespace. For NIS+, the entries should be as follows:</p>
<pre>nfsd nfsd tcp 2049 NFS server daemon
nfsd nfsd udp 2049 NFS server daemon</pre><p>For NIS and <tt>/etc/services</tt>, the entries should be
as follows:</p>
<pre>nfsd    2049/tcp    nfs    # NFS server daemon
nfsd    2049/udp    nfs    # NFS server daemon</pre><p>Cannot use index option without public option</p>
Solution: <p><a name="indexterm-448"></a><a name="indexterm-449"></a>Include the <tt>public</tt> option with
the <tt>index</tt> option in the share command. You
must define the public file handle in order for the <tt>index</tt> option
to work.</p>
<hr>
<p><b>Note - </b>The Solaris 2.5.1 release required that the public file handle
be set by using the <tt>share</tt> command. A change in the Solaris
2.6  release sets the public file handle to be <tt>root</tt> (<tt>/</tt>) by default. This error message is no longer relevant.</p>
<hr>
<p>Could not start <i>daemon</i>: <i>error</i></p>
Description: <p>This message is displayed if the daemon
terminates abnormally or if a system call error occurs. The <i>error</i> string
defines the problem.</p>
Solution: <p>Contact Sun for assistance. This error message
is rare and has no straightforward solution.</p>
<p>Could not use public filehandle in request
to <i>server</i></p>
Description: <p><a name="indexterm-450"></a>This message is displayed if the <tt>public</tt> option
is specified but the NFS server does not support the public file handle. In
this situation, the mount fails. </p>
Solution: <p>To remedy this situation, either try the
mount request without using the public file handle or reconfigure the NFS
server to support the public file handle.</p>
<p><i>daemon</i> running already
with pid <i>pid</i></p>
Description: <p><a name="indexterm-451"></a>The daemon is already running. </p>
Solution: <p>If you want to run a new copy, kill the current
version and start a new version.</p>
<p>error locking <i>lock file</i></p>
Description: <p><a name="indexterm-452"></a>This message is displayed when the <i>lock file</i> that
is associated with a daemon cannot be locked properly.</p>
Solution: <p>Contact Sun for assistance. This error message
is rare and has no straightforward solution.</p>
<p>error checking <i>lock file</i>: <i>error</i></p>
Description: <p><a name="indexterm-453"></a>This message is displayed when the <i>lock file</i> that
is associated with a daemon cannot be opened properly.</p>
Solution: <p>Contact Sun for assistance. This error message
is rare and has no straightforward solution.</p>
<p>NOTICE: NFS3: failing over from <i>host1</i> to <i>host2</i></p>
Description: <p><a name="indexterm-454"></a>This message is displayed on the console when a failover occurs.
The message is advisory only.</p>
Solution: <p>No action required.</p>
<p><i>filename</i>: File too
large</p>
Description: <p><a name="indexterm-455"></a>An NFS version 2 client is trying to access a file that is over
2 Gbytes.</p>
Solution: <p>Avoid using NFS version 2. Mount the file
system with version 3 or version 4. Also, see the description of the <tt>nolargefiles</tt> option in <a href="p36.html#rfsrefer-16"><tt>mount</tt> Options for NFS File Systems</a>.</p>
<p>mount: ... server not responding:RPC_PMAP_FAILURE
- RPC_TIMED_OUT</p>
Description: <p><a name="indexterm-456"></a><a name="indexterm-457"></a><a name="indexterm-458"></a><a name="indexterm-459"></a>The server that is sharing the file system you are trying to mount
is down or unreachable, at the wrong run level, or its <tt>rpcbind</tt> is
dead or hung.</p>
Solution: <p>Wait for the server to reboot. If the server
is hung, reboot the server.</p>
<p>mount: ... server not responding: RPC_PROG_NOT_REGISTERED</p>
Description: <p><a name="indexterm-460"></a><a name="indexterm-461"></a><a name="indexterm-462"></a><a name="indexterm-463"></a>The mount request registered with <tt>rpcbind</tt>,
but the NFS mount daemon <tt>mountd</tt> is not registered.    </p>
Solution: <p>Wait for the server to reboot. If the server
is hung, reboot the server.</p>
<p><a name="indexterm-464"></a><a name="indexterm-465"></a>mount: ... No such file or directory  </p>
Description: <p><a name="indexterm-466"></a><a name="indexterm-467"></a>Either the remote directory or the local directory does not exist.</p>
Solution: <p>Check the spelling of the directory names.
Run <tt>ls</tt> on both directories. </p>
<p>mount: ...: Permission denied</p>
Description: <p><a name="indexterm-468"></a><a name="indexterm-469"></a><a name="indexterm-470"></a><a name="indexterm-471"></a><a name="indexterm-472"></a>Your computer name might not be in the list of clients or netgroup
that is allowed access to the file system you tried to mount.</p>
Solution: <p>Use <tt>showmount -e</tt> to verify
the access list.</p>
<p>NFS file temporarily unavailable on the server,
retrying ...</p>
Description: <p>An NFS version 4 server can delegate the
management of a file to a client. This message indicates that the server is
recalling a delegation for another client that conflicts with a request from
your client. </p>
Solution: <p>The recall must occur before the server can
process your client's request. For more information about delegation, refer
to <a href="p49.html#rfsrefer-140">Delegation in NFS Version 4</a>.</p>
<p>NFS fsstat failed for server <i>hostname</i>: RPC: Authentication error</p>
Description: <p>This error can be caused by many situations.
One of the most difficult situations to debug is when this problem occurs
because a user is in too many groups. Currently, a user can be in no more
than 16 groups if the user is accessing files through NFS mounts.</p>
Solution: <p>An alternate does exist for users who need
to be in more than 16 groups. You can use access control lists to provide
the needed access privileges if you run at minimum the Solaris 2.5 release
on the NFS server and the NFS clients.</p>
<p>nfs mount: ignoring invalid option &ldquo;<i>-option</i>&rdquo;</p>
Description: <p><a name="indexterm-473"></a>The <i>-option</i> flag is not valid. </p>
Solution: <p>Refer to the <tt>mount_nfs</tt>(1M) man page to verify the required
syntax.</p>
<hr>
<p><b>Note - </b>This error message is not displayed when running any version of
the <tt>mount</tt> command that is included in a Solaris release
from  2.6 to the current release or in earlier versions that have been patched.</p>
<hr>
<p>nfs mount: NFS can't support &ldquo;nolargefiles&rdquo;</p>
Description: <p><a name="indexterm-474"></a><a name="indexterm-475"></a>An NFS client has attempted to mount a file system from an NFS
server by using the <tt>-nolargefiles</tt> option. </p>
Solution: <p>This option is not supported for NFS file
system types.</p>
<p>nfs mount: NFS V2 can't support &ldquo;largefiles&rdquo;</p>
Description: <p><a name="indexterm-476"></a><a name="indexterm-477"></a>The NFS version 2 protocol cannot handle large files. </p>
Solution: <p>You must use version 3 or version 4 if access
to large files is required.</p>
<p>NFS server <i>hostname</i> not
responding still trying</p>
Description: <p><a name="indexterm-478"></a><a name="indexterm-479"></a><a name="indexterm-480"></a><a name="indexterm-481"></a><a name="indexterm-482"></a><a name="indexterm-483"></a><a name="indexterm-484"></a><a name="indexterm-485"></a><a name="indexterm-486"></a>If programs hang while doing file-related work, your NFS server
might have failed. This message indicates that NFS server <i>hostname</i> is
down or that a problem has occurred with the server or the network.      
  </p>
Solution: <p>If failover is being used, <i>hostname</i> is a list of servers. Start troubleshooting with <a href="p27.html#rfsadmin-216">How to Check Connectivity on an NFS Client</a>.</p>
<p>NFS server recovering</p>
Description: <p>During part of the NFS version 4 server
reboot, some operations were not permitted. This message indicates that the
client is waiting for the server to permit this operation to proceed.</p>
Solution: <p>No action required. Wait for the server to
permit the operation.</p>
<p>Permission denied</p>
Description: <p><a name="indexterm-487"></a><a name="indexterm-488"></a><a name="indexterm-489"></a>This message is displayed by the <tt>ls</tt> <tt>-l</tt>, <tt>getfacl</tt>, and <tt>setfacl</tt> commands for  the following
reasons:</p>
<ul><li><p>If the user or group that exists in an access control list
(ACL) entry on an NFS version 4 server cannot be mapped to a valid user or
group on an NFS version 4 client, the user is not allowed to read the ACL
on the client.</p>
</li>
<li><p>If the user or group that exists in an ACL entry that is being
set on an NFS version 4 client cannot be mapped to a valid user or group on
an NFS version 4 server, the user is not allowed to write or modify an ACL
on the client.</p>
</li>
<li><p>If an NFS version 4 client and server have mismatched NFSMAPID_DOMAIN
values, ID mapping fails.</p>
</li>
</ul>
<p>For more information, see <a href="p49.html#gande">ACLs and <tt>nfsmapid</tt> in NFS Version 4</a>.</p>
Solution: <p>Do the following:</p>
<ul><li><p>Make sure that all user and group IDs in the ACL entries exist
on both the client and server.</p>
</li>
<li><p>Make sure that the value for NFSMAPID_DOMAIN is set correctly
in the <tt>/etc/default/nfs</tt> file. For more information, see <a href="p31.html#rfsrefer-133">Keywords for the <tt>/etc/default/nfs</tt> File</a>.</p>
</li>
</ul>
<p>To determine if any user or group cannot be mapped on the server or
client, use the script that is provided in <a href="p49.html#gandj">Checking for Unmapped User or Group IDs</a>.</p>
<p>port <i>number</i> in nfs
URL not the same as port <i>number</i> in port option</p>
Description: <p>The port number that is included in the
NFS URL must match the port number that is included with the <tt>-port</tt> option
to mount. If the port numbers do not match, the mount fails. </p>
Solution: <p>Either change the command to make the port
numbers identical or do not specify the port number that is incorrect. Usually,
you do not need to specify the port number with both the NFS URL and the <tt>-port</tt> option.</p>
<p>replicas must have the same version</p>
Description: <p><a name="indexterm-490"></a>For NFS failover to function properly, the NFS servers that are
replicas must support the same version of the NFS protocol. </p>
Solution: <p>Running multiple versions is not allowed.</p>
<p>replicated mounts must be read-only</p>
Description: <p><a name="indexterm-491"></a>NFS failover does not work on file systems that are mounted read-write.
Mounting the file system read-write increases the likelihood that a file could
change. </p>
Solution: <p>NFS failover depends on the file systems
being identical.</p>
<p>replicated mounts must not be soft</p>
Description: <p><a name="indexterm-492"></a><a name="indexterm-493"></a>Replicated mounts require that you wait for a timeout before failover
occurs. </p>
Solution: <p>The <tt>soft</tt> option
requires that the mount fail immediately when a timeout starts, so you cannot
include the <tt>-soft</tt> option with a replicated mount.</p>
<p>share_nfs: Cannot share more than one filesystem
with 'public' option</p>
Solution: <p><a name="indexterm-494"></a>Check that the <tt>/etc/dfs/dfstab</tt> file has only
one file system selected to be shared with the <tt>-public</tt> option.
Only one public file handle can be established per server, so only one file
system per server can be shared with this option.</p>
<p>WARNING: No network locking on <i>hostname</i>:<i>path</i>:  contact admin to install
server change</p>
Description: <p>An NFS client has unsuccessfully attempted
to establish a connection with the network lock manager on an NFS server.
Rather than fail the mount, this warning is generated to warn you that locking
does not work.</p>
Solution: <p>Upgrade the server with a new version of
the OS that provides complete lock manager support.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p29.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p31.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

