<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Additional
Command-Line Options in Version 8.13
of <tt>sendmail</tt> - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p87.html">14.&nbsp;&nbsp;Mail Services (Reference)</a> > <a href="p97.html">Changes in Version 8.13 of <tt>sendmail</tt></a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p97.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p99.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="evemy"></a><h4>Additional
Command-Line Options in Version 8.13
of <tt>sendmail</tt></h4>
<a name="indexterm-1505"></a><a name="indexterm-1506"></a><p>The following table describes
additional command-line options that
are available in version 8.13 of <tt>sendmail</tt>. Other command-line
options are described in the <tt>sendmail</tt>(1M) man
page.</p>
<a name="evenb"></a>Table 14-16 Command-Line Options
Available in Version 8.13 of <tt>sendmail</tt><table><tr><th><p>Option</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>-D</tt> <i>logfile</i></p>
</td><td><p>Sends debugging output to the
indicated <i>logfile</i>,
instead of  including this information
with the standard output.</p>
</td></tr>
<tr><td><p><tt>-q</tt><tt>[!]Q</tt><i>substr</i></p>
</td><td><p>Specifies the processing of
quarantined jobs that have this <i>substr</i>,  which is a
substring of the quarantine <i>reason</i>. See the description
of the <tt>-Q</tt><i>reason</i> option. If ! is added,
this option processes quarantined
 jobs that do not have this <i>substr</i>.</p>
</td></tr>
<tr><td><p><tt>-Q</tt><i>reason</i></p>
</td><td><p>Quarantines a normal queue item
with this <i>reason</i>.
If no <i>reason</i> is
given, the quarantined queue item
is unquarantined. This option works
with the <tt>-q</tt><tt>[!]Q</tt><i>substr</i> option. The <i>substr</i> is a portion (or substring)
of the <i>reason</i>.</p>
</td></tr>
</table><a name="evenf"></a><h4>Additional
and Revised Configuration File Options
in Version 8.13 of <tt>sendmail</tt></h4>
<a name="indexterm-1507"></a><a name="indexterm-1508"></a><p>The following table describes
the added and revised configuration
file options. If you declare any of
these options, use one of the following
syntaxes.</p>
<pre>O <i>OptionName</i>=<i>argument</i>          # for the configuration file
-O <i>OptionName</i>=<i>argument</i>         # for the command line
define(`<i>m4Name</i>',<i>argument</i>)     # for m4 configuration</pre><a name="evenh"></a>Table 14-17 Configuration File
Options Available in Version 8.13
of <tt>sendmail</tt><table><tr><th><p>Option</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>ConnectionRateWindowSize</tt></p>
</td><td><p><tt>m4</tt> name: <tt>confCONNECTION_RATE_WINDOW_SIZE</tt></p>
<p>Argument: <i>number</i></p>
<p>Default value: <tt>60</tt></p>
<p>Sets the number of seconds for
incoming connections to be maintained.</p>
</td></tr>
<tr><td><p><tt>FallBackSmartHost</tt></p>
</td><td><p><tt>m4</tt> name: <tt>confFALLBACK_SMARTHOST</tt></p>
<p>Argument: <i>hostname</i></p>
<p>To ensure that mail gets delivered
to the clients, this option provides
a well-connected host that serves
as a backup (or failover) for MX records
that fail.</p>
</td></tr>
<tr><td><p><tt>InputMailFilters</tt></p>
</td><td><p><tt>m4</tt> name: <tt>confINPUT_MAIL_FILTERS</tt></p>
<p>Argument: <i>filename</i></p>
<p>Lists the input mail filters
for the <tt>sendmail</tt> daemon.</p>
</td></tr>
<tr><td><p><tt>PidFile</tt></p>
</td><td><p><tt>m4</tt> name: <tt>confPID_FILE</tt></p>
<p>Argument: <i>filename</i></p>
<p>Default value: <tt>/var/run/sendmail.pid</tt></p>
<p>As in previous releases, the
file name is macro-expanded before
it is opened. 	Additionally, in
version 8.13, the file is unlinked
when <tt>sendmail</tt> exits.</p>
</td></tr>
<tr><td><p><tt>QueueSortOrder</tt></p>
</td><td><p><tt>m4</tt> name: <tt>confQUEUE_SORT_ORDER</tt></p>
<p>Added argument: <tt>none</tt></p>
<p>In version 8.13 <tt>none</tt> is
used to specify no sorting order.</p>
</td></tr>
<tr><td><p><tt>RejectLogInterval</tt></p>
</td><td><p><tt>m4</tt> name: <tt>confREJECT_LOG_INTERVAL</tt></p>
<p>Argument: <i>period-of-time</i></p>
<p>Default value: <tt>3h</tt>,
which represents three hours.</p>
<p>When a daemon connection is
refused for the <i>period-of-time</i> specified, the information
is logged.</p>
</td></tr>
<tr><td><p><tt>SuperSafe</tt></p>
</td><td><p><tt>m4</tt> name: <tt>confSAFE_QUEUE</tt></p>
<p>Short name: <tt>s</tt></p>
<p>Added argument: <tt>postmilter</tt></p>
<p>Default value: <tt>true</tt></p>
<p>If <tt>postmilter</tt> is
set, <tt>sendmail</tt> defers
synchronizing the queue file until
all <tt>milters</tt> have
signaled acceptance of the message.
For this argument to be useful, <tt>sendmail</tt> must be running
as an SMTP server. Otherwise, <tt>postmilter</tt> operates as if you are
using the <tt>true</tt> argument.</p>
</td></tr>
</table><a name="evenm"></a><h4>Additional
and Revised <tt>FEATURE()</tt> Declarations
in Version 8.13 of <tt>sendmail</tt></h4>
<a name="indexterm-1509"></a><a name="indexterm-1510"></a><p>The following table describes
the added and revised <tt>FEATURE()</tt> declarations.
This <tt>m4</tt> macro uses
the following syntax.</p>
<pre>FEATURE(`<i>name</i>', `<i>argument</i>')</pre><a name="evenn"></a>Table 14-18 <tt>FEATURE()</tt> Declarations
Available in Version 8.13 of <tt>sendmail</tt><table><tr><th><p>Name of <tt>FEATURE()</tt></p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>conncontrol</tt></p>
</td><td><p>Works with the <tt>access_db</tt> rule
set to check the number of incoming
SMTP connections. For details, see <tt>/etc/mail/cf/README</tt>.</p>
</td></tr>
<tr><td><p><tt>greet_pause</tt></p>
</td><td><p>Adds the <tt>greet_pause</tt> rule
set, which enables open proxy and
SMTP  	slamming protection. For
details, see <tt>/etc/mail/cf/README</tt>.</p>
</td></tr>
<tr><td><p><tt>local_lmtp</tt></p>
</td><td><p>The default argument continues
to be <tt>mail.local</tt>,
which is the 	LMTP-capable mailer
in this Solaris release. However,
in version 8.13, if a different LMTP-capable
mailer is used, its path name can
be specified as a second parameter
and the arguments that are passed
to the second parameter can be specified
in the third parameter. For example:</p>
<pre>FEATURE(`local_lmtp', `/usr/local/bin/lmtp', `lmtp')</pre></td></tr>
<tr><td><p><tt>mtamark</tt></p>
</td><td><p>Provides experimental support
for &ldquo;Marking Mail Transfer Agents
in Reverse DNS with TXT RRs&rdquo;
(MTAMark). For details, see <tt>/etc/mail/cf/README</tt>.</p>
</td></tr>
<tr><td><p><tt>ratecontrol</tt></p>
</td><td><p>Works with the <tt>access_db</tt> rule
set to control connection rates for
	hosts. For details, see <tt>/etc/mail/cf/README</tt>.</p>
</td></tr>
<tr><td><p><tt>use_client_ptr</tt></p>
</td><td><p>If this <tt>FEATURE()</tt> is
enabled, the rule set <tt>check_relay</tt> overrides its first argument
with this argument, <tt>$&amp;{client_ptr}</tt>.</p>
</td></tr>
</table><a name="mailrefer-105"></a><h3>Changes
From Version 8.12 of <tt>sendmail</tt></h3>
<p><a name="indexterm-1511"></a><a name="indexterm-1512"></a>This section contains
information about the following topics.</p>
<ul><li><p><a href="p98.html#mailrefer-125">Support for TCP Wrappers From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p98.html#mailrefer-106"><tt>submit.cf</tt> Configuration File From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-109">Additional or Deprecated Command-Line Options From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-110">Additional Arguments for the <tt>PidFile</tt> and <tt>ProcessTitlePrefix</tt> Options From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-111">Additional Defined Macros From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-112">Additional Macros From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-113">Additional <tt>MAX</tt> Macros From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-114">Additional and Revised <tt>m4</tt> Configuration Macros From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-115">Changes to the <tt>FEATURE()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-116">Changes to the <tt>MAILER()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p99.html#mailrefer-117">Additional Delivery Agent Flags From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p100.html">Additional Equates for Delivery Agents From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p100.html#mailrefer-119">Additional Queue Features From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p100.html#mailrefer-120">Changes for LDAP From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p100.html#mailrefer-121">Change to the Built-In Mailer From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p100.html#mailrefer-122">Additional Rule Sets From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p101.html">Changes to Files From Version 8.12 of <tt>sendmail</tt></a></p>
</li>
<li><p><a href="p101.html#mailrefer-124"><tt>sendmail</tt> Version 8.12 and IPv6 Addresses in Configuration</a></p>
</li>
</ul>
<a name="mailrefer-125"></a><h4>Support
for TCP Wrappers From Version 8.12
of <tt>sendmail</tt></h4>
<a name="indexterm-1513"></a><a name="indexterm-1514"></a><p>TCP wrappers provide a way of
implementing access controls by checking
the address of a host requesting a
particular network service against
an access control list (ACL). Requests
are granted or denied, accordingly.
Besides providing this access control
mechanism, TCP wrappers also log host
 requests for network services, which
is a useful monitoring function. Examples
of network services that might be
placed under access control include <tt>rlogind</tt>, <tt>telnetd</tt>,
and <tt>ftpd</tt>. </p>
<p>Starting with version 8.12, <tt>sendmail</tt> enables the use
of TCP wrappers. This check does not
bypass other security measures. By
enabling TCP wrappers  in <tt>sendmail</tt>, a check has been added
to validate the source of a network
request before the request is granted.
See the <tt>hosts_access</tt>(4)
man page.</p>
<hr>
<p><b>Note - </b>Support for TCP wrappers
in <tt>inetd</tt>(1M) and <tt>sshd</tt>(1M) started with the
Solaris 9 release.</p>
<hr>
<p>For information about ACLs,
see Using Access Control Lists to Protect Files in <i>System Administration Guide: Security Services</i>.</p>
<a name="mailrefer-106"></a><h4><tt>submit.cf</tt> Configuration
File From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1515"></a><a name="indexterm-1516"></a><a name="indexterm-1517"></a><a name="indexterm-1518"></a>Starting with version
8.12, <tt>sendmail</tt> includes
an additional configuration file, <tt>/etc/mail/submit.cf</tt>. This
file, <tt>submit.cf</tt>,
is used to run <tt>sendmail</tt> in
mail-submission program mode instead
of daemon mode. Mail-submission program
mode, unlike daemon mode, does not
require <tt>root</tt> privilege,
so this new paradigm provides better
security.</p>
<p>See the following list of functions
for <tt>submit.cf</tt>:</p>
<ul><li><p><a name="indexterm-1519"></a><a name="indexterm-1520"></a><a name="indexterm-1521"></a><tt>sendmail</tt> uses <tt>submit.cf</tt> to run in mail-submission
program (MSP) mode, which submits
email messages and can be started
by programs (such as <tt>mailx</tt>),
as well as by users. Refer to the
descriptions of the <tt>-Ac</tt> option
and the <tt>-Am</tt> option
in the <tt>sendmail</tt>(1M) man
page.</p>
</li>
<li><p><tt>submit.cf</tt> is
used in the following operating modes:</p>
<ul><li><p><tt>-bm</tt>,
which is the default operating mode</p>
</li>
<li><p><tt>-bs</tt>,
which uses standard input to run SMTP</p>
</li>
<li><p><tt>-bt</tt>,
which is the test mode that is used
to resolve addresses</p>
</li>
</ul>
</li>
<li><p><tt>sendmail</tt>,
when using <tt>submit.cf</tt>,
does not run as an SMTP daemon.</p>
</li>
<li><p><tt>sendmail</tt>,
when using <tt>submit.cf</tt>,
uses <tt>/var/spool/clientmqueue</tt>,
 the client-only mail queue, which
holds messages that were not delivered
to the <tt>sendmail</tt> daemon.
 Messages in the client-only queue
are delivered by the client &ldquo;daemon,&rdquo;
which is really acting as a client
queue runner.</p>
</li>
<li><p>By default, <tt>sendmail</tt> uses <tt>submit.cf</tt> periodically
to run the MSP queue (otherwise known
as the client-only queue), <tt>/var/spool/clientmqueue</tt>.</p>
<pre>/usr/lib/sendmail -Ac -q15m</pre></li>
</ul>
<p>Note the following:</p>
<ul><li><p>Starting with the
Solaris 9 release, <tt>submit.cf</tt> is
provided automatically.</p>
</li>
<li><p><tt>submit.cf</tt> does
not require any planning or preliminary
procedures prior to the installation
of the Solaris 9 release or a more
recent release.</p>
</li>
<li><p>Unless you specify
a configuration file, <tt>sendmail</tt> automatically
uses <tt>submit.cf</tt> as
required. Basically, <tt>sendmail</tt> knows
which tasks are appropriate for <tt>submit.cf</tt> and which tasks
are appropriate for <tt>sendmail.cf</tt>.</p>
</li>
<li><p><tt>submit.cf</tt> is
not to be modified.</p>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p97.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p99.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

