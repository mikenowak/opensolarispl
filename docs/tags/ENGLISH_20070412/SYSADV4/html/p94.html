<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Controls
for <tt>.forward</tt> files - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p87.html">14.&nbsp;&nbsp;Mail Services (Reference)</a> > <a href="p91.html">Mail Service Programs and Files</a> > <a href="p93.html#mailrefer-39"><tt>.forward</tt> Files</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p93.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p95.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="mailrefer-98"></a><h5>Controls
for <tt>.forward</tt> files</h5>
<p>For the <tt>.forward</tt> files
to be an effective part of mail delivery,
ensure that the following controls
(mostly permissions settings) are
correctly applied.</p>
<ul><li><p>The <tt>.forward</tt> file
must be writable only by the owner
of the file. This restriction prevents
other users from breaking security.</p>
</li>
<li><p>The paths that lead
to the home directory must be owned
and writable by <tt>root</tt> only.
For example, if a <tt>.forward</tt> file
is in <tt>/export/home/terry</tt>, <tt>/export</tt> and <tt>/export/home</tt> must be owned and writable
by <tt>root</tt> only.</p>
</li>
<li><p>The actual home directory
should be writable only by the user.</p>
</li>
<li><p>The <tt>.forward</tt> file
cannot be a symbolic link, and this
file cannot have more than one hard
link.</p>
</li>
</ul>
<a name="mailrefer-99"></a><h5><tt>.forward.</tt><i>hostname</i> File</h5>
<p><a name="indexterm-1468"></a>You can create a <tt>.forward.</tt><i>hostname</i> file
to redirect mail that is sent to a
specific host. For example, if a user's
alias has changed from <tt>sandy@phoenix.example.com</tt> to <tt>sandy@example.com</tt>,
place a <tt>.forward.phoenix</tt> file
in the home directory for <tt>sandy</tt>.</p>
<pre>% <tt><b>cat .forward.phoenix</b></tt>
sandy@example.com
"|/usr/bin/vacation sandy"
% <tt><b>cat .vacation.msg</b></tt>
From: sandy@example.com (via the vacation program)
Subject: my alias has changed

My alias has changed to sandy@example.com.
Please use this alias in the future.
The mail that I just received from you
has been forwarded to my new address.

Sandy</pre><p>In this example, mail can be
forwarded to the correct place while
the sender is notified of the alias
change. Because the <tt>vacation</tt> program
permits only one message file, you
can forward only one message at a
time. However, if the message is not
host specific, one vacation message
file can be used by <tt>.forward</tt> files
for many hosts.</p>
<a name="mailrefer-100"></a><h5><tt>.forward+</tt><i>detail</i> File</h5>
<p><a name="indexterm-1469"></a>Another extension to the
forwarding mechanism is the <tt>.forward+</tt><i>detail</i> file.
The <i>detail</i> string
can be any sequence of characters
except operator characters. The operator
characters are <tt>.:%&amp;!^[]+</tt>.
By using this type of file, you can
determine if someone else is using
your email address without your knowledge.
For instance, if a user tells someone
to use the email address <tt>sandy+test1@example.com</tt>, the user would be able
to identify any future mail that was
delivered to this alias. By default,
any mail that is sent to the <tt>sandy+test1@example.com</tt> alias is checked against
the alias and the <tt>.forward+</tt><i>detail</i> files. If no
matches are made, the mail falls back
to delivery to <tt>sandy@example.com</tt>, but the user is able to
see a change in the <tt>To:</tt> mail
header.</p>
<a name="mailrefer-44"></a><h4><tt>/etc/default/sendmail</tt> File</h4>
<p><a name="indexterm-1470"></a>This file is used to store
startup options for <tt>sendmail</tt> so
that the options are not removed when
a host is upgraded. The following
variables can be used.</p>
<dl><dt>CLIENTOPTIONS=&ldquo;<i>string</i>&rdquo;</dt>
<dd><p>Selects additional
options to be used with the client
daemon, which looks in the client-only
queue (<tt>/var/spool/clientmqueue</tt>)
and acts as a client queue runner.
No syntax checking is done, so be
careful when making changes to this
variable.</p>
</dd>
<dt>CLIENTQUEUEINTERVAL=<i>#</i></dt>
<dd><p>Similar to the <tt>QUEUEINTERVAL</tt> option, <tt>CLIENTQUEUEINTERVAL</tt> sets
the time interval for mail queue runs.
However, the <tt>CLIENTQUEUEINTERVAL</tt> option controls the functions
of the client daemon, rather than
the functions of the master daemon.
Typically, the master daemon is able
to deliver all messages to the SMTP
port. However, if the message load
is too high or the master daemon is
not running, then messages go into
the client-only queue, <tt>/var/spool/clientmqueue</tt>. The client daemon, which
checks in the client-only queue, then
acts as a client queue processor.</p>
</dd>
<dt>ETRN_HOSTS=&ldquo;<i>string</i>&rdquo;</dt>
<dd><p>Enables an SMTP client
and server to interact immediately
without waiting for the queue run
intervals, which are periodic. The
server can immediately deliver the
portion of its queue that goes to
the specified hosts. For more information,
refer to the <tt>etrn</tt>(1M) man
page.</p>
</dd>
<dt>MODE=-bd</dt>
<dd><p>Selects the mode to
start <tt>sendmail</tt> with.
Use the <tt>-bd</tt> option
or leave it undefined.</p>
</dd>
<dt>OPTIONS=<i>string</i></dt>
<dd><p>Selects additional
options to be used with the master
daemon. No syntax checking is done,
so be careful when making changes
to this variable.</p>
</dd>
<dt>QUEUEINTERVAL=<i>#</i></dt>
<dd><p>Sets the interval
for mail queue runs on the master
daemon. <i>#</i> can
be a positive integer that is followed
by either <tt>s</tt> for
seconds, <tt>m</tt> for
minutes, <tt>h</tt> for
hours, <tt>d</tt> for days,
or <tt>w</tt> for weeks.
The syntax is checked before <tt>sendmail</tt> is started. If the interval
is negative or if the entry does not
end with an appropriate letter, the
interval is ignored and <tt>sendmail</tt> starts with a queue interval
of 15 minutes.</p>
</dd>
<dt>QUEUEOPTIONS=p</dt>
<dd><p>Enables one persistent
queue runner that sleeps between queue
run intervals, instead of a new queue
runner for each queue run interval.
You can set this option to <tt>p</tt>, which is
the only setting available. Otherwise,
this option is not set.</p>
</dd>
</dl>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p93.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p95.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

