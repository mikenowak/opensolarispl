<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Determining Appropriate Remedial Action - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage> > <a href="p32.html">12.&nbsp;&nbsp;Resource Pools (Overview)</a> > <a href="p39.html#rmpool-81">How Dynamic Resource Allocation Works</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p39.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p41.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="rmpool-91"></a><h4>Determining Appropriate Remedial Action</h4>
<p>When the resource controller determines that a resource consumer is
short of resources, the initial response is that increasing the resources
will improve performance.</p>
<p>Alternative configurations that meet the objectives specified in the
configuration for the scope of control are examined and evaluated.</p>
<p>This process is refined over time as the results of shifting resources
are monitored and each resource partition is evaluated for responsiveness.
The decision history is consulted to eliminate reconfigurations that did not
show improvements in attaining the objective function in the past. Other information,
such as process names and quantities, are used to further evaluate the relevance
of the historical data.</p>
<p>If the daemon cannot take corrective action, the condition is logged.
For more information, see <a href="p38.html#rmpool-95"><tt>poold</tt> Logging Information</a>.</p>
<a name="rmpool-107"></a><h3>Using <tt>poolstat</tt> to Monitor
the Pools Facility and Resource Utilization</h3>
<p><a name="indexterm-115"></a>The <tt>poolstat</tt> utility is used to
monitor resource utilization when pools are enabled on your system. This utility
iteratively examines all of the active pools on a system and reports statistics
based on the selected output mode. The <tt>poolstat</tt> statistics
enable you to determine which resource partitions are heavily utilized. You
can analyze these statistics to make decisions about resource reallocation
when the system is under pressure for resources.</p>
<p>The <tt>poolstat</tt> utility includes options that can be
used to examine specific pools and report resource set-specific statistics.</p>
<p>If zones are implemented on your system and you use <tt>poolstat</tt> in
a non-global zone, information about the resources associated with the zone's
pool is displayed.</p>
<p>For more information about the <tt>poolstat</tt> utility,
see the <tt>poolstat</tt>(1M) man
page. For <tt>poolstat</tt> task and usage information, see <a href="p47.html">Using <tt>poolstat</tt> to Report Statistics for Pool-Related Resources</a>.</p>
<a name="rmpool-110"></a><h4><tt>poolstat</tt> Output</h4>
<p><a name="indexterm-116"></a>In default output format, <tt>poolstat</tt> outputs
a heading line and then displays a line for each pool. A pool line begins
with the pool ID and the name of the pool, followed by a column of statistical
data for the processor set attached to the pool. Resource sets attached to
more than one pool are listed multiple times, once for each pool.</p>
<p>The column headings are as follows:</p>
<dl><dt><tt>id</tt></dt>
<dd><p>Pool ID.</p>
</dd>
<dt><tt>pool</tt></dt>
<dd><p>Pool name.</p>
</dd>
<dt><tt>rid</tt></dt>
<dd><p>Resource set ID.</p>
</dd>
<dt><tt>rset</tt></dt>
<dd><p>Resource set name.</p>
</dd>
<dt><tt>type</tt></dt>
<dd><p>Resource set type.</p>
</dd>
<dt><tt>min</tt></dt>
<dd><p>Minimum resource set size.</p>
</dd>
<dt><tt>max</tt></dt>
<dd><p>Maximum resource set size.</p>
</dd>
<dt><tt>size</tt></dt>
<dd><p>Current resource set size.</p>
</dd>
<dt><tt>used</tt></dt>
<dd><p>Measure of how much of the resource set is currently used.</p>
<p>This usage is calculated as the percentage of utilization of the resource
set multiplied by the size of the resource set. If a resource set has been
reconfigured during the last sampling interval, this value might be not reported.
An unreported value appears as a hyphen (<tt>-</tt>).</p>
</dd>
<dt><tt>load</tt></dt>
<dd><p>Absolute representation of the load that is put on the resource
set.</p>
<p>For more information about this property, see the <tt>libpool</tt>(3LIB) man page.</p>
</dd>
</dl>
<p>You can specify the following in <tt>poolstat</tt> output:</p>
<ul><li><p>The order of the columns</p>
</li>
<li><p>The headings that appear</p>
</li>
</ul>
<a name="rmpool-112"></a><h4>Tuning <tt>poolstat</tt> Operation
Intervals</h4>
<p>You can customize the operations performed by <tt>poolstat</tt>.
You can set the sampling interval for the report and specify the number of
times that statistics are repeated:</p>
<dl><dt><i>interval</i></dt>
<dd><p>Tune the intervals for the periodic operations performed by <tt>poolstat</tt>. All intervals are specified in seconds.</p>
</dd>
<dt><i>count</i></dt>
<dd><p>Specify the number of times that the statistics are repeated.
By default, <tt>poolstat</tt> reports statistics only once.</p>
</dd>
</dl>
<p>If <i>interval</i> and <i>count</i> are
not specified, statistics are reported once. If <i>interval</i> is
specified and <i>count</i> is not specified, then statistics
are reported indefinitely.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p39.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p41.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

