<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Up NFS Services - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p15.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p18.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p20.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="rfsadmin-68"></a><h3>Setting Up NFS Services</h3>
<p><a name="indexterm-227"></a>This section describes some of the tasks that are necessary to
do the following:</p>
<ul><li><p>Start and stop the NFS server</p>
</li>
<li><p>Start and stop the automounter</p>
</li>
<li><p>Select a different version of NFS</p>
</li>
</ul>
<hr>
<p><b>Note - </b>Starting in the Solaris 10 release, NFS version 4 is the default.</p>
<hr>
<a name="rfsadmin-tbl-196"></a>Table 5-3 Task Map for NFS
Services<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>Start the NFS server</p>
</td><td><p>Steps to start the NFS service if it has not been started automatically.</p>
</td><td><p><a href="p19.html#rfsadmin-69">How to Start the NFS Services</a></p>
</td></tr>
<tr><td><p>Stop the NFS server</p>
</td><td><p>Steps to stop the NFS service. Normally the service should not need
to be stopped.</p>
</td><td><p><a href="p19.html#rfsadmin-72">How to Stop the NFS Services</a></p>
</td></tr>
<tr><td><p>Start the automounter</p>
</td><td><p>Steps to start the automounter. This procedure is required when some
of the automounter maps are changed.</p>
</td><td><p><a href="p19.html#rfsadmin-121">How to Start the Automounter</a></p>
</td></tr>
<tr><td><p>Stop the automounter</p>
</td><td><p>Steps to stop the automounter. This procedure is required when some
of the automounter maps are changed.</p>
</td><td><p><a href="p19.html#rfsadmin-124">How to Stop the Automounter</a></p>
</td></tr>
<tr><td><p>Select a different version of NFS on the server</p>
</td><td><p>Steps to select a different version of NFS on the server. If you choose
not to use NFS version 4, use this procedure.</p>
</td><td><p><a href="p19.html#rfsadmin-965">How to Select Different Versions of NFS on a Server</a></p>
</td></tr>
<tr><td><p>Select a different version of NFS on the client</p>
</td><td><p>Steps to select a different version of NFS on the client by modifying
the <tt>/etc/default/nfs</tt> file. If you choose not to use NFS
version 4, use this procedure.</p>
</td><td><p><a href="p20.html">How to Select Different Versions of NFS on a Client by Modifying the <tt>/etc/default/nfs</tt> File</a></p>
</td></tr>
<tr><td></td><td><p>Alternate steps to select a different version of NFS on the client by
using the command line. If you choose not to use NFS version 4, use this alternate
procedure.</p>
</td><td><p><a href="p20.html#ekqwg">How to Use the Command Line to Select Different Versions of NFS on a Client</a></p>
</td></tr>
</table><a name="rfsadmin-69"></a><h4><img src="graphics/procedure.gif"> How to Start the NFS Services</h4>
<a name="indexterm-228"></a><a name="indexterm-229"></a><ol><li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information
about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>. To configure
a role with the Primary Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="rfsadmin-step-71"></a><b>Enable the NFS service on the server. </b><p>Type the following command.</p><pre># <tt><b>svcadm enable network/nfs/server</b></tt></pre><p>This command enables the NFS service.</p><hr>
<p><b>Note - </b>Starting with the Solaris 9 release, the NFS server starts automatically
when you boot the system. Additionally, any time after the system has been
booted, the NFS service daemons can be automatically enabled by sharing the
NFS file system. See <a href="p15.html#rfsadmin-57">How to Set Up Automatic File-System Sharing</a>.</p>
<hr>
</li></ol><a name="rfsadmin-72"></a><h4><img src="graphics/procedure.gif"> How to Stop the NFS Services</h4>
<a name="indexterm-230"></a><a name="indexterm-231"></a><ol><li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information
about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>. To configure
a role with the Primary Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="rfsadmin-step-74"></a><b>Disable the NFS service on the server. </b><p>Type the following command.</p><pre># <tt><b>svcadm disable network/nfs/server</b></tt></pre></li></ol><a name="rfsadmin-121"></a><h4><img src="graphics/procedure.gif"> How to Start the Automounter</h4>
<a name="indexterm-232"></a><a name="indexterm-233"></a><ol><li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information
about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>. To configure
a role with the Primary Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="rfsadmin-step-123"></a><b>Enable the autofs daemon. </b><p>Type
the following command:</p><pre># <tt><b>svcadm enable system/filesystem/autofs</b></tt></pre></li></ol><a name="rfsadmin-124"></a><h4><img src="graphics/procedure.gif"> How to Stop the Automounter</h4>
<a name="indexterm-234"></a><a name="indexterm-235"></a><ol><li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information
about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>. To configure
a role with the Primary Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="rfsadmin-step-126"></a><b>Disable the autofs daemon. </b><p>Type
the following command:</p><pre># <tt><b>svcadm disable system/filesystem/autofs</b></tt></pre></li></ol><a name="rfsadmin-965"></a><h4><img src="graphics/procedure.gif"> How to Select Different Versions of NFS on
a Server</h4>
<a name="indexterm-236"></a><p>If you choose not to use NFS version 4, use this procedure. </p>
<ol><li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information
about roles, see Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i>. To configure
a role with the Primary Administrator profile, see Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i>.</p></li><li><a name="rfsadmin-step-218"></a><b>Edit the <tt>/etc/default/nfs</tt> file.</b><p>For example, if you want the server to provide only version 3,
set the values for both NFS_SERVER_VERSMAX and NFS_SERVER_VERSMIN to 3. For
a list of keywords and their values, refer to <a href="p31.html#rfsrefer-133">Keywords for the <tt>/etc/default/nfs</tt> File</a>.</p><pre>NFS_SERVER_VERSMAX=<i>value</i>
NFS_SERVER_VERSMIN=<i>value</i></pre><dl><dt><i>value</i></dt>
<dd><p>Provide the version number.</p>
</dd>
</dl>
<hr>
<p><b>Note - </b>By default, these lines are commented. Remember to remove the
pound (#) sign, also.</p>
<hr>
</li><li><a name="rfsadmin-step-726"></a>(Optional) <b>If you want to disable
server delegation, include this line in the <tt>/etc/default/nfs</tt> file.</b><pre><tt><b>NFS_SERVER_DELEGATION=off</b></tt></pre><hr>
<p><b>Note - </b>In NFS version 4, server delegation is enabled by default. For
more information, see <a href="p49.html#rfsrefer-140">Delegation in NFS Version 4</a>.</p>
<hr>
</li><li><a name="rfsadmin-step-244"></a>(Optional) <b>If you want to set
a common domain for clients and servers, include this line in the <tt>/etc/default/nfs</tt> file.</b><pre>NFSMAPID_DOMAIN=<i>my.comany.com</i></pre><dl><dt><i>my.comany.com</i></dt>
<dd><p>Provide the common domain</p>
</dd>
</dl>
<p>For more information, refer to <a href="p33.html#rfsrefer-118"><tt>nfsmapid</tt> Daemon</a>.</p></li><li><a name="rfsadmin-step-240"></a><b>Check if the NFS service is running on
the server.</b><p>Type the following command:</p><pre># <tt><b>svcs network/nfs/server</b></tt></pre><p>This command reports whether the NFS server service is online or disabled.</p></li><li><a name="rfsadmin-step-219"></a>(Optional) <b>If necessary, disable
the NFS service. </b><p>If you discovered from the previous step that
the NFS service is online, type the following command to disable the service.</p><pre># <tt><b>svcadm disable network/nfs/server</b></tt></pre><hr>
<p><b>Note - </b>If you need to configure your NFS service, refer to <a href="p15.html#rfsadmin-57">How to Set Up Automatic File-System Sharing</a>.</p>
<hr>
</li><li><a name="rfsadmin-step-220"></a><b>Enable the NFS service. </b><p>Type
the following command to enable the service.</p><pre># <tt><b>svcadm enable network/nfs/server</b></tt></pre></li></ol><h6>See Also</h6><p><a href="p47.html#rfsrefer-147">Version Negotiation in NFS</a></p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p18.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p20.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

