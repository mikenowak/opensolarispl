<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title><i>time</i> Portion of Time Field - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Network Services<?GenHTML /ReferencePage> > <a href="p146.html">26.&nbsp;&nbsp;UUCP (Reference)</a> > <a href="p146.html#uucpov-13">UUCP <tt>/etc/uucp/Systems</tt> File</a> > <a href="p146.html#uucpov-16">Time Field in <tt>/etc/uucp/Systems</tt> File</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p146.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p148.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="egkba"></a><h5><i>time</i> Portion of Time Field</h5>
<p><a href="p146.html#uucpov-ex-14">Example 26-1</a> shows <tt>Any</tt> in
the Time field, which indicates that
host <tt>Arabian</tt> can
be called at any time.</p>
<p>The <i>time</i> portion
should be a range of times that are
specified in 24-hour notation, for
example, <tt>0800-1230</tt> for
8:30 a.m. to 12:30 p.m. If no <i>time</i> portion is specified,
any time of day is assumed to be allowed
for the call.</p>
<p>A time range that spans 0000
is permitted. For example, <tt>0800-0600</tt> means all times are allowed
other than times between 6 a.m. and
8 a.m.</p>
<a name="uucpov-18"></a><h5><b>retry</b> Portion of Time Field</h5>
<p><a name="indexterm-2428"></a><a name="indexterm-2429"></a>The <b>retry</b> subfield
enables you to specify the minimum
time (in minutes) before a retry,
following a failed attempt. The default
wait is 60 minutes. The subfield separator
is a semicolon (;). For example, <tt>Any;9</tt> is interpreted as
call any time, but wait at least 9
minutes before retrying after a failure
occurs.  </p>
<p>If you do not specify a <i>retry</i> entry, an exponential
back-off algorithm is used. This means
that UUCP starts with a default wait
time that grows larger as the number
of failed attempts increases. For
example, suppose the initial retry
time is 5 minutes. If no response
occurs, the next retry is 10 minutes
later. The next retry is 20 minutes
later, and so on until the maximum
retry time of 23 hours is reached.
If <i>retry</i> is
specified, the value specified is
always the retry time. Otherwise,
the back-off algorithm is used.</p>
<a name="uucpov-19"></a><h4>Type
Field in <tt>/etc/uucp/Systems</tt> File</h4>
<p><a name="indexterm-2430"></a><a name="indexterm-2431"></a><a name="indexterm-2432"></a><a name="indexterm-2433"></a>This field contains the
device type that should be used to
establish the communication link to
the remote computer. The keyword that
is used in this field is matched against
the first field of <tt>Devices</tt> file
entries.    </p>
<a name="uucpov-ex-20"></a>Example 26-2 Keyword With the Type Field<pre>Arabian    Any    ACUEC, <tt><b>g</b></tt>    38400    1112222    ogin: Puucp ssword:beledi</pre><p>You can define the protocol
that is used to contact the system
by adding the protocol to the Type
field. The previous example shows
how to attach the protocol <tt>g</tt> to
the device type <tt>ACUEC</tt>.
For information about protocols, see <a href="p149.html#uucpov-48">Protocol Definitions in <tt>/etc/uucp/Devices</tt> File</a>.</p>
<a name="uucpov-21"></a><h4>Speed
Field in <tt>/etc/uucp/Systems</tt> File</h4>
<p><a name="indexterm-2434"></a><a name="indexterm-2435"></a><a name="indexterm-2436"></a><a name="indexterm-2437"></a><a name="indexterm-2438"></a>This field, also known
as the Class field, specifies the
transfer speed of the device that
is used in establishing the communication
link. The UUCP speed field can contain
a letter and speed, such as  <tt>C1200</tt> or <tt>D1200</tt>,
to differentiate between classes of
dialers. Refer to <a href="p148.html#uucpov-40">Class Field in the <tt>/etc/uucp/Devices</tt> File</a>.
    </p>
<p><a name="indexterm-2439"></a>Some devices can be used
at any speed, so the keyword <tt>Any</tt> can be used. This field
must match the Class field in the
associated <tt>Devices</tt> file
entry. </p>
<a name="uucpov-ex-22"></a>Example 26-3 Entry in Speed Field<pre>eagle    Any    ACU, g    <tt><b>D1200</b></tt>    NY3251    ogin: nuucp ssword:Oakgrass</pre><p><a name="indexterm-2440"></a><a name="indexterm-2441"></a><a name="indexterm-2442"></a><a name="indexterm-2443"></a><a name="indexterm-2444"></a><a name="indexterm-2445"></a><a name="indexterm-2446"></a><a name="indexterm-2447"></a><a name="indexterm-2448"></a><a name="indexterm-2449"></a>If information is not
required for this field, use a dash
(<tt>-</tt>) as a placeholder
for the field. </p>
<a name="uucpov-23"></a><h4>Phone
Field in <tt>/etc/uucp/Systems</tt> File</h4>
<p><a name="indexterm-2450"></a><a name="indexterm-2451"></a><a name="indexterm-2452"></a><a name="indexterm-2453"></a><a name="indexterm-2454"></a><a name="indexterm-2455"></a>This field enables you
to specify the telephone number, known
as a <b>token</b>, of
the remote computer for automatic
dialers, which are known as <b>port
selectors</b>. The telephone
number consists of an optional alphabetic
abbreviation and a numeric part. If
an abbreviation is used, the abbreviation
must be listed in the <tt>Dialcodes</tt> file.</p>
<a name="uucpov-ex-24"></a>Example 26-4 Entry in the Phone Field<pre>nubian    Any    ACU       2400    <tt><b>NY555-1212</b></tt>    ogin: Puucp ssword:Passuan
eagle     Any    ACU, g    D1200   <tt><b>NY=3251</b></tt>       ogin: nuucp ssword:Oakgrass</pre><p><a name="indexterm-2456"></a><a name="indexterm-2457"></a><a name="indexterm-2458"></a><a name="indexterm-2459"></a><a name="indexterm-2460"></a>In the <tt>Phone</tt> field,
an equal sign (<tt>=</tt>)
instructs the <tt>ACU</tt> to
wait for a secondary dial tone before
dialing the remaining digits. A dash
(<tt>-</tt>) in the string
instructs the <tt>ACU</tt> to
pause four seconds before dialing
the next digit.</p>
<p>If your computer is connected
to a port selector, you can access
other computers that are connected
to that selector. The <tt>Systems</tt> file
entries for these remote machines
should not have a telephone number
in the <tt>Phone</tt> field.
Instead, this field should contain
the token to be passed to the switch.
In this way, the port selector knows
the remote machine with which your
host wants to communicate, usually
just the system name. The associated <tt>Devices</tt> file entry should
have a <tt>\D</tt> at the
end of the entry to ensure that this
field is not translated by using the <tt>Dialcodes</tt> file. </p>
<a name="uucpov-25"></a><h4>Chat-Script
Field in <tt>/etc/uucp/Systems</tt> File</h4>
<p><a name="indexterm-2461"></a><a name="indexterm-2462"></a><a name="indexterm-2463"></a><a name="indexterm-2464"></a>This field, also known
as the Login field, contains a string
of characters that is called a <b>chat-script</b>. The chat script
contains the characters the local
and remote machines must pass to each
other in their initial conversation.
Chat scripts have the following format:</p>
<p><i>expect send  [expect
send] ....</i></p>
<p><a name="indexterm-2465"></a><a name="indexterm-2466"></a><i>expect</i> represents
the string that the local host expects
to receive from the remote host to
initiate conversation. <i>send</i> is
the string that the local host sends
after the local host  receives the <i>expect</i> string from the
remote host. A chat script can have
more than one expect-send sequence.
  </p>
<p><a name="indexterm-2467"></a>A basic chat script might
contain the following:  </p>
<ul><li><p>Login prompt that
the local host expects to receive
from the remote machine</p>
</li>
<li><p>Login name that the
local host sends to the remote machine
in order to log in</p>
</li>
<li><p>Password prompt that
the local host expects to receive
from the remote machine</p>
</li>
<li><p>Password that the
local host sends to the remote machine</p>
</li>
</ul>
<p><a name="indexterm-2468"></a><a name="indexterm-2469"></a>The <i>expect</i> field
can be composed of subfields of the
following form:</p>
<p><i>expect[-send-expect]...</i></p>
<p>The -<i>send</i> is
sent if the prior <i>expect</i> is
not successfully read. The -<i>expect</i> that follows
the -<i>send</i> is
the next expected string. </p>
<p>For example, with strings <tt>login--login</tt>, the UUCP on
the local host expects <tt>login</tt>.
If UUCP receives <tt>login</tt> from
the remote machine, UUCP goes to the
next field. If UUCP  does not receive <tt>login</tt>, UUCP sends a carriage
return, then looks for <tt>login</tt> again.
If the local computer initially does
not expect any characters, use the
characters <tt>""</tt>,
for NULL string, in the <i>expect</i> field. All <i>send</i> fields are sent with
a carriage return appended unless
the <i>send</i> string
is terminated with a <tt>\c</tt>.</p>
<p>The following is an example
of a <tt>Systems</tt> file
entry that uses an <i>expect-send</i> string: </p>
<pre>sonora Any ACUEC 9600 2223333 <tt><b>"" \r \r ogin:-BREAK-ogin: Puucpx ssword:xyzzy</b></tt></pre><p>This example instructs UUCP
on the local host to send two carriage
returns and wait for <tt>ogin:</tt> (for <tt>Login:</tt>). If  <tt>ogin</tt>:
is not received, send a <tt>BREAK</tt>.
When you do receive <tt>ogin:</tt>,
send the login name <tt>Puucpx</tt>.
When you receive <tt>ssword:</tt> (for <tt>Password:</tt>), send the password <tt>xyzzy</tt>. </p>
<p><a name="indexterm-2470"></a><a name="indexterm-2471"></a><a name="indexterm-2472"></a><a name="indexterm-2473"></a><a name="indexterm-2474"></a>The following table lists
some useful escape characters.</p>
<a name="uucpov-tbl-26"></a>Table 26-1 Escape Characters Used in the
Chat-Script Field of the <tt>Systems</tt> File<table><tr><th><p>Escape Character</p>
</th><th><p>Meaning</p>
</th></tr>
<tr><td><p><tt>\b</tt>  </p>
</td><td><p>Sends or expects a backspace
character.</p>
</td></tr>
<tr><td><p><tt>\c</tt>  </p>
</td><td><p>If at the end of a string, suppresses
the carriage return that is normally
sent. Ignored otherwise.</p>
</td></tr>
<tr><td><p><tt>\d</tt>  </p>
</td><td><p>Delays 1&ndash;3 seconds before
sending more characters.</p>
</td></tr>
<tr><td><p><tt>\E</tt>    </p>
</td><td><p>Starts echo checking. From this
point forward, whenever a character
is transmitted, UUCP waits for the
character to be received before continuing
its checks.</p>
</td></tr>
<tr><td><p><tt>\e</tt>   </p>
</td><td><p>Echoes check-off. </p>
</td></tr>
<tr><td><p><tt>\H</tt>  </p>
</td><td><p>Ignores one hangup. Use this
option for dialback modems.</p>
</td></tr>
<tr><td><p><tt>\K</tt>  </p>
</td><td><p>Sends a BREAK  character.</p>
</td></tr>
<tr><td><p><tt>\M</tt>   </p>
</td><td><p>Turns on <tt>CLOCAL</tt> flag.</p>
</td></tr>
<tr><td><p><tt>\m</tt>    </p>
</td><td><p>Turns off <tt>CLOCAL</tt> flag.</p>
</td></tr>
<tr><td><p><tt>\n</tt>  </p>
</td><td><p>Sends or expects a newline character.</p>
</td></tr>
<tr><td><p><tt>\N</tt>  </p>
</td><td><p>Sends a NULL character (ASCII
NUL).</p>
</td></tr>
<tr><td><p><tt>\p</tt> </p>
</td><td><p>Pauses for approximately 1/4
to 1/2 second.</p>
</td></tr>
<tr><td><p><tt>\r</tt>  </p>
</td><td><p>Sends or expects a carriage
return.</p>
</td></tr>
<tr><td><p><tt>\s</tt>  </p>
</td><td><p>Sends or expects a space character.</p>
</td></tr>
<tr><td><p><tt>\t</tt>  </p>
</td><td><p>Sends or expects a tab character.</p>
</td></tr>
<tr><td><p><tt>EOT</tt>  </p>
</td><td><p>Sends an EOT, followed by newline
twice.</p>
</td></tr>
<tr><td><p><tt>BREAK</tt> </p>
</td><td><p>Sends a BREAK character.</p>
</td></tr>
<tr><td><p><tt>\</tt><i>ddd</i>  </p>
</td><td><p>Sends or expects the character
that is represented by the octal digits
(<i>ddd</i>).</p>
</td></tr>
</table><a name="egkbm"></a><h4>Enabling
Dialback Through the Chat Script</h4>
<p><a name="indexterm-2475"></a><a name="indexterm-2476"></a><a name="indexterm-2477"></a><a name="indexterm-2478"></a><a name="indexterm-2479"></a><a name="indexterm-2480"></a><a name="indexterm-2481"></a>Some companies set up
dial-in servers to handle calls from
remote computers. For example, your
company might have a dial-in server
with a dialback modem that employees
can call from their home computers.
After the dial-in server identifies
the remote machine, the dial-in server
disconnects the link to the remote
machine and then calls back the remote
machine. The communications link is
then reestablished.        </p>
<p>You can facilitate dialback
by using the <tt>\H</tt> option
in the <tt>Systems</tt> file
chat script at the place where dialback
should occur. Include the <tt>\H</tt> as
part of an expect string at the place
where the dial-in server is expected
to hang up. </p>
<p>For example, suppose the chat
script that calls a dial-in server
contains the following string:</p>
<pre>INITIATED\Hogin:</pre><p>The UUCP dialing facility on
the local machine expects to receive
the characters, <tt>INITIATED</tt>,
from the dial-in server. After the
characters, <tt>INITIATED</tt>,
have been matched, the dialing facility
flushes any subsequent characters
that the dialing facility receives
until the dial-in server hangs up.
The local dialing facility then waits
until it receives the next part of
the expect string, the characters <tt>ogin:</tt>, from the dial-in
server. When it receives the <tt>ogin:</tt>, the dialing facility then
continues through the chat script.</p>
<p><a name="indexterm-2482"></a><a name="indexterm-2483"></a><a name="indexterm-2484"></a>A string of characters
does not need to directly precede
or follow the <tt>\H</tt>,
as shown in the previous sample string.</p>
<a name="uucpov-28"></a><h4>Hardware
Flow Control in <tt>/etc/uucp/Systems</tt> File</h4>
<p><a name="indexterm-2485"></a><a name="indexterm-2486"></a><a name="indexterm-2487"></a><a name="indexterm-2488"></a><a name="indexterm-2489"></a><a name="indexterm-2490"></a>You can also use the pseudo-send <tt>STTY=</tt><b>value</b> string
to set modem characteristics. For
instance, <tt>STTY=crtscts</tt> enables
hardware flow control.  <tt>STTY</tt> accepts
all <tt>stty</tt> modes.
See the <tt>stty</tt>(1) and <tt>termio</tt>(7I) man
pages for complete details.</p>
<p>The following example enables
hardware flow control in a <tt>Systems</tt> file entry: </p>
<pre>unix Any ACU 2400 12015551212 "" \r ogin: Puucp ssword:Passuan "" \ <tt><b>STTY=crtscts</b></tt></pre><p><a name="indexterm-2491"></a><a name="indexterm-2492"></a><a name="indexterm-2493"></a><a name="indexterm-2494"></a><a name="indexterm-2495"></a><a name="indexterm-2496"></a>This pseudo-send string
can also be used in entries in the <tt>Dialers</tt> file.</p>
<a name="uucpov-29"></a><h4>Setting
Parity in <tt>/etc/uucp/Systems</tt> File</h4>
<p><a name="indexterm-2497"></a><a name="indexterm-2498"></a><a name="indexterm-2499"></a>In some situations, you
have to reset the parity because the
system that you are calling checks
port parity and drops the line if
it is wrong.  The expect-send couplet, <tt>""</tt> <tt>P_ZERO</tt>,
sets the high-order bit (parity bit)
 to 0. See this expect-send couplet
in the following example:</p>
<pre>unix Any ACU 2400 12015551212 <tt><b>"" P_ZERO</b></tt> "" \r ogin: Puucp ssword:Passuan</pre><p>The following are parity couplets
that can follow the expect-send couplet, <tt>""</tt> <tt>P_ZERO</tt>:</p>
<dl><dt><tt>"" P_EVEN</tt></dt>
<dd><p>Sets the parity to
even, which is the default</p>
</dd>
<dt><tt>"" P_ODD</tt></dt>
<dd><p>Sets the parity to
odd</p>
</dd>
<dt><tt>"" P_ONE</tt></dt>
<dd><p>Sets the parity bit
to 1</p>
</dd>
</dl>
<p>These parity couplets can be
inserted anywhere in the chat script.
The parity couplets apply to all information
in the chat script that follows <tt>""</tt> <tt>P_ZERO</tt>,
the expect-send couplet. A parity
couplet can also be used in entries
in the <tt>Dialers</tt> file.
The following example includes the
parity couplet, <tt>""</tt> <tt>P_ONE</tt>:</p>
<pre>unix Any ACU 2400 12015551212 "" P_ZERO <tt><b>"" P_ONE</b></tt> "" \r ogin: Puucp ssword:Passuan</pre>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p146.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p148.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

