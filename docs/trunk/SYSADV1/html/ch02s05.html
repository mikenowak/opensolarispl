<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Using the Solaris Management Tools in a Name
Service Environment (Task Map)</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Basic Administration"><link rel="up" href="ch02.html" title="Chapter 2. Working With the Solaris Management Console
(Tasks)"><link rel="prev" href="ch02s04.html" title="Starting the Solaris Management Console"><link rel="next" href="ch02s06.html" title="Adding Tools to the Solaris Management Console"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Using the Solaris Management Tools in a Name
Service Environment (Task Map)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s04.html">Prev</a> </td><th width="60%" align="center">Chapter 2. Working With the Solaris Management Console
(Tasks)</th><td width="20%" align="right"> <a accesskey="n" href="ch02s06.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="smcover-21"></a>Using the Solaris Management Tools in a Name
Service Environment (Task Map)</h2></div></div></div>

<p>By default, the Solaris management tools are set up to operate in a
local environment. For example, the Mounts and Shares tool enables you to
mount and share directories on specific systems, but not in an NIS or NIS+
environment. However, you can manage information with the Users and Computers
and Networks tools in a name service environment.</p>
<p>To work with a console tool in a name service environment, you need
to create a name service toolbox, and then add the tool to that toolbox.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>Task</p>
</th><th>
<p>Description</p>
</th><th>
<p>For Instructions</p>
</th></tr></thead><tbody><tr><td>
<p>1. Verify prerequisites.</p>
</td><td>
<p>Verify you have completed the prerequisites before attempting to use
the console in a name service environment.</p>
</td><td>
<p>
<span class="olink">Prerequisites for Using the Solaris Management Console in a Name Service Environment</span>
</p>
</td></tr><tr><td>
<p>2. Create a toolbox for the name service.</p>
</td><td>
<p>Use the New Toolbox wizard to create a toolbox for your name service
tools.</p>
</td><td>
<p>
<span class="olink">How to Create a Toolbox for a Specific Environment</span>
</p>
</td></tr><tr><td>
<p>3. Add a tool to the name service toolbox.</p>
</td><td>
<p>Add the Users tool, or any other name service tool, to your name service
toolbox.</p>
</td><td>
<p>
<span class="olink">How to Add a Tool to a Toolbox</span>
</p>
</td></tr><tr><td>
<p>4. Select the toolbox that was just created.</p>
</td><td>
<p>Select the toolbox you just created to manage name service information.</p>
</td><td>
<p>
<span class="olink">How to Start the Solaris Management Console in a Name Service Environment</span>
</p>
</td></tr></tbody></table>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="smcover-45"></a>RBAC Security Files</h3></div></div></div>

<p>The RBAC security files that work with the Solaris Management Console
are created when you upgrade to or install the Solaris 9 ,
Solaris 10, or Solaris Express release. If you do not install the Solaris
Management Console packages, the RBAC security files are installed without
the necessary data for using RBAC. For information on the Solaris Management
Console packages, see <span class="olink">Troubleshooting the Solaris Management Console</span>.</p>
<p>The RBAC security files in the Solaris 9 ,
Solaris 10, or Solaris Express release are included in your name service
so that you can use the Solaris Management Console tools in a name service
environment. </p>
<p>The security files on a local server are populated into a name service
environment as part of a standard upgrade by the <code class="filename">ypmake</code>, <code class="filename">nispopulate</code>, or equivalent LDAP commands. The following name services
are supported:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>NIS</p>
</li><li>
<p>NIS+</p>
</li><li>
<p>LDAP</p>
</li><li>
<p>files</p>
</li></ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>The <code class="literal">projects</code> database is not supported in the
NIS+ environment.</p>
</div>
<p>The RBAC security files are created when you upgrade to or install the
Solaris 9, 
the Solaris 10, or the Solaris Express release. </p>
<p>This table briefly describes the predefined security files that are
installed on a Solaris 9 ,
the Solaris 10, or the Solaris Express release. </p>
<div class="table"><a name="smcover-tbl-8"></a><p class="title"><b>Table 2.3. RBAC Security Files</b></p>


<table summary="RBAC Security Files" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p>Local File Name</p>
</th><th>
<p>Table or Map Name</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="filename">/etc/user_attr</code>
</p>
</td><td>
<p>
<code class="filename">user_attr</code>
</p>
</td><td>
<p>Associates users and roles with authorizations and rights profiles</p>
</td></tr><tr><td>
<p>
<code class="filename">/etc/security/auth_attr</code>
</p>
</td><td>
<p>
<code class="filename">auth_attr</code>
</p>
</td><td>
<p>Defines authorizations and their attributes and identifies associated
help files</p>
</td></tr><tr><td>
<p>
<code class="filename">/etc/security/prof_attr</code>
</p>
</td><td>
<p>
<code class="filename">prof_attr</code>
</p>
</td><td>
<p>Defines rights profiles, lists the rights profiles assigned to the authorizations,
and identifies associated help files</p>
</td></tr><tr><td>
<p>
<code class="filename">/etc/security/exec_attr</code>
</p>
</td><td>
<p>
<code class="filename">exec_attr</code>
</p>
</td><td>
<p>Defines the privileged operations assigned to a rights profile</p>
</td></tr></tbody></table>
</div>
<p>For unusual upgrade cases, you might have to use the <code class="filename">smattrpop</code> command
to populate RBAC security files in the following instances: </p>
<div class="itemizedlist"><ul type="disc"><li>
<p>When creating or modifying rights profiles</p>
</li><li>
<p>When you need to include users and roles by customizing the <code class="filename">usr_attr</code> file</p>
</li></ul></div>
<p>For more information, see <span class="olink">
<em class="citetitle">Role-Based Access Control (Overview)</em> in <em class="citetitle">System Administration Guide: Security Services</em>
</span>.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="smcover-42"></a>Prerequisites for Using the Solaris Management
Console in a Name Service Environment</h3></div></div></div>

<p>The following table identifies what you need to do before you can use
the Solaris Management Console in a name service environment.</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Prerequisite</p>
</th><th>
<p>For More Information</p>
</th></tr></thead><tbody><tr><td>
<p>Install the Solaris 9 ,
Solaris 10, or Solaris Express release. </p>
</td><td>
<p>
<span class="olink">
<em class="citetitle">Solaris Express Installation Guide: Basic Installations</em>
</span>
</p>
</td></tr><tr><td>
<p>Set up your name service environment.</p>
</td><td>
<p>
<span class="olink">
<em class="citetitle">System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</em>
</span>
</p>
</td></tr><tr><td>
<p>Select your management scope.</p>
</td><td>
<p>
<span class="olink">Management Scope</span>
</p>
</td></tr><tr><td>
<p>Make sure your<code class="filename">/etc/nsswitch.conf</code> file is configured
so that you can access your name service data.</p>
</td><td>
<p>
<span class="olink">
<code class="filename">/etc/nsswitch.conf</code> File</span>
</p>
</td></tr></tbody></table>
</div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="smcover-111"></a>Management Scope</h3></div></div></div>

<p>The Solaris Management Console uses the term <span class="emphasis"><em>management scope</em></span> to
refer to the name service environment that you want to use with the selected
management tool. The management scope choices for the Users tool and the Computers
and Networks tool are LDAP, NIS, NIS+, or files.</p>
<p>The management scope that you select during a console session should
correspond to the primary name service identified in the <code class="filename">/etc/nsswitch.conf</code> file.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="smcover-24"></a>
<code class="filename">/etc/nsswitch.conf</code> File</h3></div></div></div>

<p>The <code class="filename">/etc/nsswitch.conf</code> file on each system specifies
the policy for name service lookups (where data is read from) on that system.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>You must make sure that the name service accessed from the console,
which you specify through the console Toolbox Editor, appears in the search
path of the <code class="filename">/etc/nsswitch.conf</code> file. If the specified
name service does not appear there, the tools might behave in unexpected ways,
resulting in errors or warnings.</p>
</div>
<p>When you use the Solaris management tools in a name service environment,
you might impact many users with a single operation. For example, if you delete
a user in the NIS name service, that user is deleted on all systems that are
using NIS.</p>
<p>If different systems in your network have different <code class="filename">/etc/nsswitch.conf</code> configurations, unexpected results might occur. So, all systems
to be managed with the Solaris management tools should have a consistent name
service configuration.</p>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2014264"></a></h3></div></div></div>

<div class="task"><a name="smcover-17"></a><p class="title"><b>How to Create a Toolbox for a Specific Environment</b></p><div class="tasksummary">
<p>Applications for administering the Solaris Operating System are called tools. Those
tools are stored in collections referred to as <span class="emphasis"><em>toolboxes</em></span>.
A toolbox can be located on a local server, where the console is located,
or on a remote machine.</p>
<p>Use the Toolbox Editor to add a new toolbox, to add tools to an existing
toolbox, or to change the scope of a toolbox. For example, use this tool to
change the domain from local files to a name service.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>You can start the Toolbox Editor as a normal user. However, if
you plan to make changes and save them to the default console toolbox, <code class="filename">/var/sadm/smc/toolboxes</code>, you must start the Toolbox Editor as <code class="filename">root</code>.</p>
</div>
</div><div class="procedure"><ol type="1"><li><a name="smcover-step-7"></a>
<p>Start the Toolbox Editor.</p>
<pre class="screen"># <strong class="userinput"><code>/usr/sadm/bin/smc edit &amp;</code></strong>
</pre>
</li><li><a name="smcover-step-20"></a>
<p>Select Open from the Toolbox menu.</p>
</li><li><a name="smcover-step-15"></a>
<p>Select the This Computer icon in the Toolboxes:
window.</p>
</li><li><a name="smcover-step-16"></a>
<p>Click Open.</p>
<p>The This Computer
toolbox opens in the window.</p>
</li><li><a name="smcover-step-21"></a>
<p>Select the This Computer icon again in the
Navigation pane.</p>
</li><li><a name="smcover-step-42"></a>
<p>Select Add Folder from the Action menu.</p>
</li><li><a name="smcover-step-18"></a>
<p>Use the Folder wizard to add a new toolbox
for your name service environment.</p>
<ol type="a">
<li><a name="smcover-step-72"></a>
<p>Name and Description &#8211; Provide a name
in the Full Name window. Click Next.</p>
<p>For example, provide &#8220;NIS
tools&#8221; for the NIS environment.</p>
</li>
<li><a name="smcover-step-22"></a>
<p>Provide a description in the Description
window. Click Next.</p>
<p>For example, &#8220;tools for NIS environment&#8221;
is an appropriate example.</p>
</li>
<li><a name="smcover-step-23"></a>
<p>Icons &#8211; Use the default value for the
Icons. Click Next.</p>
</li>
<li><a name="smcover-step-26"></a>
<p>Management Scope &#8211; Select Override.</p>
</li>
<li><a name="smcover-step-45"></a>
<p>Select your name service under the Management
Scope pull-down menu.</p>
</li>
<li><a name="smcover-step-19"></a>
<p>Add the name service master name in the Server
field, if necessary.</p>
</li>
<li><a name="smcover-step-129"></a>
<p>Add the domain managed by the server in
the Domain field.</p>
</li>
<li><a name="smcover-step-29"></a>
<p>Click Finish.</p>
<p>The new toolbox
appears in the left Navigation pane.</p>
</li>
</ol>
</li><li><a name="smcover-step-123"></a>
<p>Select the new toolbox icon and select Save
As from the Toolbox menu.</p>
</li><li><a name="smcover-step-121"></a>
<p>Enter the toolbox path name in the Local
Toolbox Filename dialog box. Use the <code class="filename">.tbx</code> suffix.</p>
<pre class="screen">/var/sadm/smc/toolboxes/this_computer/<em class="replaceable"><code>toolbox-name</code></em>.tbx</pre>
</li><li><a name="smcover-step-122"></a>
<p>Click Save.</p>
<p>The new toolbox
appears in the Navigation pane in the console window.</p>
</li></ol></div><div class="taskrelated">

<p>After you have created a name service toolbox, you can put a name service
tool into it.  For more information, see <span class="olink">How to Add a Tool to a Toolbox</span>.</p>
</div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2014628"></a></h3></div></div></div>

<div class="task"><a name="smcover-30"></a><p class="title"><b>How to Add a Tool to a Toolbox</b></p><div class="tasksummary">
<p>In addition to the default tools that ship with the console, additional
tools that can be launched from the console are being developed. As these
tools become available, you can add one or more tools to an existing toolbox.</p>
<p>You can also create a new toolbox, for either local management or network
management. Then, you can add tools to the new toolbox.</p>
</div><div class="procedure"><ol type="1"><li>
<p>Become superuser or assume an equivalent role.</p>
<p>Roles contain authorizations and privileged commands. For more information about roles,
see <span class="olink">
<em class="citetitle">Configuring RBAC (Task Map)</em> in <em class="citetitle">System Administration Guide: Security Services</em>
</span>.</p>
</li><li><a name="smcover-step-73"></a>
<p>Start the Toolbox Editor, if necessary.</p>
<pre class="screen"># <strong class="userinput"><code>/usr/sadm/bin/smc edit &amp;</code></strong>
</pre>
</li><li><a name="smcover-step-32"></a>
<p>Select the toolbox.</p>
<p>If you want
to work in a name service, select the toolbox you just created in the Toolbox
Editor. For more information, see <span class="olink">How to Create a Toolbox for a Specific Environment</span>.</p>
</li><li><a name="smcover-step-48"></a>
<p>Select Add Tool from the Action menu.</p>
</li><li><a name="smcover-step-34"></a>
<p>Use the Add Tool wizard to add the new tool.</p>
<ol type="a">
<li><a name="smcover-step-74"></a>
<p>Server Selection &#8211; Add the name service
master in the Server window. Click Next.</p>
</li>
<li><a name="smcover-step-35"></a>
<p>Tools Selection &#8211; Select the tool you
want to add from the Tools window. Click Next.</p>
<p>If this toolbox
is a name service toolbox, choose a tool you want to work in a name service
environment. For example, choose the Users tool.</p>
</li>
<li><a name="smcover-step-36"></a>
<p>Name and Description &#8211; Accept the default
values. Click Next.</p>
</li>
<li><a name="smcover-step-37"></a>
<p>Icons &#8211; Accept the default values,
unless you have created custom icons. Click Next.</p>
</li>
<li><a name="smcover-step-38"></a>
<p>Management Scope &#8211; Accept the default
value &#8220;Inherit from Parent.&#8221; Click Next.</p>
</li>
<li><a name="smcover-step-39"></a>
<p>Tool Loading &#8211; Accept the default &#8220;Load
tool when selected.&#8221; Click Finish.</p>
</li>
</ol>
</li><li><a name="smcover-step-40"></a>
<p>Select Save from the Toolbox menu to save
the updated toolbox.</p>
<p>The Local Toolbox window is displayed.</p>
</li></ol></div></div>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2014915"></a></h3></div></div></div>

<div class="task"><a name="smcover-23"></a><p class="title"><b>How to Start the Solaris Management Console in
a Name Service Environment</b></p><div class="tasksummary">
<p>After you have created a name service toolbox and added tools to it,
you can start the Solaris Management Console and open that toolbox to manage
a name service environment.</p>
</div><div class="taskprerequisites">

<p>Verify that the following prerequisites are met:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>Ensure that the system you are logged in to is configured
to work in a name service environment.</p>
</li><li>
<p>Verify that the <code class="filename">/etc/nsswitch.conf</code> file
is configured to match your name service environment.</p>
</li></ul></div>
</div><div class="procedure"><ol type="1"><li><a name="smcover-step-75"></a>
<p>Start the Solaris Management Console.</p>
<p>For more information, see <span class="olink">How to Start the Console as Superuser or as a Role</span>.</p>
</li><li><a name="smcover-step-28"></a>
<p>Select the toolbox you created for the name
service, which appears in the Navigation pane.</p>
<p>For information
on creating a toolbox for a name service, see <span class="olink">How to Create a Toolbox for a Specific Environment</span>.</p>
</li></ol></div></div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s04.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s06.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Starting the Solaris Management Console </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Adding Tools to the Solaris Management Console</td></tr></table></div></body></html>
