<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p150.html#mipmanaging-22">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p150.html#mipmanaging-26">Mobile IP Configuration File</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p152.html#mipmanaging-5">Configuration File Sections and Labels</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p152.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p154.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="mipmanaging-16"></A><h4><tt>GlobalSecurityParameters</tt> Section</h4>
<A NAME="indexterm-2724"></A><A NAME="indexterm-2725"></A><p>The <tt>GlobalSecurityParameters</tt> section contains the labels <tt>maxClockSkew</tt>, <tt>HA-FAauth</tt>, <tt>MN-FAauth</tt>, <tt>Challenge</tt>, and <tt>KeyDistribution</tt>. This section has the
following syntax:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[GlobalSecurityParameters]
     MaxClockSkew = <i>n</i>
     HA-FAauth = &lt;yes/no>
     MN-FAauth = &lt;yes/no>
     Challenge = &lt;yes/no>
     KeyDistribution = files</pre>
</td></table><br><p><A NAME="indexterm-2726"></A><A NAME="indexterm-2727"></A><A NAME="indexterm-2728"></A>The Mobile IP protocol provides message replay protection by allowing
timestamps to be present in the messages. If the clocks differ, the home agent returns
an error to the mobile node with the current time and the mobile node can register
again by using the current time. You use the <tt>MaxClockSkew</tt> label
to configure the maximum number of seconds that differ between the home agent and
the mobile node's clocks. The default value is 300 seconds. </p>
<p>The <tt>HA-FAauth</tt> and <tt>MN-FAauth</tt> labels enable
or disable the requirement for home-foreign and mobile-foreign authentication, respectively.
The default value is disabled. You use the <tt>challenge</tt> label so that
the foreign agent issues challenges to the mobile node in its advertisements. The
label is used for replay protection. The default value is disabled here, also.</p>
<p><A NAME="indexterm-2729"></A>The following table describes the labels and values that you can use in
the <tt>GlobalSecurityParameters</tt> section.</p>
<A NAME="mipimplementing-tbl-38c"></A><p><b>Table 29-2 </b><tt>GlobalSecurityParameters</tt> Section Labels and Values</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Label</p></th><th scope="col"><p>Value</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p><tt>MaxClockSkew</tt></p></td><td><p><tt>n</tt></p></td><td><p><A NAME="indexterm-2730"></A>The number of seconds that <tt>mipagent</tt> accepts as a difference
between its own local time and the time that is found in registration requests</p></td></tr>
<tr><td><p><tt>HA-FAauth</tt></p></td><td><p><tt>yes</tt> or <tt>no</tt></p></td><td><p><A NAME="indexterm-2731"></A>Specifies if HA-FA authentication extensions must be present in registration
requests and replies</p></td></tr>
<tr><td><p><tt>MN-FAauth</tt></p></td><td><p><tt>yes</tt> or <tt>no</tt></p></td><td><p><A NAME="indexterm-2732"></A>Specifies if MN-FA authentication extensions must be present in registration
requests and replies</p></td></tr>
<tr><td><p><tt>Challenge</tt></p></td><td><p><tt>yes</tt> or <tt>no</tt></p></td><td><p><A NAME="indexterm-2733"></A>Specifies if the foreign agent includes challenges in its mobility advertisements</p></td></tr>
<tr><td><p><tt>KeyDistribution</tt></p></td><td><p><tt>files</tt></p></td><td><p><A NAME="indexterm-2734"></A>Must be set to files</p></td></tr>
</table><A NAME="mipmanaging-17"></A><h4><tt>Pool</tt> Section</h4>
<A NAME="indexterm-2735"></A><A NAME="indexterm-2736"></A><p><A NAME="indexterm-2737"></A>Mobile nodes can be assigned dynamic addresses by the home agent. Dynamic
address assignment is done within the <tt>mipagent</tt> daemon independently
of DHCP. You can create an address pool that can be used by mobile nodes by requesting
a home address. Address pools are configured through the <tt>Pool</tt> section
in the configuration file.</p>
<p>The <tt>Pool</tt> section contains the <tt>BaseAddress</tt> and <tt>Size</tt> labels. The <tt>Pool</tt> section has the following syntax:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Pool <i>pool-identifier</i>]
     BaseAddress = <i>IP-address</i>
     Size = <i>size</i></pre>
</td></table><br><p><hr size="1" noshade><p><b>Note - </b><A NAME="indexterm-2738"></A><A NAME="indexterm-2739"></A>If you use a <tt>Pool</tt> identifier, then it must also exist
in the mobile node's <tt>Address</tt> section.</p>
<hr size="1" noshade></p><p><A NAME="indexterm-2740"></A>You use the <tt>Pool</tt> section to define address pools that
can be assigned to the mobile nodes. You use the <tt>BaseAddress</tt> label
to set the first IP address in the pool. You use the <tt>Size</tt> label
to specify the number of addresses available in the pool.</p>
<p>For example, if IP addresses <tt>192.168.1.1</tt> through <tt>192.168.1.100</tt> are reserved in pool 10, the <tt>Pool</tt> section
has the following entry:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Pool 10]
     BaseAddress = 192.168.1.1
     Size = 100</pre>
</td></table><br><p><hr size="1" noshade><p><b>Note - </b><A NAME="indexterm-2741"></A>Address ranges should not encompass the broadcast address. For example,
you should not assign <tt>BaseAddress = 192.168.1.200</tt> and <tt>Size = 60</tt>, because this range encompasses the broadcast address <tt>192.168.1.255</tt>.</p>
<hr size="1" noshade></p><p><A NAME="indexterm-2742"></A>The following table describes the labels and values that are used in the <tt>Pool</tt> section.</p>
<A NAME="mipimplementing-tbl-38e"></A><p><b>Table 29-3 </b><tt>Pool</tt> Section
Labels and Values</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Label</p></th><th scope="col"><p>Value</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p><tt>BaseAddress</tt></p></td><td><p><tt>n.n.n.n</tt> </p></td><td><p><A NAME="indexterm-2743"></A>First address in the address pool</p></td></tr>
<tr><td><p><tt>Size</tt></p></td><td><p><tt>n</tt></p></td><td><p><A NAME="indexterm-2744"></A>Number of addresses in the pool</p></td></tr>
</table><A NAME="mipmanaging-14"></A><h4><tt>SPI</tt> Section</h4>
<A NAME="indexterm-2745"></A><A NAME="indexterm-2746"></A><p><A NAME="indexterm-2747"></A><A NAME="indexterm-2748"></A><A NAME="indexterm-2749"></A><A NAME="indexterm-2750"></A>Because the Mobile IP protocol requires message authentication, you must
identify the security context by using a security parameter index (SPI). You define
the security context in the <tt>SPI</tt> section. You must include a different <tt>SPI</tt> section for each security context that is defined. A numerical ID identifies
the security context. The Mobile IP protocol reserves the first 256 SPIs. Therefore,
you should use only SPI values greater than 256. The <tt>SPI</tt> section
contains security-related information, such as shared secrets and replay protection.</p>
<p>The <tt>SPI</tt> section also contains the <tt>ReplayMethod</tt> and <tt>Key</tt> labels. The <tt>SPI</tt> section has the following syntax:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[SPI <i>SPI-identifier</i>]
     ReplayMethod = &lt;none/timestamps>
     Key = <i>key</i></pre>
</td></table><br><p>Two communicating peers must share the same SPI identifier. You must configure
them with the same key and replay method. You specify the key as a string of hexadecimal
digits. The maximum length is 16 bytes. For example, if the key is 16 bytes long,
and contains the hexadecimal values <tt>0</tt> through <tt>f</tt>,
the key string might resemble the following:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>Key = 0102030405060708090a0b0c0d0e0f10</pre>
</td></table><br><p>Keys must have an even number of digits, corresponding to the two digits per
byte representation.</p>
<p><A NAME="indexterm-2751"></A>The following table describes the labels and values that you can use in
the <tt>SPI</tt> section.</p>
<A NAME="mipimplementing-tbl-38d"></A><p><b>Table 29-4 </b><tt>SPI</tt> Section
Labels and Values</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Label</p></th><th scope="col"><p>Value</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p><tt>ReplayMethod</tt></p></td><td><p><tt>none</tt> or <tt>timestamps</tt></p></td><td><p><A NAME="indexterm-2752"></A>Specifies the type of replay authentication used for the SPI</p></td></tr>
<tr><td><p><tt>Key</tt></p></td><td><p><tt>x</tt></p></td><td><p><A NAME="indexterm-2753"></A>Authentication key in hexadecimal</p></td></tr>
</table><A NAME="mipmanaging-15"></A><h4><tt>Address</tt> Section</h4>
<A NAME="indexterm-2754"></A><A NAME="indexterm-2755"></A><p><A NAME="indexterm-2756"></A><A NAME="indexterm-2757"></A>The Solaris implementation of Mobile IP enables you to configure mobile
nodes using one of three methods. Each method is configured in the <tt>Address</tt> section. The first method follows the traditional Mobile IP protocol, and
requires that each mobile node have a home address. The second method enables a mobile
node to be identified through its Network Access Identifier (NAI). The last method
enables you to configure a <b>default</b> mobile node, which can be
used by any mobile node that has the proper SPI value and related keying material.</p>
<A NAME="mipmanaging-29"></A><h5>Mobile Node</h5>
<p>The <tt>Address</tt> section for a mobile node contains the <tt>Type</tt> and <tt>SPI</tt> labels that define the address type and
SPI identifier. The <tt>Address</tt> section has the following syntax:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Address <i>address</i>]
     Type = node
     SPI = <i>SPI-identifier</i></pre>
</td></table><br><p><A NAME="indexterm-2758"></A>You must include an <tt>Address</tt> section in a home agent's
configuration file for each mobile node that is supported.</p>
<p><A NAME="indexterm-2759"></A><A NAME="indexterm-2760"></A>If Mobile IP message authentication is required between the foreign agent
and home agent, you must include an <tt>Address</tt> section for each peer
with which an agent needs to communicate. </p>
<p><A NAME="indexterm-2761"></A><A NAME="indexterm-2762"></A><A NAME="indexterm-2763"></A>The SPI value that you configure must represent an <tt>SPI</tt> section
that is present in the configuration file.</p>
<p>You can also configure private addresses for a mobile node.</p>
<p><A NAME="indexterm-2764"></A>The following table describes the labels and values that you can use in
the <tt>Address</tt> section for a mobile node.</p>
<A NAME="mipimplementing-tbl-38f"></A><p><b>Table 29-5 </b><tt>Address</tt> Section
Labels and Values (Mobile Node)</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Label</p></th><th scope="col"><p>Value</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p><tt>Type</tt></p></td><td><p><tt>node</tt> </p></td><td><p><A NAME="indexterm-2765"></A>Specifies that the entry is for a mobile node</p></td></tr>
<tr><td><p><tt>SPI</tt></p></td><td><p><tt>n</tt></p></td><td><p><A NAME="indexterm-2766"></A>Specifies the SPI value for the associated entry</p></td></tr>
</table><A NAME="mipmanaging-43"></A><h5>Mobility Agent</h5>
<p>The <tt>Address</tt> section for a mobility agent contains the <tt>Type</tt> and <tt>SPI</tt> labels that define the address type and
SPI identifier. This section also contains IPsec request, reply, and
tunnel labels. The <tt>Address</tt> section for a mobility agent has
the following syntax:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>[Address <i>address</i>]
     Type = agent
     SPI = <i>SPI-identifier</i>
     IPsecRequest = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]
     IPsecReply = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]
     IPsecTunnel = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]</pre>
</td></table><br><p><A NAME="indexterm-2767"></A>You must include an <tt>Address</tt> section in a home agent's
configuration file for each mobility agent that is supported.</p>
<p><A NAME="indexterm-2768"></A><A NAME="indexterm-2769"></A><A NAME="indexterm-2770"></A>If Mobile IP message authentication is required between the foreign agent
and the home agent, you must include an <tt>Address</tt> section for each
peer with which an agent needs to communicate. </p>
<p><A NAME="indexterm-2771"></A><A NAME="indexterm-2772"></A><A NAME="indexterm-2773"></A>The SPI value that you configure must represent an <tt>SPI</tt> section
that is present in the configuration file.</p>
<p>The following table describes the labels and values that you can use in the <tt>Address</tt> section for a mobility agent.</p>
<A NAME="mipmanaging-tbl-44"></A><p><b>Table 29-6 </b><tt>Address</tt> Section
Labels and Values (Mobility Agent)</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Label</p></th><th scope="col"><p>Value</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p><tt>Type</tt></p></td><td><p><tt>agent</tt></p></td><td><p>Specifies that the entry is for a mobility agent</p></td></tr>
<tr><td><p><tt>SPI</tt></p></td><td><p><tt>n</tt></p></td><td><p>Specifies the SPI value for the associated entry</p></td></tr>
<tr><td><p><tt>IPsecRequest</tt></p></td><td><p><tt>apply</tt> or <tt>permit</tt> (see following note)</p></td><td><p>IPsec properties to invoke for registration requests to and from this mobility
agent peer</p></td></tr>
<tr><td><p><tt>IPsecReply</tt></p></td><td><p><tt>apply</tt> or <tt>permit</tt> (see following note)</p></td><td><p>IPsec properties to invoke for registration replies to and from this mobility
agent peer</p></td></tr>
<tr><td><p><tt>IPsecTunnel</tt></p></td><td><p><tt>apply</tt> or <tt>permit</tt> (see following note)</p></td><td><p>IPsec properties to invoke for tunnel traffic to and from this mobility agent
peer</p></td></tr>
</table><p><hr size="1" noshade><p><b>Note - </b>The <tt>apply</tt> values correspond to
outbound datagrams. The <tt>permit</tt> values correspond to inbound datagrams.
Therefore, <tt>IPsecRequest apply</tt> values and <tt>IPsecReply permit</tt> values are used by the foreign agent to send and receive registration datagrams.
The <tt>IPsecRequest permit</tt> values and the <tt>IPsecReply apply</tt> values are used by the home agent to receive and send registration datagrams.</p>
<hr size="1" noshade></p>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p152.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p154.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

