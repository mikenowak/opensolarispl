<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p13.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p15.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipv6-planning-1"></A><b>Chapter&nbsp;4</b><h1>Planning an IPv6 Network (Tasks)</h1>
<p>Deploying IPv6 on a new network or an existing network requires a major
planning effort. This chapter contains the planning tasks that are necessary
before you can configure IPv6 at your site. For existing networks, IPv6 deployment
should be phased in gradually. The topics in this chapter help you phase in
IPv6 onto an otherwise IPv4-only network. </p>
<p>The following topics are discussed in this chapter:</p>
<ul><li><p><A HREF="p14.html#ipv6-planning-2">IPv6 Planning (Task Maps)</A></p>
</li>
<li><p><A HREF="p14.html#ipv6-planning-5">IPv6 Network Topology Scenario</A></p>
</li>
<li><p><A HREF="p14.html#ipv6-planning-7">Preparing the Existing Network to Support IPv6</A></p>
</li>
<li><p><A HREF="p16.html#ipv6-planning-9">Preparing an IPv6 Addressing Plan</A></p>
</li>
</ul>
<p>For an introduction to IPv6 concepts, refer to <A HREF="p10.html#ipv6-overview-7">Chapter&nbsp;3, Planning an IPv6 Addressing Scheme (Overview)</A>.
For detailed information, refer to <A HREF="p55.html#ipv6-ref-76">Chapter&nbsp;11, IPv6 in Depth (Reference)</A>.</p>
<A NAME="ipv6-planning-2"></A><h2>IPv6 Planning (Task Maps)</h2>
<A NAME="indexterm-360"></A><p>Complete the tasks in the next task map in sequential order to accomplish
the planning tasks necessary for IPv6 deployment.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Task</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>For Instructions</p></th></tr>
<tr><td><p>1. Prepare your hardware to support IPv6.</p></td><td><p>Ensure that your hardware can be upgraded to IPv6.</p></td><td><p><A HREF="p14.html#ipv6-planning-16">Preparing the Network Topology for IPv6 Support</A>&nbsp;</p></td></tr>
<tr><td><p>2. Get an ISP that supports IPv6.</p></td><td><p>Ensure that your current ISP supports IPv6. Otherwise, find an ISP who
can support IPv6. You can use two ISPs, one ISP for IPv6 and one for ISP IPv4
communications.</p></td><td><p>&nbsp;</p></td></tr>
<tr><td><p>3. Ensure that your applications are IPv6 ready.</p></td><td><p>Verify that your applications can run in an IPv6 environment.</p></td><td><p><A HREF="p15.html#ipv6-planning-18">How to Prepare Network Services for IPv6 Support</A>&nbsp;</p></td></tr>
<tr><td><p>4. Get a site prefix.</p></td><td><p>Obtain a 48-bit site prefix for your site from your ISP or from the
nearest RIR.</p></td><td><p><A HREF="p16.html#ipv6-planning-10">Obtaining a Site Prefix</A>&nbsp;</p></td></tr>
<tr><td><p>5. Create a subnet addressing plan.</p></td><td><p>You need to plan the overall IPv6 network topology and addressing scheme
before you can configure IPv6 on the various nodes in your network.</p></td><td><p><A HREF="p16.html#ipv6-planning-22">Creating a Numbering Scheme for Subnets</A>&nbsp;</p></td></tr>
<tr><td><p>6. Design a plan for tunnel usage.</p></td><td><p>Determine which routers should run tunnels to other subnets or external
networks.</p></td><td><p><A HREF="p15.html#ipv6-planning-31">Planning for Tunnels in the Network Topology</A>&nbsp;</p></td></tr>
<tr><td><p>7. Create an addressing plan for entities on the network.</p></td><td><p>Your plan for addressing servers, routers, and hosts should be in place
before IPv6 configuration.</p></td><td><p><A HREF="p16.html#ipv6-planning-11">Creating an IPv6 Addressing Plan for Nodes</A>&nbsp;</p></td></tr>
<tr><td><p>8. Develop an IPv6 security policy.</p></td><td><p>Investigate IP Filter, IP security architecture (IPsec), Internet Key
Exchange (IKE), and other Solaris security features as you develop an IPv6
security policy.</p></td><td><p><A HREF="p102.html#ipsectm-1">Part&nbsp;III, IP Security</A>&nbsp;</p></td></tr>
<tr><td><p>9. (Optional) Set up a DMZ.</p></td><td><p>For security purposes, you need an addressing plan for the DMZ and its
entities before you configure IPv6.</p></td><td><p><A HREF="p15.html#ipv6-planning-41">Security Considerations for the IPv6 Implementation</A>&nbsp;</p></td></tr>
<tr><td><p>10. Enable the nodes to support IPv6.</p></td><td><p>Configure IPv6 on all routers and hosts.</p></td><td><p><A HREF="p34.html#ipv6-config-tasks-2">IPv6 Router Configuration (Task Map)</A>&nbsp;</p></td></tr>
<tr><td><p>11. Turn on network services.</p></td><td><p>Make sure that existing servers can support IPv6.</p></td><td><p><A HREF="p41.html#ipv6-admintasks-2">Major TCP/IP Administrative Tasks (Task Map)</A>&nbsp;</p></td></tr>
<tr><td><p>12. Update name servers for IPv6 support.</p></td><td><p>Make sure that DNS, NIS, and LDAP servers are updated with the new IPv6
addresses.</p></td><td><p><A HREF="p39.html#ipv6-config-tasks-10">Configuring Name Service Support for IPv6</A>&nbsp;</p></td></tr>
</table><A NAME="ipv6-planning-5"></A><h2>IPv6 Network Topology Scenario</h2>
<p>The tasks throughout this chapter explain how to plan for IPv6 services
on a typical enterprise network. The following figure shows the network that
is referred to throughout the chapter. Your proposed IPv6 network might include
some or all of the network links that are illustrated in this figure.</p>
<A NAME="ipv6-planning-fig-33"></A><p><b>Figure 4-1 </b>IPv6 Network Topology Scenario</p>
<IMG src="figures/ent-nw-IPv6-dep.gif" class="figure" alt="The figure shows an IPv6 network. The next text describes
the figure's contents." title="The figure shows an IPv6 network. The next text describes
the figure's contents."><p>The enterprise network scenario consists of five subnets with existing
IPv4 addresses. The links of the network correspond directly to the administrative
subnets. The four internal networks are shown with RFC 1918-style private
IPv4 addresses, which is a common solution for the lack of IPv4 addresses.
The addressing scheme of these internal networks follows:</p>
<ul><li><p>Subnet 1 is the internal network backbone <tt>192.168.1</tt>.</p>
</li>
<li><p>Subnet 2 is the internal network <tt>192.168.2</tt>,
with LDAP, <tt>sendmail</tt>, and DNS servers.</p>
</li>
<li><p>Subnet 3 is the internal network <tt>192.168.3</tt>,
with the enterprise's NFS servers.</p>
</li>
<li><p>Subnet 4 is the internal network <tt>192.168.4</tt>,
which contains hosts for the enterprise's employees.</p>
</li>
</ul>
<p>The external, public network <tt>172.16.85</tt> functions
as the corporation's DMZ. This network contains web servers, anonymous FTP
servers, and other resources that the enterprise offers to the outside world.
Router 2 runs a firewall and separates public network <tt>172.16.85</tt> from
the internal backbone. On the other end of the DMZ, Router 1 runs a firewall
and serves as the enterprise's boundary server. </p>
<p>In <A HREF="p14.html#ipv6-planning-fig-33">Figure 4-1</A>,
the public DMZ has the RFC 1918 private address <tt>172.16.85</tt>.
In the real world, the public DMZ must have a registered IPv4 address. Most
IPv4 sites use a combination of public addresses and RFC 1918 private addresses.
However, when you introduce IPv6, the concept of public addresses and private
addresses changes. Because IPv6 has a much larger address space, you use public
IPv6 addresses on both private networks and public networks.</p>
<A NAME="ipv6-planning-7"></A><h2>Preparing the Existing Network to Support
IPv6</h2>
<p><hr size="1" noshade><p><b>Note - </b>The Solaris dual protocol stack supports concurrent IPv4 and IPv6
operations. You can successfully run IPv4-related operations during
and after deployment of IPv6 on your network.<A NAME="indexterm-361"></A><A NAME="indexterm-362"></A><A NAME="indexterm-363"></A></p>
<hr size="1" noshade></p><p>IPv6 introduces additional features to an existing network. Therefore,
when you first deploy IPv6, you must ensure that you do not disrupt any operations
that are working with IPv4. The subjects covered in this section describe
how to introduce IPv6 to an existing network in a step-by-step fashion.</p>
<A NAME="ipv6-planning-16"></A><h3>Preparing the Network Topology for IPv6
Support</h3>
<p>The first step in IPv6 deployment is to assess which existing entities
on your network can support IPv6.  In most cases, the network topology-wires,
routers, and hosts-can remain unchanged as you implement IPv6. However, you
might have to prepare existing hardware and applications for IPv6 before actually
configuring IPv6 addresses on network interfaces.</p>
<p>Verify which hardware on your network can be upgraded to IPv6. For example,
check the manufacturers' documentation for IPv6 readiness regarding the following
classes of hardware:</p>
<ul><li><p>Routers</p>
</li>
<li><p>Firewalls</p>
</li>
<li><p>Servers</p>
</li>
<li><p>Switches</p>
</li>
</ul>
<p><hr size="1" noshade><p><b>Note - </b>All procedures in the this Part assume that your equipment, particularly
routers, can be upgraded to IPv6.</p>
<hr size="1" noshade></p><p>Some router models cannot be upgraded to IPv6. For more information
and a workaround, refer to <A HREF="p48.html#ipv6-troubleshoot-3">IPv4 Router Cannot Be Upgraded to IPv6</A>.</p>
<A NAME="ipv6-planning-17"></A><h3>Preparing Network Services for IPv6 Support</h3>
<p>The following typical IPv4 network services in the current Solaris release
are IPv6 ready:</p>
<ul><li><p><tt>sendmail</tt></p>
</li>
<li><p>NFS</p>
</li>
<li><p>HTTP (Apache 2.x or Orion)</p>
</li>
<li><p>DNS</p>
</li>
<li><p>LDAP</p>
</li>
</ul>
<p>The IMAP mail service is for IPv4 only.</p>
<p>Nodes that are configured for IPv6 can run IPv4 services. When you turn
on IPv6, not all services accept IPv6 connections. Services that have been
ported to IPv6 will accept a connection. Services that have not been ported
to IPv6 continue to work with the IPv4 half of the protocol stack.</p>
<p>Some issues can arise after you upgrade services to IPv6. For details,
see <A HREF="p48.html#ipv6-troubleshoot-6">Problems After Upgrading Services to IPv6</A>.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p13.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p15.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

