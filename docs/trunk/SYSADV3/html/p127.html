<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p126.html#ikeref-1">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p126.html#ike-20">IKE Public Key Databases and Commands</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p126.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p128.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ike-18"></A><h3><tt>ikecert certdb</tt> Command</h3>
<p><A NAME="indexterm-2268"></A>The <tt>certdb</tt> subcommand manages the public key
database. Options to this subcommand enable you to add, view, and remove certificates
and public keys. The command accepts, as input, certificates that were generated
by the <tt>ikecert certlocal -ks</tt> command on a remote system.
For the procedure, see <A HREF="p121.html#ike-task-42">How to Configure IKE With Self-Signed Public Key Certificates</A>. This command also accepts
the certificate that you receive from a PKI or CA as input.  For the procedure,
see <A HREF="p122.html#ike-task-41">How to Configure IKE With Certificates Signed by a CA</A>.</p>
<p><A NAME="indexterm-2269"></A><A NAME="indexterm-2270"></A><A NAME="indexterm-2271"></A><A NAME="indexterm-2272"></A><A NAME="indexterm-2273"></A><A NAME="indexterm-2274"></A><A NAME="indexterm-2275"></A><A NAME="indexterm-2276"></A><A NAME="indexterm-2277"></A>The certificates and public keys are stored on the system in the <tt>/etc/inet/ike/publickeys</tt> directory. The <tt>-T</tt> option
stores the certificates, private keys, and public keys on attached hardware.</p>
<A NAME="ike-30"></A><h3><tt>ikecert certrldb</tt> Command</h3>
<p><A NAME="indexterm-2278"></A><A NAME="indexterm-2279"></A>The <tt>certrldb</tt> subcommand manages the certificate
revocation list (CRL) database, <tt>/etc/inet/ike/crls</tt>.
The CRL database maintains the revocation lists for public keys. Certificates
that are no longer valid are on this list. When PKIs provide you with a CRL,
you can install the CRL in the CRL database with the <tt>ikecert certrldb</tt> command.
 For the procedure, see <A HREF="p124.html#ike-task-22">How to Handle a Certificate Revocation List</A>.</p>
<A NAME="ike-21"></A><h3><tt>/etc/inet/ike/publickeys</tt> Directory</h3>
<p><A NAME="indexterm-2280"></A><A NAME="indexterm-2281"></A><A NAME="indexterm-2282"></A><A NAME="indexterm-2283"></A><A NAME="indexterm-2284"></A><A NAME="indexterm-2285"></A><A NAME="indexterm-2286"></A>The <tt>/etc/inet/ike/publickeys</tt> directory
contains the public part of a public-private key pair and its certificate
in files, or <b>slots</b>. The directory is protected at <tt>0755</tt>. The <tt>ikecert certdb</tt> command populates the directory.
The <tt>-T</tt> option stores the keys on the Sun Crypto Accelerator 4000 board rather than
in the <tt>publickeys</tt> directory.</p>
<p><A NAME="indexterm-2287"></A><A NAME="indexterm-2288"></A>The slots contain, in encoded form, the X.509 distinguished name
of a certificate that was generated on another system. If you are using self-signed
certificates, you use the certificate that you receive from the administrator
of the remote system as input to the command. If you are using certificates
from a PKI, you install two pieces of keying material from the PKI into this
database. You install a certificate that is based on material that you sent
to the PKI. You also install a CA from the PKI.</p>
<A NAME="ike-8"></A><h3><tt>/etc/inet/secret/ike.privatekeys</tt> Directory</h3>
<p><A NAME="indexterm-2289"></A><A NAME="indexterm-2290"></A><A NAME="indexterm-2291"></A><A NAME="indexterm-2292"></A><A NAME="indexterm-2293"></A><A NAME="indexterm-2294"></A>The <tt>/etc/inet/secret/ike.privatekeys</tt> directory
holds private key files that are part of a public-private key pair, which
is keying material for ISAKMP SAs. The directory is protected at <tt>0700</tt>.
The <tt>ikecert certlocal</tt> command populates the <tt>ike.privatekeys</tt> directory. Private keys are not
effective until their public key counterparts, self-signed certificates or
CAs, are installed. The public key counterparts are stored in the <tt>/etc/inet/ike/publickeys</tt> directory or on a Sun Crypto Accelerator 4000 board.</p>
<A NAME="ike-16"></A><h3><tt>/etc/inet/ike/crls</tt> Directory</h3>
<p><A NAME="indexterm-2295"></A><A NAME="indexterm-2296"></A><A NAME="indexterm-2297"></A><A NAME="indexterm-2298"></A><A NAME="indexterm-2299"></A>The <tt>/etc/inet/ike/crls</tt> directory
contains certificate revocation list (CRL) files. Each file corresponds to
a public certificate file in the <tt>/etc/inet/ike/publickeys</tt> directory. PKI organizations provide the CRLs for their certificates.
You can use the <tt>ikecert certrldb</tt> command to populate the
database.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p126.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p128.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

