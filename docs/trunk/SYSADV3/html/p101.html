<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p100.html#dhcp-ref-4">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p100.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p102.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-ref-6"></A><h2>Files Used by the DHCP Service</h2>
<p>The following table lists files associated with Solaris DHCP.</p>
<A NAME="dhcp-ref-tbl-7"></A><p><b>Table 18-2 </b>Files and Tables Used by
DHCP Daemons and Commands</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>File or Table Name</p></th><th scope="col"><p>Description</p></th><th scope="col"><p>Man Page</p></th></tr>
<tr><td><p><tt>dhcptab</tt></p></td><td><p><A NAME="indexterm-1575"></A>A generic term for the table of DHCP configuration information that is
recorded as options with assigned values, which are then grouped into macros. The
name of the <tt>dhcptab</tt> table and its location is determined by the
data store you use for DHCP information.</p></td><td><p><tt>dhcptab</tt>(4)</p></td></tr>
<tr><td><p>DHCP network table</p></td><td><p>Maps IP addresses to client IDs and configuration options. DHCP network tables
are named according to the IP address of the network, such as <tt>10.21.32.0</tt>. There is no file that is called <tt>dhcp_network</tt>. The
name and location of DHCP network tables is determined by the data store you use for
DHCP information.</p></td><td><p><tt>dhcp_network</tt>(4)</p></td></tr>
<tr><td><p><tt>dhcpsvc.conf</tt></p></td><td><p><A NAME="indexterm-1576"></A>Stores startup options for the DHCP daemon and data store information.
This file must not be edited manually. Use the <tt>dhcpconfig</tt> command
to change startup options.</p></td><td><p><tt>dhcpsvc.conf</tt>(4)</p></td></tr>
<tr><td><p><tt>nsswitch.conf</tt></p></td><td><p><A NAME="indexterm-1577"></A>Specifies the location of name service databases and the order in which
to search name services for various kinds of information. The <tt>nsswitch.conf</tt> file is read to obtain accurate configuration information when you configure
a DHCP server. The file is located in the <tt>/etc</tt> directory.</p></td><td><p><tt>nsswitch.conf</tt>(4)</p></td></tr>
<tr><td><p><tt>resolv.conf</tt></p></td><td><p><A NAME="indexterm-1578"></A>Contains information used to resolve DNS queries. During DHCP server configuration,
this file is consulted for information about the DNS domain and DNS server. The file
is located in the <tt>/etc</tt> directory.</p></td><td><p><tt>resolv.conf</tt>(4)</p></td></tr>
<tr><td><p><tt>dhcp.</tt><i>interface</i></p></td><td><p><A NAME="indexterm-1579"></A>Indicates that DHCP is to be used on the client's network interface that
is specified in the <tt>dhcp.</tt><i>interface</i> file
name. For example, the existence of a file named <tt>dhcp.qe0</tt> indicates
that DHCP is to be used on the <tt>qe0</tt> interface. The <tt>dhcp.</tt><i>interface</i> file might contain commands that are
passed as options to the <tt>ifconfig</tt> command, which is used to start
DHCP on the client. The file is located in the <tt>/etc</tt> directory on
Solaris DHCP client systems.</p></td><td><p>No specific man page, see <tt>dhcp</tt>(5)</p></td></tr>
<tr><td><p><i>interface</i><tt>.dhc</tt></p></td><td><p><A NAME="indexterm-1580"></A>Contains the configuration parameters that are obtained from DHCP for
the given network interface. The client caches the current configuration information
in <tt>/etc/dhcp/</tt><i>interface</i><tt>.dhc</tt> when the interface's IP address lease is dropped. For example, if DHCP
is used on the <tt>qe0</tt> interface, the <tt>dhcpagent</tt> caches
the configuration information in <tt>/etc/dhcp/qe0.dhc</tt>. The next
time DHCP starts on the interface, the client requests to use the cached configuration
if the lease has not expired. If the DHCP server denies the request, the client begins
the standard process for DHCP lease negotiation.</p></td><td><p>No specific man page, see <tt>dhcpagent</tt>(1M)</p></td></tr>
<tr><td><p><tt>dhcpagent</tt></p></td><td><p><A NAME="indexterm-1581"></A><A NAME="indexterm-1582"></A>Sets parameter values for the <tt>dhcpagent</tt> client daemon.
The path to the file is <tt>/etc/default/dhcpagent</tt>. See the <tt>/etc/default/dhcpagent</tt> file or the <tt>dhcpagent</tt>(1M) man
page for information about the parameters.</p></td><td><p><tt>dhcpagent</tt>(1M)</p></td></tr>
<tr><td><p>DHCP <tt>inittab</tt></p></td><td><p><A NAME="indexterm-1583"></A><A NAME="indexterm-1584"></A>Defines aspects of DHCP option codes, such as the data type, and assigns
mnemonic labels. See the <tt>dhcp_inittab</tt>(4) man
page for more information about the file syntax.</p><p>On the client, the information in the <tt>/etc/dhcp/inittab</tt> file
is used by <tt>dhcpinfo</tt> to provide more meaningful information to human
readers of the information. On the DHCP server system, this file is used by the DHCP
daemon and management tools to obtain DHCP option information.</p><p>The <tt>/etc/dhcp/inittab</tt> file replaces the <tt>/etc/dhcp/dhcptags</tt> file that was used in previous releases. <A HREF="p101.html#dhcp-ref-9">DHCP Option Information</A> provides more information about this replacement.</p></td><td><p><tt>dhcp_inittab</tt>(4)</p></td></tr>
</table><A NAME="dhcp-ref-9"></A><h2>DHCP Option Information</h2>
<p><A NAME="indexterm-1585"></A><A NAME="indexterm-1586"></A>Historically, DHCP option information has been stored in several places,
including the server's <tt>dhcptab</tt> table, the client's <tt>dhcptags</tt> file, and internal tables of various programs. In the Solaris 8 release
and later releases, the option information is consolidated in the <tt>/etc/dhcp/inittab</tt> file. See the <tt>dhcp_inittab</tt>(4) man
page for detailed information about the file.</p>
<p>The Solaris DHCP client uses the DHCP <tt>inittab</tt> file as a replacement
for the <tt>dhcptags</tt> file. The client uses the file to obtain information
about option codes that were received in a DHCP packet. The <tt>in.dhcpd</tt>, <tt>snoop</tt>, and <tt>dhcpmgr</tt> programs on the DHCP server use the <tt>inittab</tt> file as well.</p>
<A NAME="dhcp-ref-8"></A><h3>Determining if Your Site Is Affected</h3>
<p>Most sites that use Solaris DHCP are <b>not</b> affected by the
switch to the <tt>/etc/dhcp/inittab</tt> file. Your site is affected if
you meet all of the following criteria:</p><ul><li><p>You plan to upgrade from a Solaris release that is older than that
the Solaris 8 release.</p>
</li>
<li><p>You previously created new DHCP options.</p>
</li>
<li><p>You modified the <tt>/etc/dhcp/dhcptags</tt> file, and you
want to retain the changes.</p>
</li>
</ul>
<p>When you upgrade, the upgrade log notifies you that your <tt>dhcptags</tt> file
had been modified and that you should make changes to the DHCP <tt>inittab</tt> file.</p>
<A NAME="dhcp-ref-10"></A><h3>Differences Between <tt>dhcptags</tt> and <tt>inittab</tt> Files</h3>
<p>The <tt>inittab</tt> file contains more information than the <tt>dhcptags</tt> file. The <tt>inittab</tt> file also uses a different
syntax. </p>
<p>A sample <tt>dhcptags</tt> entry is as follows:</p>
<p><tt>33   StaticRt   -       IPList       Static_Routes</tt>  </p>
<p><tt>33</tt> is the numeric code that is passed in the DHCP packet. <tt>StaticRt</tt> is the option name. <tt>IPList</tt> indicates that the
data type for <tt>StaticRt</tt> must be a list of IP addresses. <tt>Static_Routes</tt> is a more descriptive name.</p>
<p>The <tt>inittab</tt> file consists of one-line records that describe
each option. The format is similar to the format that defines symbols in <tt>dhcptab</tt>. The following table describes the syntax of the <tt>inittab</tt> file.</p>
<table border="0" cellspacing="5"><tr><td valign="top"><p>Option</p></td><td valign="top"><p>Description</p>
</td></tr><tr><td valign="top"><p><i>option-name</i></p></td><td valign="top"><p>Name of the option. The option name must be unique within its option
category, and not overlap with other option names in the Standard, Site, and Vendor
categories. For example, you cannot have two Site options with the same name, and
you should not create a Site option with the same name as a Standard option.  </p>
</td></tr><tr><td valign="top"><p><i>category</i></p></td><td valign="top"><p>Identifies the namespace in which the option belongs. Must be one
of the following: Standard, Site, Vendor, Field, or Internal.</p>
</td></tr><tr><td valign="top"><p><i>code</i></p></td><td valign="top"><p>Identifies the option when sent over the network. In most cases, the
code uniquely identifies the option, without a category.  However, in the case of
internal categories such as Field or Internal, a code might be used for other purposes.
The code might not be globally unique.  The code should be unique within the option's
category, and not overlap with codes in the Standard and Site fields.    </p>
</td></tr><tr><td valign="top"><p><i>type</i></p></td><td valign="top"><p>Describes the data that is associated with this option.  Valid types
are IP, ASCII, Octet, Boolean, Unumber8, Unumber16, Unumber32, Unumber64, Snumber8,
Snumber16, Snumber32, and Snumber64.  For numbers, an initial U or S indicates that
the number is unsigned or signed. The digits at the end indicate how many bits are
in the number. For example, Unumber8 is an unsigned 8-bit number. The type is not
case sensitive.</p>
</td></tr><tr><td valign="top"><p><i>granularity</i></p></td><td valign="top"><p>Describes how many units of data make up a whole value for this option. </p>
</td></tr><tr><td valign="top"><p><i>maximum</i></p></td><td valign="top"><p>Describes how many whole values are allowed for this option.  0 indicates
an infinite number.</p>
</td></tr><tr><td valign="top"><p><i>consumers</i></p></td><td valign="top"><p>Describes which programs can use this information. Consumers should
be set to <tt>sdmi</tt>, where:</p>
<table border="0" cellspacing="5"><tr><td valign="top"><p><tt>s</tt></p></td><td valign="top"><p><tt>snoop</tt></p>
</td></tr><tr><td valign="top"><p><tt>d</tt></p></td><td valign="top"><p><tt>in.dhcpd</tt></p>
</td></tr><tr><td valign="top"><p><tt>m</tt></p></td><td valign="top"><p><tt>dhcpmgr</tt></p>
</td></tr><tr><td valign="top"><p><tt>i</tt></p></td><td valign="top"><p><tt>dhcpinfo</tt></p>
</td></tr></table>
</td></tr></table>
<p>A sample <tt>inittab</tt> entry is as follows:</p>
<p><tt>StaticRt - Standard, 33, IP, 2, 0, sdmi</tt></p>
<p>This entry describes an option that is named <tt>StaticRt</tt>. The
option is in the Standard category, and is option code 33. The expected data is a
potentially infinite number of pairs of IP addresses because the type is <tt>IP</tt>, the granularity is <tt>2</tt>, and the maximum is infinite
(<tt>0</tt>). The consumers of this option are <tt>sdmi</tt>: <tt>snoop</tt>, <tt>in.dhcpd</tt>, <tt>dhcpmgr</tt>, and <tt>dhcpinfo</tt>.</p>
<A NAME="dhcp-ref-14"></A><h3>Converting <tt>dhcptags</tt> Entries to <tt>inittab</tt> Entries</h3>
<p>If you previously added entries to your <tt>dhcptags</tt> file, you
must add corresponding entries to the new <tt>inittab</tt> file if you want
to continue using the options you added to your site. The following example shows
how a sample <tt>dhcptags</tt> entry might be expressed in <tt>inittab</tt> format.</p>
<p>Suppose you had added the following <tt>dhcptags</tt> entry for fax
machines that are connected to the network:</p>
<p><tt>128  FaxMchn - IP Fax_Machine</tt></p>
<p>The code <tt>128</tt> means that the option must be in the Site category.
The option name is <tt>FaxMchn</tt>, and the data type is <tt>IP</tt>.</p>
<p>The corresponding <tt>inittab</tt> entry might be:</p>
<p><tt>FaxMchn SITE,	128,	IP,	1,	1, sdmi</tt></p>
<p>The granularity of 1 and the maximum of 1 indicate that one IP address is expected
for this option.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p100.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p102.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

