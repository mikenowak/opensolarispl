<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p77.html#dhcp-admin-15">Adding, Modifying, and Removing DHCP Networks (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p77.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p79.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-admin-1214"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Specify Network Interfaces for DHCP
Monitoring (<tt>dhcpconfig</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-1216"></A><li><p><b>Type the following command on the DHCP
server system:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>/usr/sbin/dhcpconfig -P INTERFACES=</tt><i>int,int,...<tt></i></b></tt></pre>
</td></table><br><p><i>int, int,...</i> is a list of interfaces to monitor.
The interface names must be separated by commas.</p>
<p>For example,
you would use the following command to monitor only <tt>ge0</tt> and <tt>ge1</tt>:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>#<tt><b>/usr/sbin/dhcpconfig -P INTERFACES=ge0,ge1</b></tt></pre>
</td></table><br><p>Interfaces that you want to ignore should be omitted from the <tt>dhcpconfig</tt> command line.</p>
<p>The changes you make with this command
persist across reboots.</p>
</li>
</ol><A NAME="dhcp-admin-17"></A><h3>Adding DHCP Networks</h3>
<p><A NAME="indexterm-1439"></A><A NAME="indexterm-1440"></A>When you use DHCP Manager to configure the server, the first network
is also configured at the same time. The first network is usually the local
network on the server system's primary interface. If you want to configure
additional networks, use the DHCP Network Wizard in DHCP Manager.</p>
<p>If you use the <tt>dhcpconfig -D</tt> command to configure
the server, you must separately configure all networks that you want to use
the DHCP service. See <A HREF="p78.html#dhcp-admin-127-1115">How to Add a DHCP Network (<tt>dhcpconfig</tt>)</A> for more information.</p>
<p><A NAME="indexterm-1441"></A>The following figure shows the initial dialog box for the DHCP
Network Wizard in DHCP Manager.</p>
<A NAME="dhcp-admin-fig-45"></A><p><b>Figure 15-5 </b>DHCP Manager's Network Wizard</p>
<IMG src="figures/dhcp-network-wiz.gif" class="figure" alt="Dialog box shows a Network Address pull-down list and
Subnet Mask field with a right selection arrow. Cancel and Help buttons are
also shown." title="Dialog box shows a Network Address pull-down list and
Subnet Mask field with a right selection arrow. Cancel and Help buttons are
also shown."><p>When you configure a new network, DHCP Manager creates the following
components:</p><ul><li><p>A network table in the data store. The new network is shown
in the network list within the Addresses tab of DHCP Manager.</p>
</li>
<li><p>A network macro that contains information needed by clients
that reside on this network. The network macro's name matches the IP address
of the network. The network macro is added to the <tt>dhcptab</tt> table
in the data store.</p>
</li>
</ul>
<A NAME="dhcp-admin-24"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Add a DHCP Network (DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-49"></A><li><p><b>In DHCP Manager, click the Addresses tab.</b></p><p>Any networks already configured for DHCP service are listed.</p>
<p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information
about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-50"></A><li><p><b>Choose Network Wizard from the Edit menu.</b></p></li>
<A NAME="dhcp-admin-step-51"></A><li><p><b>Select options, or type requested information.
Use the decisions that you made during the planning phase to determine what
information to specify.</b></p><p>Planning is described in <A HREF="p70.html#dhcp-plan-2">Planning DHCP Configuration of Your Remote Networks</A>.</p>
<p>If you have difficulty with the wizard, click Help in the wizard
window. Your web browser displays help for the DHCP Network Wizard.</p>
</li>
<A NAME="dhcp-admin-step-52"></A><li><p><b>Click Finish to complete the network configuration
when you have finished specifying the requested information.</b></p><p>The
Network Wizard creates an empty network table, which is listed in the left
pane of the window.</p>
<p>The Network Wizard also creates a network
macro whose name matches the IP address of the network.</p>
</li>
<li><p>(Optional) <b>Select the Macros tab and select the network
macro to view the macro's contents.</b></p><p>You can confirm that the information
that you provided in the wizard has been inserted as values for options in
the network macro.</p>
</li>
</ol><h5>See Also</h5><p>You must add addresses for the network before the network's IP addresses
can be managed under DHCP. See <A HREF="p80.html#dhcp-admin-126">Adding IP Addresses to the DHCP Service</A> for
more information.</p>
<p>If you leave the network table empty, the DHCP server can still provide
configuration information to clients. See <A HREF="p87.html#dhcp-admin-1211">Setting Up DHCP Clients to Receive Information Only (Task Map)</A> for more information.</p>
<A NAME="dhcp-admin-127-1115"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Add a DHCP Network (<tt>dhcpconfig</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-529"></A><li><p><b>Type the following command on the DHCP
server system:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>/usr/sbin/dhcpconfig -N </tt><i>network-address<tt></i></b></tt></pre>
</td></table><br><p><i>network-address</i> is the IP address of the
network you want to add to the DHCP service. See the <tt>dhcpconfig</tt>(1M) man page for suboptions you
can use with the <tt>-N</tt> option.</p>
<p>If you do not use
suboptions, <tt>dhcpconfig</tt> uses network files to obtain information
about the network.</p>
</li>
</ol><h5>See Also</h5><p>You must add addresses for the network before the network's IP addresses
can be managed under DHCP. See <A HREF="p80.html#dhcp-admin-126">Adding IP Addresses to the DHCP Service</A> for
more information.</p>
<p>If you leave the network table empty, the DHCP server can still provide
configuration information to clients. See <A HREF="p87.html#dhcp-admin-1211">Setting Up DHCP Clients to Receive Information Only (Task Map)</A> for more information.</p>
<A NAME="dhcp-admin-19"></A><h3>Modifying DHCP Network Configurations</h3>
<A NAME="indexterm-1442"></A><p>After you add a network to the DHCP service, you can modify the configuration
information that you originally supplied. The configuration information is
stored in the network macro used to pass information to clients on the network.
You must modify the network macro to change the network configuration.</p>
<p>The following figure shows the Macros tab of DHCP Manager.</p>
<A NAME="dhcp-admin-fig-54"></A><p><b>Figure 15-6 </b>DHCP Manager's Macros Tab</p>
<IMG src="figures/dhcp-macros-tab.gif" class="figure" alt="Macros tab shows list of macros with one macro selected.
Option names and values contained in macro are shown." title="Macros tab shows list of macros with one macro selected.
Option names and values contained in macro are shown."><A NAME="dhcp-admin-26"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify the Configuration of a DHCP
Network (DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-58"></A><li><p><b>In DHCP Manager, select the Macros tab.</b></p><p>All macros that are defined for this DHCP server are listed in the left
pane.</p>
<p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-59"></A><li><p><b>Select the network macro whose name matches
the network configuration that you are changing.</b></p><p>The network macro
name is the network IP address.</p>
</li>
<A NAME="dhcp-admin-step-60"></A><li><p><b>Choose Properties from the Edit menu.</b></p><p>The Macro Properties dialog box displays a table of the options included
in the macro.</p>
</li>
<A NAME="dhcp-admin-step-61"></A><li><p><b>Select the option that you want to modify.</b></p><p>The option name and its value are displayed in text fields near the
top of the dialog box.</p>
</li>
<li><p>(Optional) <b>Modify the option name, or choose the Select
button to display a list of option names.</b></p><p>The Select Option dialog
box displays a list of all DHCP standard options, with a brief description
of each option.</p>
</li>
<li><p>(Optional) <b>Select an option name in the Select Option
dialog box, and click OK.</b></p><p>The new option name is displayed in
the Option Name field.</p>
</li>
<A NAME="dhcp-admin-step-62"></A><li><p><b>Type the new value for the option, and
click Modify.</b></p></li>
<li><p>(Optional) <b>You can also add options to the network
macro by choosing Select in the dialog box.</b></p><p>See <A HREF="p83.html#dhcp-admin-18">Modifying DHCP Macros</A> for more general information
about modifying macros.</p>
</li>
<A NAME="dhcp-admin-step-63"></A><li><p><b>Select Notify DHCP Server of Change, and
click OK.</b></p><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table to put the change into effect immediately after you
click OK.</p>
</li>
</ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p77.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p79.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

