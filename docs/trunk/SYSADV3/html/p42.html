<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p41.html#ipv6-admintasks-1">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p41.html#ipconfig-141">Monitoring the Interface Configuration With the <tt>ifconfig</tt> Command</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p41.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p43.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipconfig-171"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Display Interface Address Assignments</h3>
<p>Routers and multihomed hosts have more than one interface and, often,
more than one IP address assigned to each interface. You can use the <tt>ifconfig</tt> command to display all addresses that are assigned to the interfaces
of a system. You can also use the <tt>ifconfig</tt> command to display
only IPv4 or IPv6 address assignments. To additionally display the MAC addresses
of the interfaces, you must first log in as superuser or assume the appropriate
role.</p>
<p>For more information on the <tt>ifconfig</tt> command, see
the <tt>ifconfig</tt>(1M) man
page.</p>
<ol><li><p><b>On the local system, assume the Network Management role or become
superuser.</b></p><p>Roles contain authorizations and privileged commands.
For more information about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="ipconfig-step-172"></A><li><p><b>Obtain information about all interfaces.</b></p><p>You can use variations of the <tt>ifconfig</tt> <tt>-a</tt> command
to do the following:</p>
<ul><li><p>View all addresses of all interfaces on the system.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ifconfig -a</b></tt></pre>
</td></table><br></li>
<li><p>View all IPv4 addresses that are assigned to a system's interfaces.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>ifconfig -a4</b></tt></pre>
</td></table><br></li>
<li><p>If the local system is IPv6-enabled, display all IPv6 addresses
that are assigned to a system's interfaces.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre><tt><b>ifconfig -a6</b></tt></pre>
</td></table><br></li>
</ul>
</li>
</ol><A NAME="eojad"></A><h5>Example 8-2 &nbsp;&nbsp;Displaying Addressing Information for All Interfaces</h5>
<A NAME="indexterm-815"></A><A NAME="indexterm-816"></A><A NAME="indexterm-817"></A><A NAME="indexterm-818"></A><p>This example shows entries for a host with solely a primary network
interface, <tt>qfe0</tt>. Nevertheless, the <tt>ifconfig</tt> output
shows that three forms of addresses are currently assigned to <tt>qfe0</tt>:
loopback (<tt>lo0</tt>), IPv4 (<tt>inet</tt>), and IPv6
(<tt>inet6</tt>). In the IPv6 section of the output, note that the
line for interface <tt>qfe0</tt> displays the link-local IPv6 address.
The second address for <tt>qfe0</tt> is displayed on the <tt>qfe0:1</tt> line.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>% <tt><b>ifconfig -a</b></tt>
lo0: flags=1000849 &lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4> mtu 8232 index 1
        inet 127.0.0.1 netmask ff000000 
qfe0: flags=1004843 &lt;UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 2 
        inet 10.0.0.112 netmask ffffff80 broadcast 10.0.0.127
        ether 8:0:20:b9:4c:54 
lo0: flags=2000849 &lt;UP,RUNNING,MULTICAST,IPv6> mtu 8252 index 1
        inet6 ::1/128 
qfe0: flags=2000841 &lt;UP,RUNNING,MULTICAST,IPv6> mtu 1500 index 2
        ether 8:0:20:b9:4c:54 
        inet6 fe80::a00:20ff:feb9:4c54/10 
qfe0:1: flags=2080841 &lt;UP,RUNNING,MULTICAST,ADDRCONF,IPv6> mtu 1500 index 2
        inet6 2001:db8:3c4d:48:a00:20ff:feb9:4c54/64 </pre>
</td></table><br><A NAME="eojbk"></A><h5>Example 8-3 &nbsp;&nbsp;Displaying Addressing Information for All IPv4 Interfaces</h5>
<p>This example shows the IPv4 address that is configured for a multihomed
host. You do not need to be logged in as superuser to run this form of the <tt>ifconfig</tt> command.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>% <tt><b>ifconfig -a4</b></tt>
lo0: flags=1000849 &lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4> mtu 8232 index 1
        inet 127.0.0.1 netmask ff000000
qfe0: flags=1004843 &lt;UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 2
        inet 10.0.0.112 netmask ffffff80 broadcast 10.0.0.127
        ether 8:0:20:b9:4c:54 
qfe1: flags=1004843 &lt;UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 2
        inet 10.0.0.118 netmask ffffff80 broadcast 10.0.0.127
        ether 8:0:20:6f:5e:17</pre>
</td></table><br><A NAME="eojbh"></A><h5>Example 8-4 &nbsp;&nbsp;Displaying Addressing Information for All IPv6 Interfaces</h5>
<p>This example shows only the IPv6 addresses that are configured for a
particular host. You do not need to be logged in as superuser to run this
form of the <tt>ifconfig</tt> command.</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>% <tt><b>ifconfig -a6</b></tt>
lo0: flags=2000849 &lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv6> mtu 8252 index 1
        inet6 ::1/128 
qfe0: flags=2000841 &lt;UP,RUNNING,MULTICAST,IPv6> mtu 1500 index 2
        ether 8:0:20:b9:4c:54 
        inet6 fe80::a00:20ff:feb9:4c54/10
qfe0:1: flags=2080841 &lt;UP,RUNNING,MULTICAST,ADDRCONF,IPv6> mtu 1500 index 2
        inet6 2001:db8:3c4d:48:a00:20ff:feb9:4c54/64 </pre>
</td></table><br><p>This output from <tt>ifconfig</tt> shows the following three
types of IPv6 address forms that are assigned to the single interface of a
host:</p>
<table border="0" cellspacing="5"><tr><td valign="top"><p><tt>lo0</tt></p></td><td valign="top"><p>IPv6 loopback address.</p>
</td></tr><tr><td valign="top"><p><tt>inet6 fe80::a00:20ff:feb9:4c54/10</tt></p></td><td valign="top"><p>Link-local address that is assigned to the primary network
interface.</p>
</td></tr><tr><td valign="top"><p><tt>inet6 2001:db8:3c4d:48:a00:20ff:feb9:4c54/64</tt></p></td><td valign="top"><p>IPv6 address, including subnet prefix. The term <tt>ADDRCONF</tt> in the output indicates that this address was autoconfigured by
the host.</p>
</td></tr></table>
<A NAME="ipconfig-142"></A><h2>Monitoring Network Status With the <tt>netstat</tt> Command</h2>
<p><A NAME="indexterm-819"></A><A NAME="indexterm-820"></A><A NAME="indexterm-821"></A>The <tt>netstat</tt> command generates displays that
show network status and protocol statistics. You can display the status of
TCP, SCTP, and UDP endpoints in table format. You can also display routing
table information and interface information. </p>
<p><A NAME="indexterm-822"></A>The <tt>netstat</tt> command displays various types
of network data, depending on the selected command-line option. These displays
are the most useful for system administration. The basic syntax for <tt>netstat</tt> follows: </p>
<p><tt>netstat</tt> [<tt>-m</tt>] [<tt>-n</tt>]
[<tt>-s</tt>] [<tt>-i</tt> | <tt>-r</tt>] [<tt>-f</tt><i>address-family</i>]</p>
<p>This section describes the most commonly used options of the <tt>netstat</tt> command. For a detailed description of all <tt>netstat</tt> options,
refer to the <tt>netstat</tt>(1M) man
page.</p>
<A NAME="ipconfig-143"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Display Statistics by Protocol</h3>
<A NAME="indexterm-823"></A><p>The <tt>netstat</tt> <tt>-s</tt> option displays protocol
statistics for the UDP, TCP, SCTP, ICMP, and IP protocols.</p>
<p><hr size="1" noshade><p><b>Note - </b>You can us your Solaris user account to obtain output from the <tt>netstat</tt> command.</p>
<hr size="1" noshade></p><ul><A NAME="ipconfig-step-55"></A><li><p><b>Display the protocol status.</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre>$ <tt><b>netstat -s</b></tt></pre>
</td></table><br></li>
</ul><A NAME="eojah"></A><h5>Example 8-5 &nbsp;&nbsp;Network Protocol Statistics</h5>
<p><A NAME="indexterm-824"></A><A NAME="indexterm-825"></A><A NAME="indexterm-826"></A><A NAME="indexterm-827"></A><A NAME="indexterm-828"></A><A NAME="indexterm-829"></A><A NAME="indexterm-830"></A><A NAME="indexterm-831"></A><A NAME="indexterm-832"></A>The following example shows the output of the <tt>netstat</tt> <tt>-s</tt> command. Parts of the output have been truncated. The output can
indicate areas where a protocol is having problems. For example, statistical
information from ICMPv4 and ICMPv6 can indicate where the ICMP protocol has
found errors. </p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>RAWIP
        rawipInDatagrams    =  4701     rawipInErrors       =     0
        rawipInCksumErrs    =     0     rawipOutDatagrams   =     4
        rawipOutErrors      =     0

UDP
        udpInDatagrams      = 10091     udpInErrors         =     0
        udpOutDatagrams     = 15772     udpOutErrors        =     0

TCP     tcpRtoAlgorithm     =     4     tcpRtoMin           =   400
        tcpRtoMax           = 60000     tcpMaxConn          =    -1
        .
        .
        tcpListenDrop       =     0     tcpListenDropQ0     =     0
        tcpHalfOpenDrop     =     0     tcpOutSackRetrans   =     0

IPv4    ipForwarding        =     2     ipDefaultTTL        =   255
        ipInReceives        =300182     ipInHdrErrors       =     0
        ipInAddrErrors      =     0     ipInCksumErrs       =     0
        .
        .
        ipsecInFailed       =     0     ipInIPv6            =     0
        ipOutIPv6           =     3     ipOutSwitchIPv6     =     0

IPv6    ipv6Forwarding      =     2     ipv6DefaultHopLimit =   255
        ipv6InReceives      = 13986     ipv6InHdrErrors     =     0
        ipv6InTooBigErrors  =     0     ipv6InNoRoutes      =     0
        .
        .
        rawipInOverflows    =     0     ipv6InIPv4          =     0
 
       ipv6OutIPv4         =     0     ipv6OutSwitchIPv4   =     0

ICMPv4  icmpInMsgs          = 43593     icmpInErrors        =     0
        icmpInCksumErrs     =     0     icmpInUnknowns      =     0
        .
        .
        icmpInOverflows     =     0

ICMPv6  icmp6InMsgs         = 13612     icmp6InErrors       =     0
        icmp6InDestUnreachs =     0     icmp6InAdminProhibs =     0
        .
        .
        icmp6OutGroupQueries=     0     icmp6OutGroupResps  =     2
        icmp6OutGroupReds   =     0

IGMP:
      12287 messages received
          0 messages received with too few bytes
          0 messages received with bad checksum
      12287 membership queries received
SCTP  sctpRtoAlgorithm     =  vanj    
      sctpRtoMin           =  1000 
      sctpRtoMax           = 60000
      sctpRtoInitial       =  3000
      sctpTimHearBeatProbe =     2
      sctpTimHearBeatDrop  =     0
      sctpListenDrop       =     0
      sctpInClosed         =     0 </pre>
</td></table><br>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p41.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p43.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

