<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p83.html#dhcp-admin-125">Working With DHCP Macros (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p83.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p85.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-admin-40art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Add Options to a DHCP Macro (DHCP
Manager)</h3>
<ol><A NAME="dhcp-admin-step-233"></A><li><p><b>In DHCP Manager, select the Macros tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-234"></A><li><p><b>Select the macro that you want to change.</b></p></li>
<A NAME="dhcp-admin-step-235"></A><li><p><b>Choose Properties from the Edit menu.</b></p><p>The Macro Properties dialog box opens.</p>
</li>
<A NAME="dhcp-admin-step-236"></A><li><p><b>In the Option Name field, specify the
name of an option by using one of the following methods:</b></p><ul><A NAME="dhcp-admin-step-237"></A><li><p><b>Click the Select button next to the Option
Name field to select an option to add to the macro.</b></p><p>The Select
Option dialog box displays an alphabetized list of names of standard category
options and descriptions. If you want to add an option that is not in the
standard category, use the Category list to select a category.</p>
<p>See <A HREF="p67.html#dhcp-overview-9">About DHCP Macros</A> for more information
about macro categories.</p>
</li>
<A NAME="dhcp-admin-step-238"></A><li><p><b>Type <tt><b>Include</b></tt> if
you want to include a reference to an existing macro in the new macro.</b></p></li>
</ul>
</li>
<A NAME="dhcp-admin-step-239"></A><li><p><b>Type the value for the option in the
Option Value field.</b></p><p>If you typed <tt><b>Include</b></tt> as
the option name, you must specify the name of an existing macro in the Option
Value field.</p>
</li>
<A NAME="dhcp-admin-step-240"></A><li><p><b>Click Add.</b></p><p>The option is
added to the bottom of the list of options in this macro.  To change the option's
position in the macro, select the option and click the arrow buttons to move
the option up or down in the list.</p>
</li>
<A NAME="dhcp-admin-step-241"></A><li><p><b>Select Notify DHCP Server of Change.</b></p><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table
to put the change into effect immediately after you click OK.</p>
</li>
<A NAME="dhcp-admin-step-242"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-40dh"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Add Options to a DHCP Macro (<tt>dhtadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-554"></A><li><p><b>Add options to a macro by typing a command
of the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhtadm -M -m </tt><i>macroname<tt></i> -e '</tt><i>option<tt></i>=</tt><i>value<tt></i>' -g</b></tt></pre>
</td></table><br><p>For example, to add the ability to negotiate leases in the macro <tt>bluenote</tt>, you would type the following command:</p>
<p># <tt><b>dhtadm
-M -m bluenote -e 'LeaseNeg=_NULL_VALUE' -g</b></tt></p>
<p>Note that
if an option does not require a value, you must use <tt>_NULL_VALUE</tt> as
the value for the option.</p>
</li>
</ol><A NAME="dhcp-admin-41art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Delete Options From a DHCP Macro
(DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-245"></A><li><p><b>In DHCP Manager, select the Macros tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-246"></A><li><p><b>Select the macro that you want to change.</b></p></li>
<A NAME="dhcp-admin-step-247"></A><li><p><b>Choose Properties from the Edit menu.</b></p><p>The Macro Properties dialog box opens.</p>
</li>
<A NAME="dhcp-admin-step-248"></A><li><p><b>Select the option that you want to remove
from the macro.</b></p></li>
<A NAME="dhcp-admin-step-249"></A><li><p><b>Click Delete.</b></p><p>The option
is removed from the list of options for this macro.</p>
</li>
<A NAME="dhcp-admin-step-250"></A><li><p><b>Select Notify DHCP Server of Change.</b></p><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table
to put the change into effect immediately after you click OK.</p>
</li>
<A NAME="dhcp-admin-step-251"></A><li><p><b>Click OK.</b></p></li>
</ol><A NAME="dhcp-admin-41dh"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Delete Options From a DHCP Macro
(<tt>dhtadm</tt>)</h3>
<ol><li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-557"></A><li><p><b>Delete an option from a macro by typing
a command of the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhtadm -M -m </tt><i>macroname<tt></i> -e '</tt><i>option<tt></i>=' -g</b></tt></pre>
</td></table><br><p>For example, to remove the ability to negotiate leases in the macro <tt>bluenote</tt>, you would type the following command:</p>
<p># <tt><b>dhtadm -M -m bluenote -e 'LeaseNeg=' -g</b></tt></p>
<p>If an option
is specified with no value, the option is removed from the macro.</p>
</li>
</ol><A NAME="dhcp-admin-75"></A><h3>Creating DHCP Macros</h3>
<p><A NAME="indexterm-1473"></A><A NAME="indexterm-1474"></A><A NAME="indexterm-1475"></A>You might want to add new macros to your DHCP service to support
clients with specific needs. You can use the <tt>dhtadm -A -m</tt> command
or DHCP Manager's Create Macro dialog box to add macros. See the <tt>dhtadm</tt>(1M) man page for more information
about the <tt>dhtadm</tt> command.</p>
<p>The following figure shows DHCP Manager's Create Macro dialog box.</p>
<A NAME="dhcp-admin-fig-37"></A><p><b>Figure 15-16 </b>Create Macro Dialog Box in DHCP Manager</p>
<IMG src="figures/dhcp-macro-create.gif" class="figure" alt="Dialog box shows Name, Option Name, and Option Value
fields. Shows Select button, empty list of options, and check box to notify
the DHCP server. " title="Dialog box shows Name, Option Name, and Option Value
fields. Shows Select button, empty list of options, and check box to notify
the DHCP server. "><A NAME="dhcp-admin-42art"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Create a DHCP Macro (DHCP Manager)</h3>
<ol><A NAME="dhcp-admin-step-257"></A><li><p><b>In DHCP Manager, select the Macros tab.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for
information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-258"></A><li><p><b>Choose Create from the Edit menu.</b></p><p>The Create Macro dialog box opens.</p>
</li>
<A NAME="dhcp-admin-step-259"></A><li><p><b>Type a unique name for the macro.</b></p><p>The name can be up to 128 alphanumeric characters. If you use a name
that matches a vendor class identifier, network address, or client ID, the
macro is processed automatically for appropriate clients. If you use a different
name, the macro is not processed automatically.  The macro must be assigned
to a specific IP address or included in another macro that is processed automatically.
See <A HREF="p67.html#dhcp-overview-16">Macro Processing by the DHCP Server</A> for
more detailed information.</p>
</li>
<A NAME="dhcp-admin-step-260"></A><li><p><b>Click the Select button, which is next
to the Option Name field.</b></p><p>The Select Option dialog box displays
an alphabetized list of names of standard category options and their descriptions.
If you want to add an option that is not in the standard category, use the
Category list. Select the category that you want from the Category list. See <A HREF="p67.html#dhcp-overview-19a">About DHCP Options</A> for more information
about option categories.</p>
</li>
<A NAME="dhcp-admin-step-262"></A><li><p><b>Select the option to add to the macro,
and click OK.</b></p><p>The Macro Properties dialog box displays the selected
option in the Option Name field.</p>
</li>
<A NAME="dhcp-admin-step-263"></A><li><p><b>Type the value for the option in the
Option Value field, and click Add.</b></p><p>The option is added to the
bottom of the list of options in  this macro. To change the option's position
in the macro, select the option and click the arrow buttons to move the option
up or down in the list.</p>
</li>
<A NAME="dhcp-admin-step-265"></A><li><p><b>Repeat <A HREF="p84.html#dhcp-admin-step-262">Step&nbsp;5</A> and <A HREF="p84.html#dhcp-admin-step-263">Step&nbsp;6</A> for each option you want
to add to the macro.</b></p></li>
<A NAME="dhcp-admin-step-266"></A><li><p><b>Select Notify DHCP Server of Change when
you are finished adding options.</b></p><p>This selection tells the DHCP
server to reread the <tt>dhcptab</tt> table to put the change into
effect immediately after you click OK.</p>
</li>
<A NAME="dhcp-admin-step-267"></A><li><p><b>Click OK.</b></p></li>
</ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p83.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p85.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

