<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p49.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p51.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="ipref-8"></A><b>Chapter&nbsp;10</b><h1>TCP/IP and IPv4 in Depth (Reference)</h1>
<p>This chapter provides TCP/IP network reference information about network
configuration files, including the types, their purpose, and the format of
the file entries. The existing network databases are also described in detail.
The chapter also shows how the structure of IPv4 addresses are derived, based
on defined network classifications and subnet numbers.</p>
<p>This chapter contains the following information:</p>
<ul><li><p><A HREF="p50.html#ipconfig-12">TCP/IP Configuration Files</A></p>
</li>
<li><p><A HREF="p52.html#ipconfig-42">Network Databases and the <tt>nsswitch.conf</tt> File</A></p>
</li>
<li><p><A HREF="p54.html#ipref-13">Routing Protocols in the Solaris OS</A></p>
</li>
<li><p><A HREF="p54.html#ipref-4">Network Classes</A></p>
</li>
</ul>
<A NAME="ipconfig-12"></A><h2>TCP/IP Configuration Files</h2>
<p><A NAME="indexterm-937"></A><A NAME="indexterm-938"></A><A NAME="indexterm-939"></A>Each system on the network obtains its TCP/IP configuration information
from the following TCP/IP configuration files and network databases: </p>
<ul><li><p><tt>/etc/hostname.</tt><i>interface</i> file</p>
</li>
<li><p><tt>/etc/nodename</tt> file</p>
</li>
<li><p><tt>/etc/defaultdomain</tt> file</p>
</li>
<li><p><tt>/etc/defaultrouter</tt> file (optional)</p>
</li>
<li><p><tt>hosts</tt> database</p>
</li>
<li><p><tt>netmasks</tt> database (optional)</p>
</li>
</ul>
<p>The Solaris installation program creates these files as part of the
installation process. You can also edit the files manually, as explained in
this section. The <tt>hosts</tt> and <tt>netmasks</tt> databases
are two of the network databases read by the name services available on Solaris
networks. <A HREF="p52.html#ipconfig-42">Network Databases and the <tt>nsswitch.conf</tt> File</A> describes in detail the concept of network databases. .</p>
<A NAME="ipconfig-13"></A><h3><tt>/etc/hostname.</tt><i>interface</i> File</h3>
<p><A NAME="indexterm-940"></A><A NAME="indexterm-941"></A><A NAME="indexterm-942"></A><A NAME="indexterm-943"></A><A NAME="indexterm-944"></A>This file defines the physical network interfaces on the local
host. At least one <tt>/etc/hostname.</tt><i>interface</i> file
should exist on the local system. The Solaris installation program creates
an <tt>/etc/hostname</tt><i>.interface</i> file
for the first interface that is found during the installation process. This
interface usually has the lowest device number, for example <tt>eri0</tt>,
and is referred to as the <b>primary network interface</b>.
If the installation programs finds additional interfaces, you optionally can
configure them, as well, as part of the installation process.</p>
<p>If you add a new network interface to your system after installation,
you must create an <tt>/etc/hostname.</tt><i>interface</i> file
for that interface, as explained in <A HREF="p26.html#fpdcn">How to Configure a Physical Interface After System Installation</A>. Also, for the Solaris
software to recognize and use the new network interface, you need to load
the interface's device driver into the appropriate directory. Refer to the
documentation that comes with the new network interface for the appropriate <i>interface</i> name and device driver instructions.</p>
<p>The basic <tt>/etc/hostname.</tt><i>interface</i> file
contains one entry: the host name or IPv4 address that is associated with
the network interface. The IPv4 address can be expressed in traditional dotted
decimal format or in CIDR notation. If you use a host name as the entry for
the <tt>/etc/hostname.</tt><i>interface</i> file,
that host name must also exist in the <tt>/etc/inet/hosts</tt> file. </p>
<p>For example, suppose <tt>smc0</tt> is the primary network
interface for a system that is called <tt>tenere</tt>. The <tt>/etc/hostname.smc0</tt> file could have as its entry an IPv4 address in dotted decimal
notation or in CIDR notation, or the host name <tt>tenere</tt> .</p>
<p><hr size="1" noshade><p><b>Note - </b>IPv6 uses the <tt>/etc/hostname6.</tt><i>interface</i> file for defining network interfaces. For more information,
refer to <A HREF="p57.html#ipv6-ref-73">IPv6 Interface Configuration File</A>.</p>
<hr size="1" noshade></p><A NAME="ipconfig-15a"></A><h3><tt>/etc/nodename</tt> File</h3>
<p><A NAME="indexterm-945"></A><A NAME="indexterm-946"></A><A NAME="indexterm-947"></A><A NAME="indexterm-948"></A><A NAME="indexterm-949"></A><A NAME="indexterm-950"></A><A NAME="indexterm-951"></A>This file should contain one entry: the host name of the local
system. For example, on system <tt>timbuktu</tt>, the file <tt>/etc/nodename</tt> would contain the entry <tt>timbuktu</tt>. </p>
<A NAME="ipconfig-16"></A><h3><tt>/etc/defaultdomain</tt> File</h3>
<p><A NAME="indexterm-952"></A><A NAME="indexterm-953"></A><A NAME="indexterm-954"></A><A NAME="indexterm-955"></A><A NAME="indexterm-956"></A><A NAME="indexterm-957"></A>This file should contain one entry: the fully qualified domain
name of the administrative domain to which the local host's network belongs.
You can supply this name to the Solaris installation program or edit the file
at a later date. For more information on network domains, refer to <i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i>.</p>
<A NAME="ipconfig-17"></A><h3><tt>/etc/defaultrouter</tt> File</h3>
<p><A NAME="indexterm-958"></A><A NAME="indexterm-959"></A><A NAME="indexterm-960"></A><A NAME="indexterm-961"></A><A NAME="indexterm-962"></A><A NAME="indexterm-963"></A><A NAME="indexterm-964"></A>This file can contain an entry for each router that is directly
connected to the network. The entry should be the name for the network interface
that functions as a router between networks. The presence of the <tt>/etc/defaultrouter</tt> file indicates that the system is configured to support static
routing.</p>
<A NAME="ipconfig-18"></A><h3><tt>hosts</tt> Database</h3>
<p><A NAME="indexterm-965"></A><A NAME="indexterm-966"></A><A NAME="indexterm-967"></A><A NAME="indexterm-968"></A><A NAME="indexterm-969"></A>The <tt>hosts</tt> database contains the IPv4 addresses
and host names of systems on your network. If you use the NIS or DNS name
service, or the LDAP directory service, the <tt>hosts</tt> database
is maintained in a database that is designated for host information. For example,
on a network that runs NIS, the <tt>hosts</tt> database is maintained
in the <tt>hostsbyname</tt> file. </p>
<p><A NAME="indexterm-970"></A>If you use local files for the name service, the <tt>hosts</tt> database
is maintained in the <tt>/etc/inet/hosts</tt> file. This file
contains the host names and IPv4 addresses of the primary network interface,
other network interfaces that are attached to the system, and any other network
addresses that the system must check for. </p>
<p><hr size="1" noshade><p><b>Note - </b><A NAME="indexterm-971"></A><A NAME="indexterm-972"></A>For compatibility
with BSD-based operating systems, the <tt>/etc/hosts</tt> file
is a symbolic link to <tt>/etc/inet/hosts</tt>. </p>
<hr size="1" noshade></p><A NAME="ipconfig-19"></A><h4><tt>/etc/inet/hosts</tt> File Format</h4>
<p><A NAME="indexterm-973"></A><A NAME="indexterm-974"></A><A NAME="indexterm-975"></A>The <tt>/etc/inet/hosts</tt> file uses the basic syntax
that follows. Refer to the <tt>hosts</tt>(4) man
page for complete syntax information. </p>
<p><i>IPv4-address    hostname   [nicknames]   [#comment]</i></p>
<table border="0" cellspacing="5"><tr><td valign="top"><p><i>IPv4-address</i></p></td><td valign="top"><p>Contains the IPv4 address for each interface that the local
host must recognize. </p>
</td></tr><tr><td valign="top"><p><i>hostname</i></p></td><td valign="top"><p>Contains the host name that is assigned to the system at setup,
plus the host names that are assigned to additional network interfaces that
the local host must recognize.</p>
</td></tr><tr><td valign="top"><p><i>[nickname]</i></p></td><td valign="top"><p>Is an optional field that contains a nickname for the host.</p>
</td></tr><tr><td valign="top"><p><i>[#comment]</i></p></td><td valign="top"><p>Is an optional field for a comment.</p>
</td></tr></table>
<A NAME="ipconfig-20"></A><h4>Initial <tt>/etc/inet/hosts</tt> File</h4>
<p><A NAME="indexterm-976"></A><A NAME="indexterm-977"></A><A NAME="indexterm-978"></A>When you run the Solaris installation program on a system, the
program configures the initial <tt>/etc/inet/hosts</tt> file.
This file contains the minimum entries that the local host requires. The entries
include the loopback address, the host IPv4 address, and the host name. </p>
<p>For example, the Solaris installation program might create the following <tt>/etc/inet/hosts</tt> file for system <tt>tenere</tt> shown
in <A HREF="p18.html#ipconfig-fig-10">Figure 5-1</A>:</p>
<A NAME="ipconfig-ex-21"></A><p><b>Example 10-1 </b><tt>/etc/inet/hosts</tt> File
for System <tt>tenere</tt></p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>127.0.0.1     localhost         loghost    #loopback address
192.168.200.3   tenere                      #host name</pre>
</td></table><br><A NAME="ipconfig-22"></A><h5>Loopback Address</h5>
<p><A NAME="indexterm-979"></A><A NAME="indexterm-980"></A><A NAME="indexterm-981"></A><A NAME="indexterm-982"></A>In <A HREF="p50.html#ipconfig-ex-21">Example 10-1</A>,
the IPv4 address <tt>127.0.0.1</tt> is the <b>loopback address</b>.
The loopback address is the reserved network interface that is used by the
local system to allow interprocess communication. This address enables the
host to send packets to itself. The <tt>ifconfig</tt> command uses
the loopback address for configuration and testing, as explained in <A HREF="p41.html#ipconfig-141">Monitoring the Interface Configuration With the <tt>ifconfig</tt> Command</A>. Every system on a TCP/IP network must use the IP address <tt>127.0.0.1</tt> for IPv4 loopback on the local host. </p>
<A NAME="ipconfig-23"></A><h5>Host Name</h5>
<p><A NAME="indexterm-983"></A><A NAME="indexterm-984"></A><A NAME="indexterm-985"></A><A NAME="indexterm-986"></A>The IPv4 address <tt>192.168.200.1</tt> and the name <tt>tenere</tt> are the address and host name of the local system. They are
assigned to the system's primary network interface. </p>
<A NAME="ipconfig-24a"></A><h5>Multiple Network Interfaces</h5>
<A NAME="indexterm-987"></A><p>Some systems have more than one network interface, because they are
either routers or multihomed hosts. Each network interface that is attached
to the system requires its own IP address and associated name. During installation,
you must configure the primary network interface. If a particular system has
multiple interfaces at installation time, the Solaris installation program
also prompts you about these additional interfaces. You can optionally configure
one or more additional interfaces at this time, or manually, at a later date.</p>
<p><A NAME="indexterm-988"></A><A NAME="indexterm-989"></A><A NAME="indexterm-990"></A><A NAME="indexterm-991"></A><A NAME="indexterm-992"></A>After Solaris installation, you can configure additional interfaces
for a router or multihomed host by adding interface information to the systems' <tt>/etc/inet/hosts</tt> file. For more information on configuring routers
and multihomed hosts refer to <A HREF="p20.html#ipconfig-116">Configuring an IPv4 Router</A> and <A HREF="p21.html#ipconfig-22a">Configuring Multihomed Hosts</A>.</p>
<p><A HREF="p50.html#ipconfig-ex-25">Example 10-2</A> shows the <tt>/etc/inet/hosts</tt> file for system <tt>timbuktu</tt> that
is shown in <A HREF="p18.html#ipconfig-fig-10">Figure 5-1</A>.</p>
<A NAME="ipconfig-ex-25"></A><p><b>Example 10-2 </b><tt>/etc/inet/hosts</tt> File
for System <tt>timbuktu</tt></p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>127.0.0.1        localhost     loghost
192.168.200.70   timbuktu      #This is the local host name
192.168.201.10   timbuktu-201  #Interface to network 192.9.201</pre>
</td></table><br><p><A NAME="indexterm-993"></A><A NAME="indexterm-994"></A><A NAME="indexterm-995"></A><A NAME="indexterm-996"></A><A NAME="indexterm-997"></A><A NAME="indexterm-998"></A><A NAME="indexterm-999"></A>With these two interfaces, <tt>timbuktu</tt> connects
networks <tt>192.168.200</tt> and <tt>192.168.201</tt> as
a router. </p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p49.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p51.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

