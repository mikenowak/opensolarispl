<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p73.html#dhcp-admin-9">15.&nbsp;&nbsp;Administering DHCP (Tasks)</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p88.html#dhcp-admin-mv1211">Moving Configuration Data Between DHCP Servers (Task Map)</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p88.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p90.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="dhcp-admin-proc-317"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Import Data on a DHCP Server
(<tt>dhcpconfig -I</tt>)</h3>
<A NAME="indexterm-1507"></A><ol><A NAME="dhcp-admin-step-608"></A><li><p><b>Log in to the server to which you want
to import the data.</b></p></li>
<li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-609"></A><li><p><b>Import the data by typing a command of
the following format:</b></p><table cellpadding="4" border="1" cols="1" width="100%"><td><pre># <tt><b>dhcpconfig -I </tt><i>filename<tt></i></b></tt></pre>
</td></table><br><p><i>filename</i> is the name of the file that contains
the exported data.</p>
</li>
<li><p><b>Modify the imported data, if necessary.</b></p><p>See <A HREF="p89.html#dhcp-admin-proc-324">How to Modify Imported DHCP Data (<tt>pntadm</tt>, <tt>dhtadm</tt>)</A>.</p>
</li>
</ol><A NAME="dhcp-admin-proc-257"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify Imported DHCP Data (DHCP
Manager)</h3>
<A NAME="indexterm-1508"></A><ol><A NAME="dhcp-admin-step-592"></A><li><p><b>Start DHCP Manager on the server to which
you imported data.</b></p><p>See <A HREF="p74.html#dhcp-admin-4">How to Start and Stop DHCP Manager</A> for information about DHCP Manager.</p>
</li>
<A NAME="dhcp-admin-step-593"></A><li><p><b>Examine imported data for network-specific
information that needs modification.</b></p><p>For example, if you moved
networks, you must open the Addresses tab and change the owning server of
addresses in the imported networks. You might also need to open the Macros
tab to specify the correct domain names for NIS, NIS+ or DNS in some macros.</p>
</li>
<A NAME="dhcp-admin-step-594"></A><li><p><b>Open the Addresses, tab and select a
network that you imported.</b></p></li>
<A NAME="dhcp-admin-step-595"></A><li><p><b>To select all the addresses, click the
first address, press and hold the Shift key, and click the last address.</b></p></li>
<A NAME="dhcp-admin-step-596"></A><li><p><b>From the Edit menu, choose Properties.</b></p><p>The Modify Multiple Addresses dialog box opens.</p>
</li>
<A NAME="dhcp-admin-step-597"></A><li><p><b>At the Managing Server prompt, select
the new server's name.</b></p></li>
<A NAME="dhcp-admin-step-598"></A><li><p><b>At the Configuration Macro prompt, select
the macro that should be used for all clients on this network, and then click
OK.</b></p></li>
<A NAME="dhcp-admin-step-600"></A><li><p><b>Open the Macros tab.</b></p></li>
<A NAME="dhcp-admin-step-601"></A><li><p><b>Use the Find button to locate the options
that are likely to need modified values.</b></p><p>The Find button is located
at the bottom of the window.</p>
<p><tt>DNSdmain</tt>, <tt>DNSserv</tt>, <tt>NISservs</tt>, <tt>NIS+serv</tt>, and <tt>NISdmain</tt> are examples of options that might need modification on
the new server.</p>
</li>
<A NAME="dhcp-admin-step-602"></A><li><p><b>Change the options in the appropriate
macros.</b></p><p>See <A HREF="p86.html#dhcp-admin-46art">How to Modify DHCP Option Properties (DHCP Manager)</A> for the procedure for changing
options.</p>
</li>
</ol><A NAME="dhcp-admin-proc-324"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">How to Modify Imported DHCP Data (<tt>pntadm</tt>, <tt>dhtadm</tt>)</h3>
<A NAME="indexterm-1509"></A><ol><A NAME="dhcp-admin-step-613"></A><li><p><b>Log in to the server to which you imported
data.</b></p></li>
<li><p><b>Become superuser or assume a role
or user name that is assigned to the DHCP
Management profile.</b></p><p>For more information
about the DHCP Management profile, see <A HREF="p74.html#dhcp-admin-rbac1211">Setting Up User Access to DHCP Commands</A>.</p>
<p>Roles contain authorizations
and privileged commands. For more information
about roles, see "Configuring RBAC (Task Map)" in <i>System Administration Guide: Security Services</i>.</p>
</li>
<A NAME="dhcp-admin-step-614"></A><li><p><b>Examine the network tables for data that
needs to be modified.</b></p><p>If you moved networks, use the <tt>pntadm
-P</tt> <i>network-address</i> command to print out
the network tables for the networks you moved.</p>
</li>
<A NAME="dhcp-admin-step-615"></A><li><p><b>Modify IP address information by using
the <tt>pntadm</tt> command.</b></p><p>You might need to change
the owning server and the configuration macro for imported addresses. For
example, to change the owning server (<tt>10.60.3.4</tt>) and macro
(<tt>dhcpsrv-1060</tt>) for address <tt>10.63.0.2</tt>,
you would use the following command:</p>
<p><tt><b>pntadm -M 10.63.0.2
-s 10.60.3.4 -m dhcpsrv-1060 10.60.0.0</b></tt></p>
<p>If you have
a large number of addresses, you should create a script file that contains
commands to modify each address. Execute the script with the <tt>pntadm
-B</tt> command, which runs <tt>pntadm</tt> in batch mode.
See the <tt>pntadm</tt>(1M) man
page.</p>
</li>
<A NAME="dhcp-admin-step-616"></A><li><p><b>Examine the <tt>dhcptab</tt> macros
for options with values that need modification.</b></p><p>Use the <tt>dhtadm
-P</tt> command to print the entire <tt>dhcptab</tt> table
to your screen. Use <tt>grep</tt> or some other tool to search for
options or values that you might want to change.</p>
</li>
<A NAME="dhcp-admin-step-617"></A><li><p><b>Modify options in macros, if necessary,
by using the <tt>dhtadm -M</tt> command.</b></p><p>For example,
you might need to modify some macros to specify the correct domain names and
servers for NIS, NIS+ or DNS. For example, the following command changes the
values of <tt>DNSdmain</tt> and <tt>DNSserv</tt> in the
macro <tt>mymacro</tt>:</p>
<p><tt><b>dhtadm -M -m mymacro
-e 'DNSserv=dnssrv2:DNSdmain=example.net' -g</b></tt></p>
</li>
</ol>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p88.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p90.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

