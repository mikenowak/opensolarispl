<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>System Administration Guide: IP Services</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">System Administration Guide: IP Services</A>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p127.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p129.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="eupsq"></A><b>Chapter&nbsp;25</b><h1>Solaris IP Filter (Overview)</h1>
<p>This chapter provides an overview of Solaris IP Filter. For Solaris
IP Filter tasks, see <A HREF="p132.html#ipfilter-admin-1">Chapter&nbsp;26, Solaris IP Filter (Tasks)</A>.</p>
<p>This chapter contains the following information:</p>
<ul><li><p><A HREF="p128.html#fvcbo">What's New in Solaris IP Filter</A></p>
</li>
<li><p><A HREF="p128.html#eupss">Introduction to Solaris IP Filter</A></p>
</li>
<li><p><A HREF="p128.html#gaufw">Solaris IP Filter Packet Processing</A></p>
</li>
<li><p><A HREF="p129.html#ezltg">Guidelines for Using Solaris IP Filter</A></p>
</li>
<li><p><A HREF="p129.html#ezecz">Using Solaris IP Filter Configuration Files</A></p>
</li>
<li><p><A HREF="p129.html#ezecx">Working With Solaris IP Filter Rule Sets</A></p>
</li>
<li><p><A HREF="p130.html#gdwan">Packet Filter Hooks</A></p>
</li>
<li><p><A HREF="p130.html#fxxrb">IPv6 for Solaris IP Filter</A></p>
</li>
<li><p><A HREF="p131.html#euqex">Solaris IP Filter Man Pages</A></p>
</li>
</ul>
<A NAME="fvcbo"></A><h2>What's New in Solaris IP Filter</h2>
<p>This section describes new Solaris IP Filter features in the Solaris release.</p>
<p>For a complete listing of new Solaris features and a description of
Solaris releases, see <i>Solaris Express, Developer Edition What's New</i></p>
<A NAME="gdwak"></A><h3>Packet
Filter Hooks</h3>
<p>Solaris Express, Developer Edition 2/07 Release:
Packet filter hooks are now used for packet filtering in the Solaris Operating
System. This feature offers the following advantages in system administration:</p>
<ul><li><p>Packet filter hooks simplify the configuration of the Solaris
IP filter.</p>
</li>
<li><p>Support for filtering packets across zones is now available.</p>
</li>
<li><p>Using filter hooks improves the performance of Solaris IP
Filter.</p>
</li>
</ul>
<p>For further details about these hooks, see <A HREF="p130.html#gdwan">Packet Filter Hooks</A>. For tasks that are associated with packet filter hooks,
see <A HREF="p132.html#ipfilter-admin-1">Chapter&nbsp;26, Solaris IP Filter (Tasks)</A>.</p>
<A NAME="fvixt"></A><h3>IPv6 Packet Filtering for Solaris IP Filter</h3>
<p>Solaris 10 6/06: For system administrators who have all or part of their
network infrastructure configured with IPv6, Solaris IP Filter has been enhanced
to include IPv6 packet filtering. IPv6 packet filtering can filter based on
the source/destination IPv6 address, pools containing IPv6 addresses, and
IPv6 extension headers. </p>
<p>The <tt>-6</tt> option has been added to both the <tt>ipf</tt> command
and the <tt>ipfstat</tt> command to use with IPv6. Although there
is no change to the command line interface for the <tt>ipmon</tt> and <tt>ippool</tt> commands, these commands also support IPv6. The <tt>ipmon</tt> command
has been enhanced to accommodate the logging of IPv6 packets, and the <tt>ippool</tt> command supports the inclusion of IPv6 addresses in pools.</p>
<p>For more information see IPv6 for Solaris IP Filter. For tasks associated
with IPv6 packet filtering, see <A HREF="p132.html#ipfilter-admin-1">Chapter&nbsp;26, Solaris IP Filter (Tasks)</A>.</p>
<A NAME="eupss"></A><h2>Introduction to Solaris IP Filter</h2>
<A NAME="indexterm-2300"></A><A NAME="indexterm-2301"></A><p>Solaris IP Filter replaces the SunScreen&#153; firewall
as the firewall software for the Solaris Operating System (Solaris OS). Like
the SunScreen firewall, Solaris IP Filter provides stateful packet filtering
and network address translation (NAT). Solaris IP Filter also includes stateless
packet filtering and the ability to create and manage address pools.</p>
<p>Packet filtering provides basic protection against network-based attacks.
Solaris IP Filter can filter by IP address, port, protocol, network interface,
and traffic direction. Solaris IP Filter can also filter by an individual
source IP address, a destination IP address, by a range of IP addresses, or
by address pools.</p>
<p>Solaris IP Filter is derived from open source IP Filter software. To
view license terms, attribution, and copyright statements for open source
IP Filter, the default path is <tt>/usr/lib/ipf/IPFILTER.LICENCE</tt>.
If the Solaris OS has been installed anywhere other than the default, modify
the given path to access the file at the installed location.</p>
<A NAME="faprs"></A><h3>Information Sources for Open Source IP Filter</h3>
<A NAME="indexterm-2302"></A><p>The home page for the open source IP Filter software by Darren Reed
is found at <A  HREF="http://coombs.anu.edu.au/~avalon/ip-filter.html">http://coombs.anu.edu.au/~avalon/ip-filter.html</A>. This site includes information for open source IP Filter,
including a link to a tutorial entitled "IP Filter Based Firewalls HOWTO"
(Brendan Conoboy and Erik Fichtner, 2002). This tutorial provides step-by-step
instructions for building firewalls in a BSD UNIX environment. Although written
for a BSD UNIX environment, the tutorial is also relevant for the configuration
of Solaris IP Filter.</p>
<A NAME="gaufw"></A><h2>Solaris IP Filter Packet Processing</h2>
<p>Solaris IP Filter executes a sequence of steps as a packet is processed.
The following diagram illustrates the steps of packet processing and how filtering
integrates with the TCP/IP protocol stack.</p>
<A NAME="gawjh"></A><p><b>Figure 25-1 </b>Packet Processing Sequence</p>
<IMG src="figures/IPFilterPackProcSeq.gif" class="figure" alt="Shows the sequence of steps associated with Solaris IP
Filter packet processing." title="Shows the sequence of steps associated with Solaris IP
Filter packet processing."><p>The packet processing sequence includes the following:</p>
<ul><li><p><b>Network Address Translation (NAT)</b></p>
<p>The translation of a private IP address to a different public address,
or the aliasing of multiple private addresses to a single public one. NAT
allows an organization to resolve the problem of IP address depletion when
the organization has existing networks and needs to access the Internet.</p>
</li>
<li><p><b>IP Accounting</b></p>
<p>Input
and output rules can be separately set up, recording the number of bytes that
pass through. Each time a rule match occurs, the byte count of the packet
is added to the rule and allows for collection of cascading statistics.</p>
</li>
<li><p><b>Fragment Cache Check</b></p>
<p>If the next packet in the current traffic is a fragment and the previous
packet was allowed, the packet fragment is also allowed, bypassing state table
and rule checking.</p>
</li>
<li><p><b>Packet State Check</b></p>
<p>If <tt>keep state</tt> is included in a rule, all packets
in a specified session are passed or blocked automatically, depending on whether
the rule says <tt>pass</tt> or <tt>block</tt>.</p>
</li>
<li><p><b>Firewall Check</b></p>
<p>Input
and output rules can be separately set up, determining whether or not a packet
will be allowed through Solaris IP Filter, into the kernel's TCP/IP routines, or out
onto the network.</p>
</li>
<li><p><b>Groups</b></p>
<p>Groups
allow you to write your rule set in a tree fashion.</p>
</li>
<li><p><b>Function</b></p>
<p>A
function is the action to be taken. Possible functions include <tt>block</tt>, <tt>pass</tt>, <tt>literal</tt>, and <tt>send ICMP response</tt>.</p>
</li>
<li><p><b>Fast-route</b></p>
<p>Fast-route
signals Solaris IP Filter to not pass the packet into the UNIX IP stack for routing,
which results in a TTL decrement.</p>
</li>
<li><p><b>IP Authentication</b></p>
<p>Packets that are authenticated are only passed through the firewall
loops once to prevent double-processing.</p>
</li>
</ul>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p127.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p129.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

