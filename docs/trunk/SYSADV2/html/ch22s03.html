<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Customizing System Message Logging</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="System Administration Guide: Advanced Administration"><link rel="up" href="ch22.html" title="Chapter 22. Managing System Messages"><link rel="prev" href="ch22s02.html" title="System Log Rotation"><link rel="next" href="ch22s04.html" title="Enabling Remote Console Messaging"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Customizing System Message Logging</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch22s02.html">Prev</a> </td><th width="60%" align="center">Chapter 22. Managing System Messages</th><td width="20%" align="right"> <a accesskey="n" href="ch22s04.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="eekis"></a>Customizing System Message Logging</h2></div></div></div>

<p>
<a class="indexterm" name="eekeh"></a>
<a class="indexterm" name="eeklu"></a>
<a class="indexterm" name="eekkw"></a>
<a class="indexterm" name="eekmv"></a>
<a class="indexterm" name="eekhk"></a>
<a class="indexterm" name="eekmj"></a>
<a class="indexterm" name="eekjw"></a>
<a class="indexterm" name="eekji"></a>
<a class="indexterm" name="eekfd"></a>
<a class="indexterm" name="eeket"></a>
<a class="indexterm" name="eekmb"></a>
<a class="indexterm" name="eekgv"></a>
<a class="indexterm" name="eekhd"></a>
<a class="indexterm" name="eekfc"></a>You can capture additional error messages that are generated by various
system processes by modifying the <code class="filename">/etc/syslog.conf</code> file. By default,
the <code class="filename">/etc/syslog.conf</code> file directs many system process messages
to the <code class="filename">/var/adm/messages</code> files. Crash and boot messages are stored
here as well. To view <code class="filename">/var/adm</code> messages, see <span class="olink">How to View System Messages</span>.</p>
<p>The <code class="filename">/etc/syslog.conf</code> file has two columns separated by
tabs:</p>
<pre class="screen">
<em class="replaceable"><code>facility.level ...</code></em> <em class="replaceable"><code>action</code></em>
</pre>
<div class="variablelist"><dl><dt><span class="term">
<em class="replaceable"><code>facility.level</code></em>
</span></dt><dd>
<p>A <em class="replaceable"><code>facility</code></em> or system source of the message
or condition. May be a comma-separated listed of facilities. Facility values are listed
in <span class="olink">Table 22&#8211;1</span>. A <em class="replaceable"><code>level</code></em>,
indicates the severity or priority of the condition being logged. Priority levels
are listed in <span class="olink">Table 22&#8211;2</span>.</p>
<p>Do not put two entries for the same facility on the same line, if the entries
are for different priorities. Putting a priority in the syslog file indicates that
all messages of that all messages of that priority or higher are logged, with the
last message taking precedence. For a given facility and level, <span><strong class="command">syslogd</strong></span> matches
all messages for that level and all higher levels.</p>
</dd><dt><span class="term">
<em class="replaceable"><code>action</code></em>
</span></dt><dd>
<p>The action field indicates where the messages are forwarded.</p>
</dd></dl></div>
<p>
<a class="indexterm" name="eekmg"></a>
<a class="indexterm" name="eekfh"></a>The following example shows sample lines from a default <code class="filename">/etc/syslog.conf</code> file.  </p>
<pre class="screen">user.err                                        /dev/sysmsg
user.err                                        /var/adm/messages
user.alert                                      `root, operator'
user.emerg                                      *</pre>
<p>This means the following user messages are automatically logged:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>User errors are printed to the console and also are logged to the
 <code class="filename">/var/adm/messages</code> file.</p>
</li><li>
<p>User messages requiring immediate action (<code class="literal">alert</code>)
are sent to the root and operator users.</p>
</li><li>
<p>User emergency messages are sent to individual users.</p>
</li></ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>Placing entries on separate lines might cause messages to be logged out
of order if a log target is specified more than once in the <code class="filename">/etc/syslog.conf</code> file. Note that you can specify multiple selectors in a single line entry,
each separated by a semi-colon.</p>
</div>
<p>The most common error condition sources are shown in the following table. The
most common priorities are shown in <span class="olink">Table 22&#8211;2</span> in
order of severity.</p>
<div class="table"><a name="eekgi"></a><p class="title"><b>Table 22.1. Source Facilities for <code class="filename">syslog.conf</code> Messages</b></p>


<table summary="Source Facilities for syslog.conf Messages" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Source</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">kern</code> </p>
</td><td>
<p>The kernel</p>
</td></tr><tr><td>
<p>
<code class="literal">auth</code> </p>
</td><td>
<p>Authentication</p>
</td></tr><tr><td>
<p>
<code class="literal">daemon</code> </p>
</td><td>
<p>All daemons</p>
</td></tr><tr><td>
<p>
<code class="literal">mail</code> </p>
</td><td>
<p>Mail system</p>
</td></tr><tr><td>
<p>
<code class="literal">lp</code> </p>
</td><td>
<p>Spooling system</p>
</td></tr><tr><td>
<p>
<code class="literal">user</code> </p>
</td><td>
<p>User processes</p>
</td></tr></tbody></table>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>

<p>
<a class="indexterm" name="eekkv"></a>
<a class="indexterm" name="eekgc"></a>
<a class="indexterm" name="eekhc"></a>The number of <code class="literal">syslog</code> facilities that can be activated
in the <code class="filename">/etc/syslog.conf</code> file is unlimited. </p>
</div>
<div class="table"><a name="eekgu"></a><p class="title"><b>Table 22.2. Priority Levels for <code class="filename">syslog.conf</code> Messages</b></p>


<table summary="Priority Levels for syslog.conf Messages" border="1"><colgroup><col><col></colgroup><thead><tr><th>
<p>Priority</p>
</th><th>
<p>Description</p>
</th></tr></thead><tbody><tr><td>
<p>
<code class="literal">emerg</code>
</p>
</td><td>
<p>System emergencies</p>
</td></tr><tr><td>
<p>
<code class="literal">alert</code> </p>
</td><td>
<p>Errors requiring immediate correction</p>
</td></tr><tr><td>
<p>
<code class="literal">crit</code>
</p>
</td><td>
<p>Critical errors</p>
</td></tr><tr><td>
<p>
<code class="literal">err</code>
</p>
</td><td>
<p>Other errors</p>
</td></tr><tr><td>
<p>
<code class="literal">info</code>
</p>
</td><td>
<p>Informational messages</p>
</td></tr><tr><td>
<p>
<code class="literal">debug</code> </p>
</td><td>
<p>Output used for debugging</p>
</td></tr><tr><td>
<p>
<code class="literal">none</code> </p>
</td><td>
<p>This setting doesn't log output </p>
</td></tr></tbody></table>
</div>
<div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2258400"></a></h3></div></div></div>

<div class="task"><a name="eekii"></a><p class="title"><b>How to Customize System Message Logging</b></p><a class="indexterm" name="indexterm-246"></a><a class="indexterm" name="indexterm-247"></a><div class="procedure"><ol type="1"><li>
<p>Become superuser or assume an equivalent role.</p>
<p>Roles contain authorizations and privileged commands. For more information about
roles, see <span class="olink">
<em class="citetitle">Configuring RBAC (Task Map)</em> in <em class="citetitle">System Administration Guide: Security Services</em>
</span>.</p>
</li><li><a name="eekjz"></a>
<p>Edit the <code class="filename">/etc/syslog.conf</code> file, adding
or changing message sources, priorities, and message locations according to the syntax
described in <span class="olink">
<span class="citerefentry">
<span class="refentrytitle">syslog.conf</span>
(
4
)
</span>
</span>.</p>
</li><li><a name="eeklo"></a>
<p>Exit the file, saving the changes.</p>
</li></ol></div><div class="example"><a name="emcca"></a><p class="title"><b>Example 22.2. Customizing System Message Logging</b></p>


<p>This sample <code class="filename">/etc/syslog.conf</code> <code class="literal">user.emerg</code> facility
sends user emergency messages to root <span class="emphasis"><em>and</em></span> individual users.</p>
<pre class="screen">user.emerg                                      `root, *'</pre>
</div></div>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch22s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch22.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch22s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">System Log Rotation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Enabling Remote Console Messaging</td></tr></table></div></body></html>
