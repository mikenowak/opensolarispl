<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Default Location in LDAP and NIS+ - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-09-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)<?GenHTML /ReferencePage> > <a href="p61.html">16.&nbsp;&nbsp;Transitioning From NIS+ to LDAP</a> > <a href="p62.html#nisplus2ldap-5">Getting Started With the NIS+ to LDAP Transition</a> > <a href="p62.html#nisplus2ldap-6"><tt>/etc/default/rpc.nisd</tt> File</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p62.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p64.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="nisplus2ldap-11"></a><h5>Default Location in LDAP and NIS+</h5>
<ul><li><p><tt>defaultSearchBase</tt></p>
<p>The point
in the LDAP DIT where the containers for RFC 2307- style naming services data
live. This is the default used when individual container DNs do not specify
a full search base. See <a href="p64.html#nisplus2ldap-18"><tt>nisplusLDAPobjectDN</tt> Attribute</a> for more information.</p>
</li>
<li><p><tt>nisplusLDAPbaseDomain</tt></p>
<p>The default
NIS+ domain name to use when NIS+ object specifications (see <a href="p63.html#nisplus2ldap-16"><tt>nisplusLDAPdatabaseIdMapping</tt> Attribute</a>)
are not fully qualified.</p>
</li>
</ul>
<a name="nisplus2ldap-12"></a><h5>Timeout/Size Limits and Referral Action
for LDAP Communication</h5>
<ul><li><p><tt>nisplusLDAPbindTimeout</tt></p>
</li>
<li><p><tt>nisplusLDAPmodifyTimeout</tt></p>
</li>
<li><p><tt>nisplusLDAPaddTimeout</tt></p>
</li>
<li><p><tt>nisplusLDAPdeleteTimeout</tt></p>
</li>
</ul>
<p>The above parameters are timeouts for the <tt>ldap</tt> <tt>bind</tt>, <tt>modify</tt>, <tt>add</tt>, and <tt>delete</tt> operations, respectively. They should generally be left at their
default values.</p>
<ul><li><p><tt>nisplusLDAPsearchTimeout</tt></p>
</li>
<li><p><tt>nisplusLDAPsearchTimeLimit</tt></p>
</li>
</ul>
<p>The above parameters set the timeout for the LDAP search operation,
and request a server-side search time limit, respectively. Since the <tt>nisplusLDAPsearchTimeLimit</tt> will control how much time the LDAP server spends on the search
request, make sure that <tt>nisplusLDAPsearchTimeLimit</tt> is not
smaller than <tt>nisplusLDAPsearchTimeout</tt>.  Depending on the
performance of the NIS+ server, the LDAP server, and the connection between
them, you might have to increase the search limits from the default values.
Watch for timeout syslog messages from <tt>rpc.nisd</tt> as a clue
to making these values larger.</p>
<ul><li><p><tt>nisplusLDAPsearchSizeLimit</tt></p>
<p>The
above parameter requests a limit on the amount of LDAP data returned for an
LDAP search request. The default is to ask for no limitation.  This is a server
side limit. The LDAP server might impose restrictions on the maximum, and
these restrictions might be tied to the proxy user (bind DN) used. Make sure
that the LDAP server allows the <tt>rpc.nisd</tt> to transfer enough
data to account for the largest container (depending on the site, often the
container used for  <tt>passwd.org_dir</tt>, <tt>mail_aliases.org_dir</tt>, or <tt>netgroup.org_dir</tt>). Consult your LDAP
server documentation for more information.</p>
</li>
<li><p><tt>nisplusLDAPfollowReferral</tt></p>
<p>The
above parameter defines the action to be taken when an LDAP operation results
in a referral to another LDAP server. The default is to <b>not</b> follow
referrals. Enable follow referrals if you want or need referrals to be honored.
Keep in mind that while referrals are convenient, they can also slow down
operations by making the <tt>rpc.nisd</tt> talk to multiple LDAP
servers for each request. The <tt>rpc.nisd</tt> should generally
be pointed directly to an LDAP server that can handle all LDAP requests that
the <tt>rpc.nisd</tt> might make.</p>
</li>
</ul>
<a name="nisplus2ldap-13"></a><h5>Error Actions</h5>
<p>The following parameters define the actions to take when an error occurs
during an LDAP operation. You should generally leave these at their defaults.
See <tt>rpc.nisd</tt>(4) for
more information.</p>
<ul><li><p><tt>nisplusLDAPinitialUpdateAction</tt></p>
</li>
<li><p><tt>nisplusLDAPinitialUpdateOnly</tt></p>
</li>
<li><p><tt>nisplusLDAPretrieveErrorAction</tt></p>
</li>
<li><p><tt>nisplusLDAPretrieveErrorAttempts</tt></p>
</li>
<li><p><tt>nisplusLDAPretrieveErrorTimeout</tt></p>
</li>
<li><p><tt>nisplusLDAPstoreErrorAction</tt></p>
</li>
<li><p><tt>nisplusLDAPstoreErrorAttempts</tt></p>
</li>
<li><p><tt>nisplusLDAPstoreErrorTimeout</tt></p>
</li>
<li><p><tt>nisplusLDAPrefreshErrorAction</tt></p>
</li>
<li><p><tt>nisplusLDAPrefreshErrorAttempts</tt></p>
</li>
<li><p><tt>nisplusLDAPrefreshErrorTimeout</tt></p>
</li>
</ul>
<a name="nisplus2ldap-14"></a><h5>General LDAP Operation Control</h5>
<ul><li><p><tt>nisplusLDAPmatchFetchAction</tt></p>
<p>The
above parameter determines whether or not LDAP data should be pre-fetched
for NIS+ match operations. In most cases, leave this value at the default.
See <tt>rpc.nisd</tt>(4) for
more information.</p>
</li>
</ul>
<a name="nisplus2ldap-15"></a><h4><tt>/var/nis/NIS+LDAPmapping</tt> File</h4>
<p>The presence of the default <tt>NIS+LDAPmapping</tt> file
serves as a master switch for NIS+/LDAP mapping.</p>
<p>If you use a non-default mapping file, you will have to edit the <tt>/lib/svc/method/nisplus</tt> script to specify the mapping file name
on the <tt>rpc.nisd</tt> line by using the <tt>-m</tt> <i>mappingfile</i> option. See <a href="p61.html#nisplus2ldap-66">NIS+ to LDAP Tools and the Service Management Facility</a> for more information.</p>
<p>For each NIS+ object that should be mapped to or from LDAP, the <tt>NIS+LDAPmapping</tt> file specifies two to five attributes, depending on the object
and whether or not the default values are sufficient.</p>
<a name="nisplus2ldap-16"></a><h5><tt>nisplusLDAPdatabaseIdMapping</tt> Attribute</h5>
<p>You must establish an alias to be used in the other mapping attributes.
If the NIS+ object name is not fully qualified (does not end in a dot), the
value of the <tt>nisplusLDAPbaseDomain</tt> is appended.</p>
<p>For example,</p>
<pre>nisplusLDAPdatabaseIdMapping	rpc:rpc.org_dir</pre><p>defines the database id <tt>rpc</tt> as an alias for the NIS+ <tt>rpc.org_dir</tt> table.</p>
<p>Note that NIS+ table objects might appear twice with two different database
ids, once for the table object itself (if the object should be mapped to LDAP),
and once for the table entries. For example,</p>
<pre>nisplusLDAPdatabaseIdMapping	rpc_table:rpc.org_dir
nisplusLDAPdatabaseIdMapping	rpc:rpc.org_dir</pre><p>defines the database ids <tt>rpc_table</tt> and <tt>rpc</tt> as
aliases for the <tt>rpc.org_dir</tt> table. Later definitions will
make it clear that <tt>rpc_table</tt> is used for the <tt>rpc.org_dir</tt> table object, and <tt>rpc</tt> for the entries in that
table.</p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p62.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p64.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

