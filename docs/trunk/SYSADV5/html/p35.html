<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Default Directory Information Tree (DIT) - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-09-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)<?GenHTML /ReferencePage> > <a href="p34.html">9.&nbsp;&nbsp;LDAP Basic Components and Concepts (Overview)</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p34.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p36.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="ldapsecure-89"></a><h3>Default Directory Information Tree (DIT)</h3>
<a name="indexterm-461"></a><p>By default, Solaris LDAP clients access the information assuming that
the DIT has a given structure. For each domain supported by the LDAP server,
there is a subtree with an assumed structure. This default structure, however,
can be overridden by specifying Service Search Descriptors (SSDs). For a given
domain, the default DIT will have a base container that holds a number of
well known containers that hold entries for a specific information type. See
the following table for the names of these subtrees. (This information can
be found in RFC 2307 and others.)</p>
<a name="ldapsecure-tbl-85"></a>Table 9-1 DIT Default Locations<table><tr><th><p>Default Container</p>
</th><th><p>Information Type</p>
</th></tr>
<tr><td><p><tt>ou=Ethers</tt></p>
</td><td><p>bootparams(4), ethers(4)</p>
</td></tr>
<tr><td><p><tt>ou=Group</tt></p>
</td><td><p>group(4)</p>
</td></tr>
<tr><td><p><tt>ou=Hosts</tt> </p>
</td><td><p>hosts(4),  ipnodes(4), publickey for hosts</p>
</td></tr>
<tr><td><p><tt>ou=Aliases</tt></p>
</td><td><p>aliases(4)</p>
</td></tr>
<tr><td><p><tt>ou=Netgroup</tt> </p>
</td><td><p>netgroup(4)</p>
</td></tr>
<tr><td><p><tt>ou=Networks</tt></p>
</td><td><p>networks(4), netmasks(4)</p>
</td></tr>
<tr><td><p><tt>ou=People</tt> </p>
</td><td><p>passwd(1),  shadow(4), user_attr(4), audit_user(4), publickey for users</p>
</td></tr>
<tr><td><p><tt>ou=printers</tt></p>
</td><td><p>printers(4)</p>
</td></tr>
<tr><td><p><tt>ou=Protocols</tt></p>
</td><td><p>protocols(4)</p>
</td></tr>
<tr><td><p><tt>ou=Rpc</tt></p>
</td><td><p>rpc(4)</p>
</td></tr>
<tr><td><p><tt>ou=Services</tt></p>
</td><td><p>services(4)</p>
</td></tr>
<tr><td><p><tt>ou=SolarisAuthAttr</tt></p>
</td><td><p>auth_attr(4)</p>
</td></tr>
<tr><td><p><tt>ou=SolarisProfAttr</tt></p>
</td><td><p>prof_attr(4), exec_attr(4)</p>
</td></tr>
<tr><td><p><tt>ou=projects</tt></p>
</td><td><p>project</p>
</td></tr>
<tr><td><p><tt>automountMap=auto_</tt>*</p>
</td><td><p>auto_*</p>
</td></tr>
</table><a name="ldapsecure-88"></a><h3>Default LDAP Schema</h3>
<p>Schemas are definitions describing what types of information can be
stored as entries in an LDAP directory. To support LDAP naming clients, the
directory server's schema might need to be extended. Detailed information
about IETF and Solaris specific schemas is included in <a href="p51.html">Chapter&nbsp;14, LDAP General Reference (Reference)</a>.
The various RFCs can also be accessed on the IETF Web site <tt>http://www.ietf.org</tt>.</p>
<a name="ldapsecure-65"></a><h3>Service Search Descriptors (SSDs) and Schema
Mapping</h3>
<hr>
<p><b>Note - </b>If you use schema mapping, you must do so in a very careful and
consistent manner. Make sure the syntax of the mapped attribute is consistent
with the attribute it is mapped to. In other words, make sure that single-valued
attributes map to single-valued attributes, that the attribute syntaxes are
in agreement, and that mapped object classes have the correct mandatory (possibly
mapped) attributes.</p>
<hr>
<p><a name="indexterm-462"></a>As previously discussed, LDAP naming services expect, by default,
the DIT to be structured in a certain way. If you want, you can instruct the
Solaris LDAP naming service to search in other locations than the default
locations in the DIT. Additionally, you can specify that different attributes
and object classes be used in place of those specified by the default schema.
For a list of default filters, see <a href="p54.html#schemas-122">Default Filters Used by LDAP Naming Services</a>.</p>
<a name="ldapsecure-69"></a><h4>Description of SSDs</h4>
<p><a name="indexterm-463"></a><a name="indexterm-464"></a>The <tt>serviceSearchDescriptor</tt> attribute defines
how and where an LDAP naming service client should search for information
for a particular service. The <tt>serviceSearchDescriptor</tt> contains
a service name, followed by one or more semicolon-separated base-scope-filter
triples.  These base-scope-filter triples are used to define searches only
for the specific service and are searched in order.  If multiple base-scope-filters
are specified for a given service, then when that service looks for a particular
entry, it will search in each base with the specified scope and filter.</p>
<hr>
<p><b>Note - </b>The default location is not searched for a service (database)
with an SSD unless it is included in the SSD.  Unpredictable behavior will
result if multiple SSDs are given for a service.</p>
<hr>
<p>In the following example, the Solaris LDAP naming service client performs
a one-level search in <tt>ou=west,dc=example,dc=com</tt> followed
by a one-level search in <tt>ou=east,dc=example,dc=com</tt> for
the <tt>passwd</tt> service. To look up the <tt>passwd</tt> data
for a user's <tt>username</tt>, the default LDAP filter <tt>(&amp;(objectClass=posixAccount)(uid=username))</tt> is used for each <tt>BaseDN</tt>.</p>
<pre>serviceSearchDescriptor: passwd:ou=west,dc=example,dc=com;ou=east,
dc=example,dc=com </pre><p>In the following example, the Solaris LDAP naming service client would
perform a subtree search in <tt>ou=west,dc=example,dc=com</tt> 
for the <tt>passwd</tt> service. To look up the <tt>passwd</tt> data
for user <tt>username</tt>, the subtree <tt>ou=west,dc=example,dc=com</tt> would be searched with the LDAP filter <tt>(&amp;(fulltimeEmployee=TRUE)(uid=username))</tt>.</p>
<pre>serviceSearchDescriptor: passwd:ou=west,dc=example,
dc=com?sub?fulltimeEmployee=TRUE</pre><p>It is also possible to associate multiple containers with a particular
service type. In the following example, the service search descriptor specifies
searching for the password entries in three containers.</p>
<table><tr><td><p><tt>ou=myuser,dc=example,dc=com</tt></p>
</td></tr>
<tr><td><p><tt>ou=newuser,dc=example,dc=com</tt></p>
</td></tr>
<tr><td><p><tt>ou=extuser,dc=example,dc=com</tt></p>
</td></tr>
</table><p>Note that a trailing ',' in the example implies that the <tt>defaultSearchBase</tt> is appended to the relative base in the SSD.</p>
<pre>defaultSearchBase: dc=example,dc=com
serviceSearchDescriptor: \
passwd:ou=myuser,;ou=newuser,;ou=extuser,dc=example,dc=com</pre><a name="ldapsecure-100"></a><h5>Attribute Map</h5>
<p><a name="indexterm-465"></a>The Solaris LDAP naming service allows one or more attribute names
to be remapped for any of its services. (The Solaris LDAP client uses the
well-known attributes documented in <a href="p51.html">Chapter&nbsp;14, LDAP General Reference (Reference)</a>.)  If you map an attribute, you
must be sure that the attribute has the same meaning and syntax as the original
attribute. Note that mapping the <tt>userPassword</tt> attribute
might cause problems.</p>
<p>There are a couple of reasons you might want to use schema mappings.</p>
<ul><li><p>You want to map attributes in an existing directory server</p>
</li>
<li><p>If you have user names that differ only in case, you must
map the <tt>uid</tt> attribute, which ignores case, to an attribute
that does not ignore case</p>
</li>
</ul>
<p>The format for this attribute is <tt>service:attribute-name=mapped-attribute-name</tt>.</p>
<p>If you want to map more than one attribute for a given service, you
can define multiple <tt>attributeMap</tt> attributes.</p>
<p>In the following example, the <tt>employeeName</tt> and <tt>home</tt> attributes would be used whenever the <tt>uid</tt> and <tt>homeDirectory</tt> attributes would be used for the <tt>passwd</tt> service.</p>
<pre>attributeMap: passwd:uid=employeeName
attributeMap: passwd:homeDirectory=home</pre><p>There exists one special case where you can map the <tt>passwd</tt> service's <tt>gecos</tt> attribute to several attributes. The following is an example.</p>
<pre>attributemap: gecos=cn sn title</pre><p>This maps the <tt>gecos</tt> values to a space separated list
of the <tt>cn</tt>, <tt>sn</tt>, and <tt>title</tt> attribute
values.</p>
<a name="ldapsecure-101"></a><h5><tt>objectClass</tt> Map</h5>
<p><a name="indexterm-466"></a>The Solaris LDAP naming service allows object classes to be remapped
for any of its services. If you want to map more than one object class for
a given service, you can define multiple <tt>objectclassMap</tt> attributes.
In the following example, the <tt>myUnixAccount</tt> object class
is used whenever the <tt>posixAccount</tt> object class is used.</p>
<pre>objectclassMap: passwd:posixAccount=myUnixAccount</pre><a name="ldapsecure-103"></a><h3>LDAP Client Profiles</h3>
<p><a name="indexterm-467"></a>To simplify Solaris client setup, and avoid having to reenter
the same information for each and every client, create a single client profile
on the directory server. This way, a single profile defines the configuration
for all clients configured to use it. Any subsequent change to the profile
attributes is propagated to the clients at a rate defined by the refresh interval.</p>
<p>These client profiles should be stored in a well-known location on the
LDAP server. The root DN for the given domain must have an object class of <tt>nisDomainObject</tt> and a <tt>nisDomain</tt> attribute containing
the client's domain.  All profiles are located in the <tt>ou=profile</tt> container
relative to this container. These profiles should be readable anonymously.</p>
<a name="ldapsecure-70"></a><h4>Client Profile Attributes</h4>
<p>The following table shows the Solaris LDAP client's profile attributes,
which can be set automatically when you run <tt>idsconfig</tt>.
See <a href="p47.html#clientsetup-51">Initializing a Client Manually</a> and
the <tt>idsconfig</tt>(1M) man
page for information on how to set a client profile manually.</p>
<a name="ldapsecure-tbl-86"></a>Table 9-2 Client Profile Attributes<table><tr><th><p>Attribute</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>cn</tt></p>
</td><td><p>The profile name. The attribute has no default value. The value must
be specified.</p>
</td></tr>
<tr><td><p><tt>preferredServerList</tt></p>
</td><td><p>The host addresses of the preferred servers is a space separated list
of server addresses. (Do not use host names.)  The servers in this list are
tried in order <b>before</b> those in <tt>defaultServerList</tt> until
a successful connection is made. This has no default value. At least one server
must be specified in either <tt>preferredServerList</tt> or <tt>defaultServerList</tt>.</p>
</td></tr>
<tr><td><p><tt>defaultServerList</tt></p>
</td><td><p>The host addresses of the default servers is a space separated list
of server addresses. (Do not use host names.) After the servers in <tt>preferredServerlist</tt> are tried, those default servers on the client's subnet are tried,
followed by the remaining default servers, until a connection is made. At
least one server must be specified in either <tt>preferredServerList</tt> or <tt>defaultServerList</tt>. The servers in this list are tried only after
those on the preferred server list. This attribute has no default value.</p>
</td></tr>
<tr><td><p><tt>defaultSearchBase</tt></p>
</td><td><p>The DN relative to which to locate the well-known containers. There
is no default for this value. However, this can be overridden for a given
service by the <tt>serviceSearchDescriptor</tt> attribute.</p>
</td></tr>
<tr><td><p><tt>defaultSearchScope</tt></p>
</td><td><p>Defines the scope of a database search by a client. It can be overridden
by the <tt>serviceSearchDescriptor</tt> attribute. The possible
values are <tt>one</tt> or <tt>sub</tt>. The default value
is a <tt>one</tt> level search.</p>
</td></tr>
<tr><td><p><tt>authenticationMethod</tt></p>
</td><td><p>Identifies the method of authentication used by the client. The default
is none (anonymous). See <a href="p36.html#ldapsecure-75">Choosing Authentication Methods</a> for more information.</p>
</td></tr>
<tr><td><p><tt>credentialLevel</tt></p>
</td><td><p>Identifies the type of credentials a client should use to authenticate.
The choices are <tt>anonymous</tt>, <tt>proxy</tt>, or <tt>self</tt> (also known as
per user). The default is <tt>anonymous</tt>. </p>
</td></tr>
<tr><td><p><tt>serviceSearchDescriptor</tt></p>
</td><td><p>Defines how and where a client should search for a naming database,
for example, if the client should look in one or more points in the DIT. By
default no SSDs are defined.</p>
</td></tr>
<tr><td><p><tt>serviceAuthenticationMethod</tt></p>
</td><td><p>Authentication method used by a client for the specified service. By
default, no service authentication methods are defined. If a service does
not have <tt>serviceAuthenticationMethod</tt> defined, it will default
to the value of <tt>authenticationMethod</tt>. </p>
</td></tr>
<tr><td><p><tt>attributeMap</tt></p>
</td><td><p>Attribute mappings used by client. By default no <tt>attributeMap</tt> is
defined. </p>
</td></tr>
<tr><td><p><tt>objectclassMap</tt></p>
</td><td><p>Object class mappings used by client. By default no <tt>objectclassMap</tt> is defined.</p>
</td></tr>
<tr><td><p><tt>searchTimeLimit</tt></p>
</td><td><p>Maximum time [in seconds] a client should allow for a search to complete
before timing out. This does not affect the time the LDAP server will allow
for a search to complete. The default value is <tt>30</tt> seconds.</p>
</td></tr>
<tr><td><p><tt>bindTimeLimit</tt></p>
</td><td><p>Maximum time in seconds a client should allow to bind with a server
before timing out. Default value is <tt>30</tt> seconds.</p>
</td></tr>
<tr><td><p><tt>followReferrals</tt></p>
</td><td><p>Specifies whether a client should follow an LDAP referral. Possible
values <tt>TRUE</tt> or <tt>FALSE</tt>. The default value
is <tt>TRUE</tt>.</p>
</td></tr>
<tr><td><p><tt>profileTTL</tt></p>
</td><td><p>Time between refreshes of the client profile from the LDAP server by
the <tt>ldap_cachemgr</tt>(1M). Default is <tt>43200</tt> seconds or 12
hours. If given a value of 0, the profile will never be refreshed.</p>
</td></tr>
</table><a name="ldapsecure-92"></a><h4>Local Client Attributes</h4>
<p>The following table lists the client attributes that can be set locally
using <tt>ldapclient</tt>. See the <tt>ldapclient</tt>(1M) man page for more information.</p>
<a name="ldapsecure-tbl-98"></a>Table 9-3 Local Client Attributes<table><tr><th><p>Attribute</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>domainName</tt></p>
</td><td><p>Specifies the client's domain name (which becomes the default domain
for the client machine). This attribute has no default value and must be specified.</p>
</td></tr>
<tr><td><p><tt>proxyDN</tt> </p>
</td><td><p>The proxy's distinguished name. If the client machine is configured
with <tt>credentialLevel</tt> of <tt>proxy</tt>, the <tt>proxyDN</tt> must be specified.</p>
</td></tr>
<tr><td><p><tt>proxyPassword</tt></p>
</td><td><p>The proxy's password. If the client machine is configured with  <tt>credentialLevel</tt> of proxy, <tt>proxyPassword</tt> must be defined. </p>
</td></tr>
<tr><td><p><tt>certificatePath</tt></p>
</td><td><p>The directory on the local file system containing the certificate databases.
If a client machine is configured with <tt>authenticationMethod</tt> or <tt>serviceAuthenticationMethod</tt> using TLS, then this attribute is used.
The default value is <tt>/var/ldap</tt>.</p>
</td></tr>
</table><hr>
<p><b>Note - </b>If the <tt>BaseDN</tt> in an SSD <b>contains
a trailing comma</b>, it is treated as a relative value of the <tt>defaultSearchBase</tt>. The values of the <tt>defaultSearchBase</tt> are appended
to the <tt>BaseDN</tt> before a search is performed.</p>
<hr>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p34.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p36.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

