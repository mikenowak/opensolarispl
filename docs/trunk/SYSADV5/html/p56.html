<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>NIS-to-LDAP Transition Terminology - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-09-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)<?GenHTML /ReferencePage> > <a href="p55.html">15.&nbsp;&nbsp;Transitioning From NIS to LDAP (Overview/Tasks)</a> > <a href="p55.html#nis2ldap-35">NIS-to-LDAP Service Overview</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p55.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p57.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="nis2ldap-12"></a><h4>NIS-to-LDAP Transition Terminology</h4>
<a name="indexterm-542"></a><a name="indexterm-543"></a><p>The following terms are related to the implementation of the N2L service.</p>
<a name="nis2ldap-tbl-43"></a>Table 15-1 Terminology Related to the N2L Transition<table><tr><th><p>Term</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p>N2L configuration files</p>
</td><td><p>The <tt>/var/yp/NISLDAPmapping</tt> and <tt>/var/yp/ypserv</tt> files that the <tt>ypserv</tt> daemon uses to start the master server in N2L mode. See the <tt>NISLDAPmapping</tt>(4) and <tt>ypserv</tt>(4) man pages for details.</p>
</td></tr>
<tr><td><p>map</p>
</td><td><p>In the context of the N2L service, the term map is used in two ways:</p>
<ul><li><p>To refer to a database file in which NIS stores a specific type of information</p>
</li>
<li><p>To describe the process of mapping NIS information to or from the LDAP DIT</p>
</li>
</ul>
</td></tr>
<tr><td><p>mapping</p>
</td><td><p>The process of converting NIS entries to or from LDAP DIT entries.</p>
</td></tr>
<tr><td><p>mapping file</p>
</td><td><p>The <tt>NISLDAPmapping</tt> file that establishes how to map entries between NIS and LDAP files.</p>
</td></tr>
<tr><td><p>standard maps</p>
</td><td><p>Commonly used  NIS maps that are supported by the N2L service without requiring manual modification to the mapping file. A list of supported standard maps is provided in <a href="p56.html#nis2ldap-5">Supported Standard Mappings</a>.</p>
</td></tr>
<tr><td><p>nonstandard maps</p>
</td><td><p>Standard NIS maps that are customized to use mappings between NIS and the LDAP DIT other than the mappings identified in RFC 2307 or its successor.</p>
</td></tr>
<tr><td><p>custom map</p>
</td><td><p>Any map that is not a standard map and therefore requires manual modifications to the mapping file when transitioning from NIS to LDAP.</p>
</td></tr>
<tr><td><p>LDAP client</p>
</td><td><p>Any traditional LDAP client that reads and writes to any LDAP server. A traditional LDAP client is a system that reads and writes to any LDAP server. A Solaris LDAP naming services client handles a customized subset of naming information.</p>
</td></tr>
<tr><td><p>LDAP naming services client</p>
</td><td><p>A Solaris LDAP client that handles a customized subset of naming information.</p>
</td></tr>
<tr><td><p>N2L server</p>
</td><td><p>An NIS master server that has been reconfigured as an N2L server by using the N2L service. Reconfiguration includes replacing NIS daemons and adding new configuration files.</p>
</td></tr>
</table><a name="nis2ldap-31"></a><h4>NIS-to-LDAP Commands, Files, and Maps</h4>
<a name="indexterm-544"></a><a name="indexterm-545"></a><p>There are two utilities, two configuration files, and a mapping that are associated with the N2L transition.</p>
<a name="nis2ldap-tbl-33"></a>Table 15-2 Descriptions of N2L Commands, Files, and Maps<table><tr><th><p>Command/File/Map</p>
</th><th><p>Description</p>
</th></tr>
<tr><td><p><tt>/usr/lib/netsvc/yp/inityp2l</tt></p>
</td><td><p><a name="indexterm-546"></a>A utility that assists with the creation of the <tt>NISLDAPmapping</tt> and <tt>ypserv</tt> configuration files. This utility is not a general-purpose tool for the management of these files. An advanced user can maintain the N2L configuration files or create custom mappings by using a text editor to examine and customize the <tt>inityp2l</tt> output. See the <tt>inityp2l</tt>(1M) man page.</p>
</td></tr>
<tr><td><p><tt>/usr/lib/netsvc/yp/ypmap2src</tt></p>
</td><td><p><a name="indexterm-547"></a>A utility that converts standard NIS maps to approximations of the equivalent NIS source files. The primary use for <tt>ypmap2src</tt> is to convert from an N2L transition server to  traditional NIS. See the <tt>ypmap2src</tt>(1M) man page.</p>
</td></tr>
<tr><td><p><tt>/var/yp/NISLDAPmapping</tt></p>
</td><td><p><a name="indexterm-548"></a>A configuration file that specifies the mapping between NIS map entries and equivalent Directory Information Tree (DIT) entries in LDAP. See the <tt>NISLDAPmapping</tt>(4) man page.</p>
</td></tr>
<tr><td><p><tt>/var/yp/ypserv</tt></p>
</td><td><p><a name="indexterm-549"></a>A file that specifies configuration information for the NIS&ndash;to&ndash;LDAP transition daemons. See the <tt>ypserv</tt>(4) man page.</p>
</td></tr>
<tr><td><p><tt>ageing.byname</tt></p>
</td><td><p>A mapping used by <tt>yppasswdd</tt> to read and write password aging information to the DIT when the NIS-to-LDAP transition is implemented.</p>
</td></tr>
</table><a name="nis2ldap-5"></a><h4>Supported Standard Mappings</h4>
<p><a name="indexterm-550"></a>By default, the N2L service supports mappings between the following list of maps and RFC 2307, or its successors', LDAP entries. These standard maps do not require manual modification to the mapping file. Any maps on your system that are not in the following list are considered custom maps and require manual modification.</p>
<p>The N2L service also supports automatic mapping of the <tt>auto.*</tt> maps. However, since most <tt>auto.*</tt> file names and contents are specific to each network configuration, those files are not specified in this list. The exceptions to this are the <tt>auto.home</tt> and <tt>auto.master</tt> maps, which are supported as standard maps.</p>
<pre>audit_user
auth_attr
auto.home
auto.master
bootparams
ethers.byaddr ethers.byname
exec_attr
group.bygid group.byname group.adjunct.byname
hosts.byaddr hosts.byname
ipnodes.byaddr ipnodes.byname
mail.byaddr mail.aliases
netgroup netgroup.byprojid netgroup.byuser netgroup.byhost
netid.byname
netmasks.byaddr
networks.byaddr networks.byname
passwd.byname passwd.byuid passwd.adjunct.byname
printers.conf.byname
prof_attr
project.byname project.byprojectid
protocols.byname protocols.bynumber
publickey.byname
rpc.bynumber
services.byname services.byservicename
timezone.byname
user_attr</pre><p>During the NIS-to-LDAP transition, the <tt>yppasswdd</tt> daemon uses the N2L-specific map, <tt>ageing.byname</tt>, to read and write password aging information to the DIT. If you are not using password aging, then the <tt>ageing.byname</tt> mapping is ignored.</p>
<a name="nis2ldap-6"></a><h3>Transitioning From NIS to LDAP (Task Map)</h3>
<p>The following table identifies the procedures needed to install and manage the N2L service with standard and with custom NIS&ndash;to&ndash;LDAP mappings.</p>
<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>Complete all prerequisites.</p>
</td><td><p>Be sure that you have properly configured your NIS server and Sun Java System Directory Server (LDAP server). </p>
</td><td><p><a href="p56.html#nis2ldap-15">Prerequisites for the NIS-to-LDAP Transition</a></p>
</td></tr>
<tr><td><p>Set up the N2L service.</p>
</td><td><p>Run <tt>inityp2l</tt> on the NIS master server to set up one of these mappings:</p>
</td><td><p>&nbsp;</p>
</td></tr>
<tr><td><p>&nbsp;</p>
</td><td><p>Standard mappings</p>
</td><td><p><a href="p57.html">How to Set Up the N2L Service With Standard Mappings</a></p>
</td></tr>
<tr><td><p>&nbsp;</p>
</td><td><p>Custom or nonstandard mappings</p>
</td><td><p><a href="p57.html#nis2ldap-proc-18">How to Set Up the N2L Service With Custom or Nonstandard Mappings</a></p>
</td></tr>
<tr><td><p>Customize a map.</p>
</td><td><p>View examples of how to create custom maps for the N2L transition.</p>
</td><td><p><a href="p58.html">Examples of Custom Maps</a></p>
</td></tr>
<tr><td><p>Configure Sun Java System Directory Server with N2L.</p>
</td><td><p>Configure and tune Sun Java System Directory Server as your LDAP server for the N2L transition.</p>
</td><td><p><a href="p58.html#nis2ldap-16">NIS-to-LDAP Best Practices With Sun Java System Directory Server</a></p>
</td></tr>
<tr><td><p>Troubleshoot the system.</p>
</td><td><p>Identify and resolve common N2L issues.</p>
</td><td><p><a href="p59.html#nis2ldap-58">NIS-to-LDAP Troubleshooting</a></p>
</td></tr>
<tr><td><p>Revert to NIS.</p>
</td><td><p>Revert to NIS using the appropriate map:</p>
</td><td><p>&nbsp;</p>
</td></tr>
<tr><td><p>&nbsp;</p>
</td><td><p>Maps based on old NIS source files</p>
</td><td><p><a href="p60.html#nis2ldap-proc-43">How to Revert to Maps Based on Old Source Files</a></p>
</td></tr>
<tr><td><p>&nbsp;</p>
</td><td><p>Maps based on the current DIT</p>
</td><td><p><a href="p60.html#nis2ldap-proc-49">How to Revert to Maps Based on Current DIT Contents</a></p>
</td></tr>
</table><a name="nis2ldap-15"></a><h3>Prerequisites for the NIS-to-LDAP Transition</h3>
<p><a name="indexterm-551"></a><a name="indexterm-552"></a><a name="indexterm-553"></a><a name="indexterm-554"></a><a name="indexterm-555"></a>Before implementing the N2L service, you must check or complete the following items.</p>
<ul><li><p>Make sure that the system is set up as a working traditional NIS server before running the <tt>inityp2l</tt> script to enable N2L mode.</p>
</li>
<li><p>Configure the LDAP directory server on your system.</p>
<p>Sun Java System Directory Server (formerly Sun ONE Directory Server) and compatible versions of directory servers offered by Sun Microsystems, Inc., are supported with the NIS-to-LDAP migration tools. If you use Sun Java System Directory Server, configure the server by using the <tt>idsconfig</tt> command <b>before</b> you set up the N2L service. For more information about <tt>idsconfig</tt>, see <a href="p41.html">Chapter&nbsp;11, Setting Up Sun Java System Directory Server With LDAP Clients (Tasks)</a> and the <tt>idsconfig</tt>(1M) man page.</p>
<p>Other (third party) LDAP servers might work with the N2L service, but they are not supported by Sun. If you are using an LDAP server other than the Sun Java System Directory Server or compatible Sun servers, you must manually configure the server to support RFC 2307, or its successors', schemas <b>before</b> you set up the N2L service.</p>
</li>
<li><p>Make sure that the <tt>nsswitch.conf</tt> file lists <tt>files</tt> before <tt>nis</tt> for the lookup order, at least for the <tt>hosts</tt> and <tt>ipnodes</tt> entries.</p>
</li>
<li><p>Ensure that the addresses of the N2L master server and the LDAP server are present in the <tt>hosts</tt> or <tt>ipnodes</tt> files on the N2L master server. Whether the server addresses must be listed in <tt>hosts</tt>, <tt>ipnodes</tt>, or both files depends on how your system is configured to resolve local host names.</p>
<p>An alternative solution is to list the LDAP server address, not its host name, in <tt>ypserv</tt>. This means that the LDAP server address is listed in another place, so changing the address of either the LDAP server or the N2L master server requires additional file modifications.</p>
</li>
</ul>
<a name="nis2ldap-2"></a><h3>Setting Up the NIS-to-LDAP Service</h3>
<a name="indexterm-556"></a><p>You can set up the N2L service either by using standard mappings or by using custom mappings, as described in the next two procedures.</p>
<p>As part of the NIS-to -LDAP conversion, you need to run the <tt>inityp2l</tt> command. This command runs an interactive script for which you must provide configuration information. The following list shows the type of information you need to provide. See the <tt>ypserv</tt>(1M) man page for explanations of these attributes.</p>
<ul><li><p>The name of the configuration file being created (default = <tt>/etc/default/ypserv</tt>)</p>
</li>
<li><p>The DN that stores configuration information in LDAP (default = <tt>ypserv</tt>)</p>
</li>
<li><p>Preferred server list for mapping data to/from LDAP</p>
</li>
<li><p>Authentication method for mapping data to/from LDAP</p>
</li>
<li><p>Transport Layer Security (TLS) method for mapping data to/from LDAP</p>
</li>
<li><p>Proxy user bind DN to read/write data from/to LDAP</p>
</li>
<li><p>Proxy user password to read/write data from/to LDAP</p>
</li>
<li><p>Timeout value (in seconds) for LDAP bind operation</p>
</li>
<li><p>Timeout value (in seconds) for LDAP search operation</p>
</li>
<li><p>Timeout value (in seconds) for LDAP modify operation</p>
</li>
<li><p>Timeout value (in seconds) for LDAP add operation</p>
</li>
<li><p>Timeout value (in seconds) for LDAP delete operation</p>
</li>
<li><p>Time limit (in seconds) for search operation on LDAP server</p>
</li>
<li><p>Size limit (in bytes) for search operation on LDAP server</p>
</li>
<li><p>Whether N2L should follow LDAP referrals</p>
</li>
<li><p>LDAP retrieval error action, number of retrieval attempts, and timeout (in seconds) between each attempt</p>
</li>
<li><p>Store error action, number of attempts, and timeout (in seconds) between each attempt</p>
</li>
<li><p>Mapping file name</p>
</li>
<li><p>Whether to generate mapping information for <tt>auto_direct</tt> map</p>
<p>The script places relevant information regarding custom maps at appropriate places in the mapping file.</p>
</li>
<li><p>The naming context</p>
</li>
<li><p>Whether to enable password changes</p>
</li>
<li><p>Whether to change the default TTL values for any map</p>
</li>
</ul>
<hr>
<p><b>Note - </b><tt>sasl/cram-md5</tt> authentication is <b>not</b> supported by most LDAP servers, including Sun Java System Directory Server.</p>
<hr>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p55.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p57.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

