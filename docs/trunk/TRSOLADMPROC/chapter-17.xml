<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML//EN" "docbook.dtd"[
	<!ENTITY % xinclude SYSTEM "xinclude.mod">
	%xinclude;
]>

<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="managedev-1">



<title>Managing Devices
for Trusted Extensions</title>
<indexterm xml:id="indexterm-838">
<primary>administering</primary>
<secondary>devices</secondary>
</indexterm>
<indexterm xml:id="indexterm-839">
<primary>devices</primary>
<secondary>administering</secondary>
</indexterm>
<toc>
<para>This chapter describes how to administer and use devices on a system
that is configured with Trusted Extensions.</para>
<itemizedlist remap="jumplist">
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-2">Handling Devices in Trusted
Extensions (Task Map)</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-33">Managing Devices in Trusted
Extensions (Tasks)</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-16">Customizing Device Authorizations
in Trusted Extensions (Tasks)</olink>
</para>
</listitem>
<listitem>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-18">Using Devices in Trusted Extensions
(Tasks)</olink>
</para>
</listitem>
</itemizedlist>
</toc>
<sect1 xml:id="managedev-2">
<title>Handling Devices in Trusted Extensions (Task Map)</title>
<indexterm xml:id="indexterm-840">
<primary>tasks and task maps</primary>
<secondary>Handling Devices in Trusted Extensions (Task Map)</secondary>
</indexterm>
<indexterm xml:id="indexterm-841">
<primary>Handling Devices in Trusted Extensions (Task Map)</primary>
</indexterm>
<para>The following task map points to the administrative and user tasks when
handling peripheral devices.</para>
<informaltable frame="all" pgwide="1">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colname="colspec0" colwidth="92.52*"/>
<colspec colname="col2" colwidth="152.64*"/>
<colspec colname="colspec1" colwidth="150.85*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Administer devices</para>
</entry>
<entry>
<para>Configure devices for ordinary users.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-33">Managing Devices in Trusted Extensions
(Tasks)</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Customize device authorizations</para>
</entry>
<entry>
<para>The Security Administrator role creates new authorizations, adds them
to the device, places them in a profile and assigns this profile to the user.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-16">Customizing Device Authorizations in
Trusted Extensions (Tasks)</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Use devices</para>
</entry>
<entry>
<para>Use a device as a role or as an ordinary user.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-18">Using Devices in Trusted Extensions
(Tasks)</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1>
<sect1 xml:id="managedev-33">
<title>Managing Devices in Trusted Extensions (Tasks)</title>
<indexterm xml:id="indexterm-842">
<primary>tasks and task maps</primary>
<secondary>Managing Devices in Trusted Extensions (Tasks)</secondary>
</indexterm>
<indexterm xml:id="indexterm-843">
<primary>Managing Devices in Trusted Extensions (Tasks)</primary>
</indexterm>
<indexterm xml:id="indexterm-844">
<primary>administering</primary>
<secondary>devices</secondary>
</indexterm>
<para>Use the following task map to protect devices at your site.</para>
<informaltable frame="all" pgwide="1">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colname="colspec0" colwidth="109.90*"/>
<colspec colname="col2" colwidth="153.98*"/>
<colspec colname="colspec1" colwidth="132.12*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Set or modify device policy</para>
</entry>
<entry>
<para>Change the privileges that are required to access a device.</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-3321" targetptr="devtask-10">
<citetitle remap="section">Configuring Device Policy (Task Map)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry morerows="1" rowsep="1">
<para>Authorize users to allocate a device</para>
</entry>
<entry>
<para>The Security Administrator role assigns a profile with the Allocate
Device authorization to the user.</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-3321" targetptr="devtask-36">
<citetitle remap="section">How to Authorize Users to Allocate a Device</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>The Security Administrator role assigns a profile with the site-specific
authorizations to the user.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-16">Customizing Device Authorizations in
Trusted Extensions (Tasks)</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Configure a device</para>
</entry>
<entry>
<para>Choose security features to protect the device.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-53">How to Configure a Device</olink>
</para>
</entry>
</row>
<row>
<entry morerows="1" rowsep="1">
<para>Revoke or reclaim a device</para>
</entry>
<entry>
<para>Use the Device Allocation Manager to make a device available for use.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-31">How to Revoke or Reclaim a Device</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Use Solaris commands to make a device available for use.</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-3321" targetptr="devtask-13">
<citetitle remap="section">Forcibly Allocating a Device</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
<para>
<olink remap="external" targetdoc="819-3321" targetptr="devtask-31">
<citetitle remap="section">Forcibly Deallocating a Device</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry morerows="1" rowsep="1">
<para>Prevent access to an allocatable device</para>
</entry>
<entry>
<para>Provide fine–grained access control to a device.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-41">Example 17–4</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Deny everyone access to an allocatable device.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-19">Example 17–1</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Protect printers and framebuffers</para>
</entry>
<entry>
<para>Ensure that nonallocatable devices are not allocatable.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-26">How to Protect Nonallocatable Devices</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Configure serial login device</para>
</entry>
<entry>
<para>Enable logins by serial port.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-54">How to Configure a Serial Line for Logins</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Enable a CD player program to be used</para>
</entry>
<entry>
<para>Enable an audioplayer program to launch automatically when a music CD
is inserted.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-29">How to Configure an Audio Player Program
for Use</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Prevent the File Manager from displaying</para>
</entry>
<entry>
<para>Prevent the File Manager from popping up after a device has been allocated.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-21">How to Prevent File Manager Display
After Device Allocation</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Use a new device-clean script</para>
</entry>
<entry>
<para>Place a new script in the appropriate places.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-57">How to Add a Device Clean Script</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<sect2>
<title/>
<task id="managedev-53">

<title>How to Configure a Device</title>
<indexterm xml:id="indexterm-845">
<primary>configuring</primary>
<secondary>devices</secondary>
</indexterm>
<indexterm xml:id="indexterm-846">
<primary>devices</primary>
<secondary>configuring devices</secondary>
</indexterm>
<indexterm xml:id="indexterm-847">
<primary>devices</primary>
<secondary>administering with Device Allocation Manager</secondary>
</indexterm>
<indexterm xml:id="indexterm-848">
<primary>Device Allocation Manager</primary>
<secondary>use by administrators</secondary>
</indexterm>
<indexterm xml:id="indexterm-849">
<primary>Security Administrator role</primary>
<secondary>configuring a device</secondary>
</indexterm>
<tasksummary>
<para>By default, an allocatable device has a label range from <constant>ADMIN_LOW</constant> to <constant>ADMIN_HIGH</constant>, and must be allocated for
use. Also, users must be authorized to allocate the device. These defaults
can be changed.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Open the Device Allocation Manager.</para>
<para>Click the Device
Allocation icon on the Tools subpanel.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/devmgr.gif"/>
</imageobject>
<textobject>
<simpara>Dialog box titled Device Allocation Administration shows
the default security settings for an audio device for an ordinary user.</simpara>
</textobject>
</mediaobject>
</step>
<step>
<para>View the default security settings.</para>
<para>Click Device Administration,
then highlight the device. The following figure shows a CD-ROM device with
default security settings.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/devconfig.gif"/>
</imageobject>
<textobject>
<simpara>Dialog box titled Device Allocation Configuration shows
the default security settings for a CD-ROM device.</simpara>
</textobject>
</mediaobject>
</step>
<step performance="optional">

<para>Restrict the label range on the device.</para>
<para>The label range for all devices is <constant>ADMIN_LOW</constant> to <constant>ADMIN_HIGH</constant>.</para>
<substeps>
<step>
<para>Set the minimum label.</para>
<para>Click the Min Label... button.
Choose the minimum label from the label builder.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/devlabel.gif"/>
</imageobject>
<textobject>
<simpara>Label builder titled Device Allocation Set Minimum Label
shows the labels that can be chosen as the minimum label for a device.</simpara>
</textobject>
</mediaobject>
</step>
<step>
<para>Set the maximum label.</para>
<para>Click the Max Label... button.
Choose the minimum label from the label builder.</para>
</step>
</substeps>
</step>
<step>
<para>Specify if the device can be allocated locally.</para>
<para>In
the Allocations From Trusted Path, choose an option from the Allocatable By
list. By default, the Authorized Users option is checked. Therefore, the device
is allocatable and users must be authorized.</para>
<stepalternatives>
<step>
<para>To make the device nonallocatable, click No Users.</para>
<para>When
configuring a printer, frame buffer, or other device that should not be allocatable,
make sure to select No Users.</para>
</step>
<step>
<para>To make the device allocatable, but not require authorization,
click All Users.</para>
</step>
</stepalternatives>
</step>
<step>
<para>Specify if the device can be allocated remotely.</para>
<para>In
the Allocations From Non-Trusted Path, choose an option from the Allocatable
By list. By default, the Same As Trusted Path option is checked.</para>
<stepalternatives>
<step>
<para>To require user authorization, choose Allocatable by Authorized
Users.</para>
</step>
<step>
<para>To make the device nonallocatable by remote users, click No Users.</para>
</step>
<step>
<para>To make the device allocatable by anyone, click All Users.</para>
</step>
</stepalternatives>
</step>
<step>
<para>If the device is allocatable, <emphasis>and</emphasis> your site
has created new device authorizations, select the appropriate authorization.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/devauth.gif"/>
</imageobject>
<textobject>
<simpara>Dialog box titled Device Allocation Authorizations shows
the authorizations of a device.</simpara>
</textobject>
</mediaobject>
<para>To create and use site-specific device authorizations, see <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-16">Customizing Device Authorizations in Trusted Extensions
(Tasks)</olink>.</para>
</step>
<step>
<para>Save your changes.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-31">

<title>How to Revoke or Reclaim a Device</title>
<indexterm xml:id="indexterm-850">
<primary>deallocating</primary>
<secondary>forcing</secondary>
</indexterm>
<indexterm xml:id="indexterm-851">
<primary>devices</primary>
<secondary>reclaiming</secondary>
</indexterm>
<indexterm xml:id="indexterm-852">
<primary>System Administrator role</primary>
<secondary>reclaiming a device</secondary>
</indexterm>
<indexterm xml:id="indexterm-853">
<primary>troubleshooting</primary>
<secondary>reclaiming a device</secondary>
</indexterm>
<indexterm xml:id="indexterm-854">
<primary>devices</primary>
<secondary>troubleshooting</secondary>
</indexterm>
<indexterm xml:id="indexterm-855">
<primary>allocate error state</primary>
<secondary>correcting</secondary>
</indexterm>
<tasksummary>
<para>If a device is not listed, it might be already allocated or it might
be in an allocate error state. The system administrator can recover the device
for use.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the System Administrator role in the global zone. This
role has the <constant>solaris.device.revoke</constant> authorization.</para>
</taskprerequisites>
<procedure>
<step>
<para>Open the Device Allocation Manager.</para>
<para>Click the Device
Allocation icon on the Tools subpanel.</para>
</step>
<step>
<para>Click the Device Administration button.</para>
</step>
<step>
<para>Check the status of a device.</para>
<para>Highlight the device
name and look at the State: field. In the following figure, the <literal>audio</literal> device
is already allocated to a user.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/devaudioint.gif"/>
</imageobject>
<textobject>
<simpara>Dialog box titled Device Allocation Administration shows
the devices that can be administered, and the allocation status of the audio
device.</simpara>
</textobject>
</mediaobject>
<stepalternatives>
<step>
<para>If the State field is Allocate Error State, click the Reclaim
button.</para>
</step>
<step>
<para>If the State Field is Allocated, do one of the following:</para>
<itemizedlist>
<listitem>
<para>Ask the user in the Owner field to deallocate the device.</para>
</listitem>
<listitem>
<para>Force deallocation of the device by clicking the Revoke button
.</para>
</listitem>
</itemizedlist>
</step>
</stepalternatives>
</step>
<step>
<para>Close the Device Allocation Manager.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-26">

<title>How to Protect Nonallocatable Devices</title>
<indexterm xml:id="indexterm-856">
<primary>devices</primary>
<secondary>protecting nonallocatable</secondary>
</indexterm>
<indexterm xml:id="indexterm-857">
<primary>nonallocatable devices</primary>
<secondary>protecting</secondary>
</indexterm>
<indexterm xml:id="indexterm-858">
<primary>Security Administrator role</primary>
<secondary>protecting nonallocatable devices</secondary>
</indexterm>
<indexterm xml:id="indexterm-859">
<primary>protecting</primary>
<secondary>nonallocatable devices</secondary>
</indexterm>
<tasksummary>
<para>The No Users option is used most often for the framebuffer and printer,
which do not have to be allocated to be used.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Open the Device Allocation Manager.</para>
<para>Click the Device
Allocation icon on the Tools subpanel.</para>
</step>
<step>
<para>Click the Device Administration button.</para>
</step>
<step>
<para>Select the new printer or framebuffer.</para>
<substeps>
<step>
<para>For Allocatable By, click No Users.</para>
</step>
<step performance="optional">

<para>Restrict the label range by setting the
minimum and maximum label.</para>
</step>
</substeps>
</step>
</procedure>
<example xml:id="managedev-19">

<title>Preventing Remote Allocation of the Audio Device</title>
<para>
<indexterm xml:id="indexterm-860">
<primary>protecting</primary>
<secondary>devices from remote allocation</secondary>
</indexterm>
<indexterm xml:id="indexterm-861">
<primary>audio devices</primary>
<secondary>preventing remote allocation</secondary>
</indexterm>
<indexterm xml:id="indexterm-862">
<primary>devices</primary>
<secondary>preventing remote allocation of audio</secondary>
</indexterm>The No Users option is used most often for the framebuffer and
printer, which do not have to be allocated to be used. But as shown in the
following example, No Users prevents remote users from hearing conversations
around a remote machine.</para>
<para>The Security Administrator role configures the audio device in the Device
Allocation Manager as follows:</para>
<screen>Device Name: audio
For Allocations From: Trusted Path
Allocatable By: Authorized Users
Authorizations: solaris.device.allocate</screen>
<screen>Device Name: audio
For Allocations From: Non-Trusted Pathh
Allocatable By: No Users</screen>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-54">

<title>How to Configure a Serial Line for Logins</title>
<indexterm xml:id="indexterm-863">
<primary>devices</primary>
<secondary>configuring serial line</secondary>
</indexterm>
<indexterm xml:id="indexterm-864">
<primary>serial line</primary>
<secondary>configuring for logins</secondary>
</indexterm>
<indexterm xml:id="indexterm-865">
<primary>login</primary>
<secondary>configuring serial line</secondary>
</indexterm>
<indexterm xml:id="indexterm-866">
<primary>Security Administrator role</primary>
<secondary>configuring serial line for login</secondary>
</indexterm>
<indexterm xml:id="indexterm-867">
<primary>administering</primary>
<secondary>serial line for login</secondary>
</indexterm>
<indexterm xml:id="indexterm-868">
<primary>configuring</primary>
<secondary>serial line for login</secondary>
</indexterm>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Launch the Solaris Management Console with the Files scope.</para>
<figure xml:id="managedev-fig-2">

<title>Solaris Management Console Tools</title>
<mediaobject>
<imageobject>
<imagedata fileref="figures/smc.serial.port.panel.gif"/>
</imageobject>
<textobject>
<simpara>Window shows the Navigation pane of the Trusted Extensions
toolbox in Files scope. The Devices and Hardware node is visible.</simpara>
</textobject>
</mediaobject>
</figure>
</step>
<step>
<para>Navigate to Serial Ports.</para>
<para>Click Devices and Hardware,
then Serial Ports. Provide a password when prompted. Follow the online help
to configure the serial port.</para>
</step>
<step>
<para>Click the Device Allocation icon on the Tools subpanel
on the Front Panel.</para>
<para>The default label range is <constant>ADMIN_LOW</constant> to <constant>ADMIN_HIGH</constant>.</para>
</step>
<step>
<para>Save your changes.</para>
</step>
</procedure>
<example xml:id="managedev-37">

<title>Restricting the Label Range of a Serial Port</title>
<para>After creating a serial login device, the Security Administrator role
restricts the label range of the serial port to a single label, <literal>Public</literal>.
The administrator sets the following values in the Device Administration dialog
boxes.</para>
<screen>Device Name: /dev/term/[a|b]
Device Type: tty
Clean Program: /bin/true
Device Map: /dev/term/[a|b]
Minimum Label: Public
Maximum Label: Public
Allocatable By: No Users</screen>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-29">

<title>How to Configure an Audio Player Program for
Use</title>
<indexterm xml:id="indexterm-869">
<primary>devices</primary>
<secondary>setting up audio</secondary>
</indexterm>
<indexterm xml:id="indexterm-870">
<primary>devices</primary>
<secondary>automatically launching an audio player</secondary>
</indexterm>
<indexterm xml:id="indexterm-871">
<primary>audio devices</primary>
<secondary>automatically launching an audio player</secondary>
</indexterm>
<indexterm xml:id="indexterm-872">
<primary>CD-ROM devices</primary>
<secondary>playing music automatically</secondary>
</indexterm>
<indexterm xml:id="indexterm-873">
<primary>System Administrator role</primary>
<secondary>enabling music to play automatically</secondary>
</indexterm>
<indexterm xml:id="indexterm-874">
<primary>
<filename>/etc/rmmount.conf</filename> file</primary>
</indexterm>
<indexterm xml:id="indexterm-875">
<primary>
<filename>rmmount.conf</filename> file</primary>
</indexterm>
<indexterm xml:id="indexterm-876">
<primary>administering</primary>
<secondary>audio device to play music</secondary>
</indexterm>
<indexterm xml:id="indexterm-877">
<primary>configuring</primary>
<secondary>audio device to play music</secondary>
</indexterm>
<tasksummary>
<para>The following procedure enables an audio player to launch automatically
when a user inserts a music CD. For the user's procedure, see <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-12">How to Listen to a Music CD</olink>.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the System Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Edit the <filename>/etc/rmmount.conf</filename> file.</para>
<para>Use
the Admin Editor action. For details, see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-10">How
to Edit Administrative Files in Trusted Extensions</olink>.</para>
</step>
<step>
<para>Add your site's CD player program to the <literal>cdrom</literal> action
in the file.</para>
<screen>action <replaceable>medium</replaceable> action_<replaceable>program</replaceable>.so <replaceable>path-to-program</replaceable>
</screen>
</step>
</procedure>
<example xml:id="managedev-17">

<title>Configuring an Audio Player Program for Use</title>
<para>In the following example, the system administrator makes the <literal>workman</literal> program available to all users of this system. The <command>workman</command> program
is an audio player program.</para>
<screen># /etc/rmmount.conf file
<userinput>action cdrom action_workman.so /usr/local/bin/workman</userinput>
</screen>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-21">

<title>How to Prevent File Manager Display
After Device Allocation</title>
<indexterm xml:id="indexterm-878">
<primary>File Manager</primary>
<secondary>preventing display after device allocation</secondary>
</indexterm>
<indexterm xml:id="indexterm-879">
<primary>device allocation</primary>
<secondary>preventing File Manager display</secondary>
</indexterm>
<indexterm xml:id="indexterm-880">
<primary>System Administrator role</primary>
<secondary>preventing File Manager display</secondary>
</indexterm>
<indexterm xml:id="indexterm-881">
<primary>
<filename>/etc/rmmount.conf</filename> file</primary>
</indexterm>
<indexterm xml:id="indexterm-882">
<primary>
<filename>rmmount.conf</filename> file</primary>
</indexterm>
<taskprerequisites>

<para>You must be in the System Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Edit the <filename>/etc/rmmount.conf</filename> file.</para>
<para>Use
the Admin Editor action. For details, see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-10">How
to Edit Administrative Files in Trusted Extensions</olink>.</para>
</step>
<step>
<para>Find the <literal>filemgr</literal> actions.</para>
<screen>action cdrom action_filemgr.so
action floppy action_filemgr.so</screen>
</step>
<step>
<para>Comment out the appropriate action.</para>
<para>The following
example shows the <filename>action_filemgr.so</filename> commented out for
both the <literal>cdrom</literal> and <literal>diskette</literal> devices.</para>
<screen>
<userinput>#</userinput> action cdrom action_filemgr.so
<userinput>#</userinput> action floppy action_filemgr.so</screen>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-57">

<title>How to Add a Device Clean Script</title>
<indexterm xml:id="indexterm-883">
<primary>System Administrator role</primary>
<secondary>adding <command>device_clean</command> script</secondary>
</indexterm>
<indexterm xml:id="indexterm-884">
<primary>devices</primary>
<secondary>adding <command>device_clean</command> script</secondary>
</indexterm>
<indexterm xml:id="indexterm-885">
<primary>
<command>device-clean</command> scripts</primary>
<secondary>adding to devices</secondary>
</indexterm>
<tasksummary>
<para>If no <filename>device_clean</filename> script is specified at the time
the device is created, the default is <filename>/bin/true</filename>.</para>
</tasksummary>
<taskprerequisites>

<para>Have ready a script that purges all usable data from the physical device
and that returns <literal>0</literal> for success. For devices with removable
media, the script attempts to eject the media if the user does not do so.
The script puts the device into the allocate error state if the medium is
not ejected. For details of the requirements, see <olink remap="external" targetdoc="819-2252" targetptr="device-clean-5">
<citerefentry>
<refentrytitle>device_clean</refentrytitle>
<manvolnum>
5
</manvolnum>
</citerefentry>
</olink>.</para>
<para>You must be in the System Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Copy the script into <filename>/etc/security/lib</filename>.</para>
</step>
<step>
<para>In the Device Administration GUI, type the full path to the script.</para>
<substeps>
<step>
<para>Open the Device Allocation Manager.</para>
</step>
<step>
<para>Click the Device Administration button.</para>
</step>
<step>
<para>Highlight the name of the affected device and click the Configure…
button.</para>
</step>
<step>
<para>Type the full path to the script in the Clean Program field.</para>
</step>
<step>
<para>Close the Device Allocation Manager.</para>
</step>
</substeps>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="managedev-16">
<title>Customizing Device Authorizations in Trusted Extensions (Tasks)</title>
<indexterm xml:id="indexterm-886">
<primary>tasks and task maps</primary>
<secondary>Customizing Device Authorizations in Trusted Extensions (Tasks)</secondary>
</indexterm>
<indexterm xml:id="indexterm-887">
<primary>Customizing Device Authorizations in Trusted Extensions (Tasks)</primary>
</indexterm>
<para>Use the following task map to change device authorizations at your site.</para>
<informaltable frame="all" pgwide="1">
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colname="colspec0" colwidth="109.90*"/>
<colspec colname="col2" colwidth="153.98*"/>
<colspec colname="colspec1" colwidth="132.12*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>Description</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Create new device authorizations</para>
</entry>
<entry>
<para>Create site-specific authorizations.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-10">How to Create New Device Authorizations</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Add authorizations to a device</para>
</entry>
<entry>
<para>Add site-specific authorizations to selected devices.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-42">How to Add Site-Specific Authorizations
to a Device</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Assign device authorizations to users and roles</para>
</entry>
<entry>
<para>Enable users and roles to use the new authorizations.</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-38">How to Assign Device Authorizations</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<sect2>
<title/>
<task id="managedev-10">

<title>How to Create New Device Authorizations</title>
<indexterm xml:id="indexterm-888">
<primary>devices</primary>
<secondary>creating new authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-889">
<primary>authorizations</primary>
<secondary>adding new device authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-890">
<primary>administering</primary>
<secondary>device authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-891">
<primary>configuring</primary>
<secondary>authorizations for devices</secondary>
</indexterm>
<indexterm xml:id="indexterm-892">
<primary>creating</primary>
<secondary>authorizations for devices</secondary>
</indexterm>
<tasksummary>
<para>If no authorization is specified at the time a device is created, by
default all users can use the device. If an authorization is specified, then
by default only authorized users can use the device.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Open the <filename>auth_attr</filename> file for editing.</para>
<para>Use the Admin Editor action. For details, see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-10">How
to Edit Administrative Files in Trusted Extensions</olink>.</para>
</step>
<step>
<para>Create a heading for the new authorizations.</para>
<para>Use the
reverse-order Internet domain name of your organization followed by optional
additional arbitrary components. Separate components by dots. End heading
names with a dot.</para>
<screen>
<replaceable>domain-suffix</replaceable>.<replaceable>domain-prefix</replaceable>.:::<replaceable>Company</replaceable> Header::help=<replaceable>Company</replaceable>.html</screen>
</step>
<step>
<para>Add new authorization entries.</para>
<para>Enter the authorizations,
one authorization per line. The lines are split for display purposes.</para>
<screen>
<replaceable>domain-suffix</replaceable>.<replaceable>domain-prefix</replaceable>.grant:::Grant All <replaceable>Company</replaceable> Authorizations::
help=<replaceable>Company</replaceable>Grant.html
<replaceable>domain-suffix</replaceable>.<replaceable>domain-prefix</replaceable>.grant.device:::Grant <replaceable>Company</replaceable> Device Authorizations::
help=<replaceable>Company</replaceable>GrantDevice.html
<replaceable>domain-suffix</replaceable>.<replaceable>domain-prefix</replaceable>.device.allocate.tape:::Allocate Tape Device::
help=<replaceable>Company</replaceable>TapeAllocate.html
<replaceable>domain-suffix</replaceable>.<replaceable>domain-prefix</replaceable>.device.allocate.floppy:::Allocate Floppy Device::
help=<replaceable>Company</replaceable>FloppyAllocate.html</screen>
</step>
<step>
<para>Save and close the file.</para>
<screen>
<userinput>:wq</userinput>
</screen>
</step>
<step>
<para>If you are using LDAP as your naming service, update the <literal>auth_attr</literal> entries on the Sun Java System Directory Server (LDAP server).</para>
<para>For information,
see the <olink remap="external" targetdoc="819-2240" targetptr="ldapaddent-1m">
<citerefentry>
<refentrytitle>ldapaddent</refentrytitle>
<manvolnum>
1M
</manvolnum>
</citerefentry>
</olink>.</para>
</step>
<step>
<para>Add the new authorizations to the appropriate profiles. Then assign
the profiles to users and roles.</para>
<para>Use the Solaris Management Console. Assume the Security
Administrator role, then follow the Solaris procedure <olink remap="external" targetdoc="819-3321" targetptr="rbactask-24">
<citetitle remap="section">How to Create or Change a Rights Profile</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle>
</olink>
</para>
</step>
<step>
<para>Use the authorization to restrict access to tapes and diskette
drives.</para>
<para>Add the new authorizations to the list of required authorizations
in the Device Allocation Manager. For the procedure, see <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-42">How to Add Site-Specific Authorizations to a Device</olink>.</para>
</step>
</procedure>
<example xml:id="managedev-41">

<title>Creating More Fine-Grained Device Authorizations</title>
<indexterm xml:id="indexterm-893">
<primary>authorizations</primary>
<secondary>creating customized device authorizations</secondary>
</indexterm>
<para>A security administrator for NewCo constructed more fine-grained device
authorizations for the company.</para>
<para>First, the administrator included a header for all of the authorizations
for <literal>newco.com</literal> in the <filename>auth_attr</filename> file.</para>
<screen># auth_attr file
com.newco.:::NewCo Header::help=Newco.html</screen>
<para>Next, the administrator added authorization entries to the file:</para>
<screen>com.newco.grant:::Grant All NewCo Authorizations::
help=NewcoGrant.html
com.newco.grant.device:::Grant NewCo Device Authorizations::
help=NewcoGrantDevice.html
com.newco.device.allocate.tape:::Allocate Tape Device::
help=NewcoTapeAllocate.html
com.newco.device.allocate.floppy:::Allocate Floppy Device::
help=NewcoFloppyAllocate.html</screen>
<para>The lines are split for display purposes.</para>
<itemizedlist>
<para>The entries created the following authorizations:</para>
<listitem>
<para>An authorization to grant all NewCo's authorizations</para>
</listitem>
<listitem>
<para>An authorization to grant NewCo's device authorizations</para>
</listitem>
<listitem>
<para>An authorization to allocate a tape device</para>
</listitem>
<listitem>
<para>An authorization to allocate a diskette device</para>
</listitem>
</itemizedlist>
</example>
<example xml:id="managedev-43">

<title>Creating Trusted Path and Non-Trusted Path Authorizations</title>
<indexterm xml:id="indexterm-894">
<primary>authorizations</primary>
<secondary>creating local and remote device authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-895">
<primary>rights profiles</primary>
<secondary>with new device authorizations</secondary>
</indexterm>
<para>By default, the Allocate Devices authorizations enables allocation from
the trusted path and from outside the trusted path.</para>
<para>In the following example, site security policy required restricting
remote CD-ROM allocation. The security administrator created the <literal>com.someco.device.cdrom.local</literal> authorization. This authorization is for CD-ROM devices that are
allocated with the trusted path. The <literal>com.someco.device.cdrom.remote</literal> authorization
is for those few users who are allowed to allocate a CD-ROM outside the trusted
path.</para>
<itemizedlist>
<para>The security administrator added the authorizations to the <filename>auth_attr</filename> database, added the authorizations to the devices, and then placed
the authorizations in profiles. The profiles were assigned to users who were
allowed to allocate devices.</para>
<listitem>
<para>
<filename>auth_attr</filename> database entries:</para>
<screen>com.someco.:::SomeCo Header::help=Someco.html
com.someco.grant:::Grant All SomeCo Authorizations::
help=SomecoGrant.html
com.someco.grant.device:::Grant SomeCo Device Authorizations::
help=SomecoGrantDevice.html
com.someco.device.cdrom.local:::Allocate Local CD-ROM Device::
help=SomecoCDAllocateLocal.html
com.someco.device.cdrom.remote:::Allocate Remote CD-ROM Device::
help=SomecoCDAllocateRemote.html</screen>
</listitem>
<listitem>
<para>Device Allocation Manager assignment:</para>
<para>Trusted
Path enables authorized users to use the Device Allocation Manager when allocating
the local CD-ROM.</para>
<screen>Device Name: cdrom_0
For Allocations From: <userinput>Trusted Path</userinput>
Allocatable By: Authorized Users
Authorizations: com.someco.device.cdrom.local</screen>
<para>Non-Trusted Path enables users to allocate a device remotely by using
the <command>allocate</command> command.</para>
<screen>Device Name: cdrom_0
For Allocations From: <userinput>Non-Trusted Path</userinput>
Allocatable By: Authorized Users
Authorizations: com.someco.device.cdrom.remote</screen>
</listitem>
<listitem>
<para>Rights profile entries:</para>
<screen># Local Allocator profile
com.someco.device.cdrom.local

# Remote Allocator profile
com.someco.device.cdrom.remote</screen>
</listitem>
<listitem>
<para>Authorized users:</para>
<screen># List of profiles for ordinary authorized user
Local Allocator Profile
...

# List of profiles for role or authorized user
Remote Allocator Profile
...</screen>
</listitem>
</itemizedlist>
<para>To prevent all access to an allocatable device without using authorizations,
see <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-19">Example 17–1</olink>.</para>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-42">

<title>How to Add Site-Specific Authorizations
to a Device</title>
<indexterm xml:id="indexterm-896">
<primary>devices</primary>
<secondary>adding customized authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-897">
<primary>customizing</primary>
<secondary>device authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-898">
<primary>authorizations</primary>
<secondary>customizing for devices</secondary>
</indexterm>
<taskprerequisites>

<para>You must be in the Security Administrator role, or in a role that includes
the Configure Device Attributes authorization. You must have already created
site-specific authorizations, as described in <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-10">How
to Create New Device Authorizations</olink>.</para>
</taskprerequisites>
<procedure>
<step>
<para>Follow the <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-53">How to Configure a
Device</olink> procedure.</para>
</step>
<step>
<para>Click the Authorizations… button to add the appropriate
site-specific authorizations.</para>
</step>
<step>
<para>Save your changes.</para>
<para>For a complete example, see <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-43">Example 17–5</olink>.</para>
</step>
</procedure>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-38">

<title>How to Assign Device Authorizations</title>
<indexterm xml:id="indexterm-899">
<primary>authorizing</primary>
<secondary>device allocation</secondary>
</indexterm>
<indexterm xml:id="indexterm-900">
<primary>device allocation</primary>
<secondary>authorizing</secondary>
</indexterm>
<indexterm xml:id="indexterm-901">
<primary>authorizations</primary>
<secondary>assigning device authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-902">
<primary>Allocate Device authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-903">
<primary>authorizations</primary>
<secondary>Allocate Device</secondary>
</indexterm>
<indexterm xml:id="indexterm-904">
<primary>Revoke or Reclaim Device authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-905">
<primary>authorizations</primary>
<secondary>Revoke or Reclaim Device</secondary>
</indexterm>
<indexterm xml:id="indexterm-906">
<primary>administering</primary>
<secondary>device allocation</secondary>
</indexterm>
<indexterm xml:id="indexterm-907">
<primary>administering</primary>
<secondary>assigning device authorizations</secondary>
</indexterm>
<tasksummary>
<para>The Allocate Device authorization enables users to allocate a device.
The Allocate Device authorization, and the Revoke or Reclaim Device authorization
are appropriate for administrative roles.</para>
</tasksummary>
<taskprerequisites>

<para>You must be in the Security Administrator role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Launch the Solaris Management Console in the appropriate scope.</para>
<para>For details,
see <olink remap="external" targetdoc="chapter-3.xml" targetptr="roles-15">How to Launch the Solaris Management Console</olink>.</para>
</step>
<step>
<para>Navigate to the User Account tool.</para>
<para>Provide a password
when prompted.</para>
</step>
<step>
<para>Click the Rights tab.</para>
</step>
<step>
<para>
<indexterm xml:id="indexterm-908">
<primary>rights profiles</primary>
<secondary>with Allocate Device authorization</secondary>
</indexterm>Assign to the user a rights profile that contains the Allocate
Device authorization.</para>
<para>The All Authorizations profile includes
administrator authorizations, such as the Revoke or Reclaim Device authorization.
This profile is not suitable for an ordinary user. This profile might not
be suitable for all roles.</para>
<para>If the existing profiles are not appropriate,
the Security Administrator role can create a new profile. For an example,
see <olink remap="external" targetdoc="chapter-7.xml" targetptr="manageusers-40">How to Create a Convenient Authorizations
Rights Profile</olink>. The Security Administrator role creates and reconfigures
profiles.</para>
</step>
</procedure>
<example xml:id="managedev-27">

<title>Assigning Device Authorizations to a Role</title>
<indexterm xml:id="indexterm-909">
<primary>authorizations</primary>
<secondary>profiles that include device allocation authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-910">
<primary>device allocation</primary>
<secondary>profiles that include allocation authorizations</secondary>
</indexterm>
<para>In this example, the Security Administrator role chooses Administrative
Roles in the User Accounts tool and navigates to the Rights tab. The administrator
assigns one or more of the following rights profiles.</para>
<itemizedlist>
<para>
<indexterm xml:id="indexterm-911">
<primary>rights profiles</primary>
<secondary>with device allocation authorizations</secondary>
</indexterm>
<indexterm xml:id="indexterm-912">
<primary>Allocate Device authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-913">
<primary>authorizations</primary>
<secondary>Allocate Device</secondary>
</indexterm>The following profiles enable a role to allocate devices:</para>
<listitem>
<para>All Authorizations</para>
</listitem>
<listitem>
<para>Device Management</para>
</listitem>
<listitem>
<para>Media Backup</para>
</listitem>
<listitem>
<para>Media Restore</para>
</listitem>
<listitem>
<para>Object Label Management</para>
</listitem>
<listitem>
<para>Software Installation</para>
</listitem>
</itemizedlist>
<itemizedlist>
<para>
<indexterm xml:id="indexterm-914">
<primary>Revoke or Reclaim Device authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-915">
<primary>authorizations</primary>
<secondary>Revoke or Reclaim Device</secondary>
</indexterm>The following profiles enable a role to revoke or reclaim devices:</para>
<listitem>
<para>All Authorizations</para>
</listitem>
<listitem>
<para>Device Management</para>
</listitem>
</itemizedlist>
<itemizedlist>
<para>
<indexterm xml:id="indexterm-916">
<primary>Configure Device Attributes authorization</primary>
</indexterm>
<indexterm xml:id="indexterm-917">
<primary>authorizations</primary>
<secondary>Configure Device Attributes</secondary>
</indexterm>The following profiles enable a role to create or configure devices:</para>
<listitem>
<para>All Authorizations</para>
</listitem>
<listitem>
<para>Device Security</para>
</listitem>
</itemizedlist>
</example>
<example xml:id="managedev-15">

<title>Assigning New Device Authorizations</title>
<orderedlist>
<para>In this example, the security administrator configures the new device
authorizations. The Security Administrator role does the following:</para>
<listitem>
<para>Creates new device authorizations, as in <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-10">How to Create New Device Authorizations</olink>.</para>
</listitem>
<listitem>
<para>In the Device Allocation Manager, adds the new device authorizations
to the tape and diskette devices.</para>
</listitem>
<listitem>
<para>Places the new authorizations in the rights profile, NewCo
Allocation.</para>
</listitem>
<listitem>
<para>Adds the NewCo Allocation profile to the profiles of users
and roles who are authorized to allocate tapes and diskette drives.</para>
</listitem>
</orderedlist>
<para>Authorized users and roles can now use the tape drives and diskette
drives on this system.</para>
</example>
</task>
</sect2>
</sect1>
<sect1 xml:id="managedev-18">
<title>Using Devices in Trusted Extensions (Tasks)</title>
<indexterm xml:id="indexterm-918">
<primary>users</primary>
<secondary>using devices</secondary>
</indexterm>
<indexterm xml:id="indexterm-919">
<primary>devices</primary>
<secondary>using</secondary>
</indexterm>
<indexterm xml:id="indexterm-920">
<primary>tasks and task maps</primary>
<secondary>Using Devices in Trusted Extensions (Tasks)</secondary>
</indexterm>
<indexterm xml:id="indexterm-921">
<primary>Using Devices in Trusted Extensions (Tasks)</primary>
</indexterm>
<para>In Trusted Extensions, all roles are authorized to allocate a device. Like
users, roles must use the Device Allocation Manager. The <command>allocate</command> command
does not work in Trusted Extensions. The following task map points to convenient
procedures for using devices.</para>
<informaltable frame="all" pgwide="1">
<tgroup cols="2" colsep="1" rowsep="1">
<colspec colname="colspec0" colwidth="89.48*"/>
<colspec colname="colspec1" colwidth="139.52*"/>
<thead>
<row>
<entry>
<para>Task</para>
</entry>
<entry>
<para>For Instructions</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<para>Allocate and deallocate a device</para>
</entry>
<entry>
<para>
<olink remap="external" targetdoc="819-7313" targetptr="ugelem-27">
<citetitle remap="section">How to Allocate a Device</citetitle> in <citetitle remap="book">Solaris Trusted Extensions User’s Guide</citetitle>
</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Listen to music</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-12">How to Listen to a Music CD</olink>
</para>
</entry>
</row>
<row>
<entry>
<para>Load a diskette for reading or writing</para>
</entry>
<entry>
<para>
<olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-14">How to Load Removable Media That Has
a File System</olink>
</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
<sect2>
<title/>
<task id="managedev-12">

<title>How to Listen to a Music CD</title>
<indexterm xml:id="indexterm-922">
<primary>devices</primary>
<secondary>using audio</secondary>
</indexterm>
<indexterm xml:id="indexterm-923">
<primary>audio devices</primary>
<secondary>allocating</secondary>
</indexterm>
<indexterm xml:id="indexterm-924">
<primary>CD-ROM devices</primary>
<secondary>allocating</secondary>
</indexterm>
<indexterm xml:id="indexterm-925">
<primary>CD-ROM devices</primary>
<secondary>playing music</secondary>
</indexterm>
<indexterm xml:id="indexterm-926">
<primary>allocating</primary>
<secondary>music CD</secondary>
</indexterm>
<indexterm xml:id="indexterm-927">
<primary>allocating</primary>
<secondary>audio device</secondary>
</indexterm>
<indexterm xml:id="indexterm-928">
<primary>allocating</primary>
<secondary>CD-ROM device</secondary>
</indexterm>
<taskprerequisites>

<para>The user must be authorized to allocate the audio and CD-ROM devices.</para>
</taskprerequisites>
<procedure>
<step>
<para>Allocate the audio device and the CD-ROM drive.</para>
<para>Use
the Device Allocation Manager. For instructions, see <olink remap="external" targetdoc="819-7313" targetptr="ugelem-27">
<citetitle remap="section">How to Allocate a Device</citetitle> in <citetitle remap="book">Solaris Trusted Extensions User’s Guide</citetitle>
</olink>.</para>
</step>
<step>
<para>Insert the music CD.</para>
</step>
<step>
<para>When you are asked, do not mount the CD-ROM.</para>
<itemizedlist>
<listitem>
<para>If the administrator has defined an <literal>audio</literal> action
in <filename>rmmount.conf</filename>, the <literal>audio</literal> action
executes.</para>
<para>To set up an audio action for users, see <olink remap="internal" targetdoc="chapter-17.xml" targetptr="managedev-29">How to Configure an Audio Player Program for Use</olink>.</para>
</listitem>
<listitem>
<para>By default, no <literal>audio</literal> action is specified.</para>
<para>To play the CD, invoke an audioplayer application.</para>
</listitem>
</itemizedlist>
</step>
</procedure>
<taskrelated role="troubleshooting">

<para>
<indexterm xml:id="indexterm-929">
<primary>devices</primary>
<secondary>troubleshooting</secondary>
</indexterm>
<indexterm xml:id="indexterm-930">
<primary>troubleshooting</primary>
<secondary>playing music CD</secondary>
</indexterm>If you are authorized to allocate the audio and CD-ROM devices,
and one of the devices is not listed, the device might be already allocated.
Or, the device might be in an allocate error state. Contact the system administrator.</para>
</taskrelated>
</task>
</sect2>
<sect2>
<title/>
<task id="managedev-14">

<title>How to Load Removable Media That
Has a File System</title>
<indexterm xml:id="indexterm-931">
<primary>devices</primary>
<secondary>using removable media</secondary>
</indexterm>
<indexterm xml:id="indexterm-932">
<primary>allocating</primary>
<secondary>removable media</secondary>
</indexterm>
<indexterm xml:id="indexterm-933">
<primary>mounting</primary>
<secondary>removable media</secondary>
</indexterm>
<taskprerequisites>

<para>You must be authorized to allocate the device. All roles are authorized
to allocate devices. To grant users the Allocate Device authorization, see <olink remap="external" targetdoc="chapter-7.xml" targetptr="manageusers-40">How to Create a Convenient Authorizations Rights
Profile</olink>.</para>
</taskprerequisites>
<procedure>
<step>
<para>Log in as an ordinary user.</para>
</step>
<step>
<para>Allocate the appropriate device in a workspace at the appropriate
label.</para>
<stepalternatives>
<step>
<para>To perform an administrative task, you assume a role. </para>
<stepalternatives>
<step>
<para>To load the file system on the media into the global zone, allocate
the media in the global zone.</para>
</step>
<step>
<para>To load the file system on the media into a labeled zone, create
a workspace at the appropriate label.</para>
<para>Then, allocate the device.</para>
</step>
</stepalternatives>
</step>
<step>
<para>To load a file system that is not part of an administrative task,
create a workspace at the appropriate label.</para>
<para>Then, allocate the
device.</para>
</step>
</stepalternatives>
<para>Use the Device Allocation Manager. For instructions, see <olink remap="external" targetdoc="819-7313" targetptr="ugelem-27">
<citetitle remap="section">How to Allocate a Device</citetitle> in <citetitle remap="book">Solaris Trusted Extensions User’s Guide</citetitle>
</olink>.</para>
</step>
<step>
<para>Insert the media.</para>
</step>
<step>
<para>Answer the question about whether to mount the diskette:</para>
<stepalternatives>
<step>
<para>To read the device, answer <literal>yes</literal>.</para>
<para>After
the file system on the media is mounted as part of device allocation, a File
Manager appears. The current directory is set to the mount point.</para>
</step>
<step>
<para>To create or modify the file system on the media, answer <literal>no</literal>.</para>
<para>Programs to format media can create a new file system only if
the file system on the media is not mounted.</para>
</step>
</stepalternatives>
</step>
</procedure>
<example xml:id="managedev-28">

<title>Loading Audit Configuration Files</title>
<para>In this example, roles are not yet configured on the system. The <literal>root</literal> user needs to copy configuration files onto removeable media. The
contents of the media are then going to be copied onto other systems. These
files are to be copied to each system that is configured with Trusted Extensions software.</para>
<para>So, the <literal>root</literal> user allocates the <literal>floppy_0</literal> device
in the Device Allocation Manager, and responds <literal>yes</literal> to the
mount query. Then <literal>root</literal> user inserts the diskette with the
configuration files, and copies them to the disk. The diskette is labeled <constant>Trusted Path</constant>.</para>
<para>To read from the media, the root user allocates the device on the receiving
host, then downloads the contents.</para>
<para>
<indexterm xml:id="indexterm-934">
<primary>tape devices</primary>
<secondary>allocating</secondary>
</indexterm>
<indexterm xml:id="indexterm-935">
<primary>allocating</primary>
<secondary>tape drive</secondary>
</indexterm>If the configuration files are on a tape, the <literal>root</literal> user
allocates the <literal>mag_0</literal> device. If the configuration files
are on a CD-ROM, the <literal>root</literal> user allocates the <literal>cdrom_0</literal> device.</para>
</example>
<taskrelated role="troubleshooting">

<para>
<indexterm xml:id="indexterm-936">
<primary>devices</primary>
<secondary>troubleshooting</secondary>
</indexterm>
<indexterm xml:id="indexterm-937">
<primary>troubleshooting</primary>
<secondary>diskette drive not listed in Device Allocation Manager</secondary>
</indexterm>
<indexterm xml:id="indexterm-938">
<primary>diskettes</primary>
<secondary>not listed in Device Allocation Manager</secondary>
</indexterm>If you are authorized to allocate a device, but the device is
not listed, the device might be already allocated. Or, the device might be
in an allocate error state. Contact the system administrator.</para>
</taskrelated>
</task>
</sect2>
</sect1>
</chapter>
