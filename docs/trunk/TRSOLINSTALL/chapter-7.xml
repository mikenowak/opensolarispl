<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML//EN" "docbook.dtd"[
	<!ENTITY % xinclude SYSTEM "xinclude.mod">
	%xinclude;
]>

<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="basic-1">



<title>Common Procedures</title>
<indexterm xml:id="indexterm-301">
<primary>administrative actions</primary>
<seealso>
Device Allocation Manager</seealso>
</indexterm>
<indexterm xml:id="indexterm-302">
<primary>administrative actions</primary>
<seealso>
Solaris Management Console</seealso>
</indexterm>
<toc>
<para>This chapter contains common administrative procedures that are useful
to know when configuring Trusted Extensions software. Each procedure, or part
of it, is specific to Trusted Extensions.</para>
</toc>
<sect1 xml:id="basic-2">
<title>Running Administrative Actions</title>
<indexterm xml:id="indexterm-303">
<primary>administrative actions</primary>
<secondary>location</secondary>
</indexterm>
<para>Trusted Extensions administrative programs are located on the Front Panel
of CDE, and in the Application Manager. The following table shows the icons
and describes the administrative programs.</para>
<table frame="topbot" xml:id="basic-tbl-1">

<title>Administrative Program
Icons and Locations</title>
<tgroup cols="3" colsep="0" rowsep="0">
<colspec colwidth="20.11*"/>
<colspec colwidth="39.48*"/>
<colspec colwidth="39.41*"/>
<thead>
<row rowsep="1">
<entry>
<para>Icon</para>
</entry>
<entry>
<para>Name and Location</para>
</entry>
<entry>
<para>Use</para>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<mediaobject>
<imageobject>
<imagedata fileref="figures/Dtapps.bw.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows the Application Manager icon.</simpara>
</textobject>
</mediaobject>
</entry>
<entry>
<para>
<indexterm xml:id="indexterm-304">
<primary>Application Manager</primary>
<secondary>location</secondary>
</indexterm>The Application Manager is reached from the Workspace menu.</para>
</entry>
<entry>
<para>Holds desktop applications.</para>
</entry>
</row>
<row>
<entry>
<mediaobject>
<imageobject>
<imagedata fileref="figures/Dtagen.m.color.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows the Trusted_Extensions folder icon.</simpara>
</textobject>
</mediaobject>
</entry>
<entry>
<para>
<indexterm xml:id="indexterm-305">
<primary>Trusted_Extensions folder</primary>
<secondary>location</secondary>
</indexterm>
<indexterm xml:id="indexterm-306">
<primary>Trusted_Extensions folder</primary>
<secondary>icon</secondary>
</indexterm>
<indexterm xml:id="indexterm-307">
<primary>icons</primary>
<secondary>for Trusted_Extensions actions</secondary>
</indexterm>The Trusted_Extensions folder is in the Application Manager.</para>
</entry>
<entry>
<para>Holds administrative applications for the local machine.</para>
</entry>
</row>
<row>
<entry>
<mediaobject>
<imageobject>
<imagedata fileref="figures/smcicon.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows the Solaris Management Console icon.</simpara>
</textobject>
</mediaobject>
</entry>
<entry>
<para>
<indexterm xml:id="indexterm-308">
<primary>Solaris Management Console</primary>
<secondary>location</secondary>
</indexterm>
<indexterm xml:id="indexterm-309">
<primary>Solaris Management Console</primary>
<secondary>icon</secondary>
</indexterm>
<indexterm xml:id="indexterm-310">
<primary>icons</primary>
<secondary>for Solaris Management Console</secondary>
</indexterm>The Solaris Management Console GUI is in the Application Manager.</para>
</entry>
<entry>
<para>Administers local and network databases.</para>
</entry>
</row>
<row>
<entry>
<mediaobject>
<imageobject>
<imagedata fileref="figures/FpDevmgr48.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows the Device Allocation Manager icon.</simpara>
</textobject>
</mediaobject>
</entry>
<entry>
<para>
<indexterm xml:id="indexterm-311">
<primary>Device Allocation Manager</primary>
<secondary>location</secondary>
</indexterm>
<indexterm xml:id="indexterm-312">
<primary>Device Allocation Manager</primary>
<secondary>icon</secondary>
</indexterm>
<indexterm xml:id="indexterm-313">
<primary>icons</primary>
<secondary>for device allocation</secondary>
</indexterm>In CDE, the Device Allocation Manager is on the Front Panel.</para>
</entry>
<entry>
<para>Administers devices. Used to allocate and deallocate devices.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
<sect2 xml:id="basic-3">
<title>Using Trusted_Extensions Actions (Tasks)</title>
<indexterm xml:id="indexterm-314">
<primary>Admin Editor action</primary>
<secondary>using</secondary>
</indexterm>
<indexterm xml:id="indexterm-315">
<primary>Application Manager</primary>
<secondary>Trusted_Extensions folder</secondary>
</indexterm>
<para>The Trusted_Extensions folder contains CDE actions for administering
the local system. For a full list of Trusted_Extensions actions, read the
CDE online help.</para>
<task xml:id="basic-12">
<title>How to Find CDE Online Help for Trusted Extensions</title>
<procedure>
<step>
<para>Click the online help icon on the front panel.</para>
</step>
<step>
<para>In the Help Viewer, click the Solaris Trusted Extensions Desktop.</para>
<para>On-item help is also available.</para>
</step>
<step>
<para>If the Help Viewer does not display the Solaris Trusted Extensions
Desktop, find <literal>Trusted</literal> in the index.</para>
<substeps>
<step>
<para>Click the Index ... button.</para>
</step>
<step>
<para>Click All Volumes.</para>
</step>
<step>
<para>In the Entries with: field, type trusted.</para>
</step>
<step>
<para>Click one of the index entries that is returned.</para>
</step>
</substeps>
</step>
</procedure>
</task>
<task xml:id="basic-4">
<title>How to Run a Trusted_Extensions Action</title>
<taskprerequisites>

<para>You must be in a role workspace.</para>
</taskprerequisites>
<procedure>
<step>
<para>Open the Application Manager.</para>
<para>Right-click the background
to bring up the Workspace menu. Choose Applications -&gt; Application Manager
from the top of the menu.</para>
</step>
<step>
<para>Double-click the Trusted_Extensions folder icon.</para>
</step>
<step>
<para>Double-click the appropriate action.</para>
<para>For more details,
see <olink remap="internal" targetdoc="chapter-7.xml" targetptr="basic-5">How to Create or Open a File from the Trusted
Editor</olink>, <olink remap="internal" targetdoc="chapter-7.xml" targetptr="basic-6">Example 7–1</olink> and <olink remap="internal" targetdoc="chapter-7.xml" targetptr="basic-8">Example 7–2</olink>.</para>
</step>
</procedure>
<example>

<title>Opening a File That Has a Defined Action</title>
<indexterm xml:id="indexterm-317">
<primary>Admin Editor action</primary>
<secondary>invoking administrative action</secondary>
</indexterm>
<para>You double-click the file's action in the Trusted_Extensions folder.
The Admin Editor invokes the file.</para>
<para>Files that have their own action include the audit configuration files,
the <filename>label_encodings</filename> file, and the <filename>nsswitch.conf</filename> file.</para>
</example>
<example>

<title>Running a Script From the Trusted_Extensions Folder</title>
<indexterm xml:id="indexterm-318">
<primary>scripts</primary>
<secondary>running</secondary>
</indexterm>
<indexterm xml:id="indexterm-319">
<primary>running scripts</primary>
<secondary>from Trusted_Extensions folder</secondary>
</indexterm>
<para>You double-click the script's action in the Trusted_Extensions folder,
then follow the instructions. The script is finished when its windows have
been dismissed.</para>
<para>Actions that invoke scripts include Initialize Client for LDAP, Start
Zone, Install Zone, and Check Label Encodings.</para>
</example>
</task>
<task xml:id="basic-5">
<title>How to Create or Open a File from the
Trusted Editor</title>
<tasksummary>
<para>Actions that open files in an editor use the Admin Editor icon that
is shown in the following graphic.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/TSdtedit.bw.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows the Admin Editor icon.</simpara>
</textobject>
</mediaobject>
</tasksummary>
<taskprerequisites>

<para>You must be in a role workspace.</para>
</taskprerequisites>
<procedure>
<step>
<para>To create or open a file that does not have its own action, double-click
the Admin Editor action.</para>
<para>A prompt appears for you to specify the
file to be opened.</para>
</step>
<step>
<para>Type the name of the file to be opened.</para>
<para>If the file
exists, it is opened.  If the file does not exist, it is created. You can
create an empty file (<command>touch</command>) by exiting the editor.</para>
<note>

<para>You cannot save a file to a different name from the trusted editor.</para>
</note>
</step>
</procedure>
</task>
</sect2>
<sect2 xml:id="basic-13">
<title>Using the Solaris Management Console</title>
<indexterm xml:id="indexterm-323">
<primary>Solaris Management Console</primary>
<secondary>using</secondary>
</indexterm>
<para>The Solaris Management Console program invokes a Java-based administrative GUI for configuring
and maintaining users and networks. The GUI lists <olink remap="external" targetdoc="glossary-1.xml" targetptr="glossary-145">toolbox</olink>es in a Navigation pane, as shown in the following figure.</para>
<figure xml:id="basic-10">

<title>Solaris Management Console Tools in the Navigation Pane</title>
<mediaobject>
<imageobject>
<imagedata fileref="figures/smc.navpanel.gif"/>
</imageobject>
<textobject>
<simpara>Window shows the System Configuration node with the Users
tools and the Computers and Networks tools.</simpara>
</textobject>
</mediaobject>
</figure>
<para>
<indexterm xml:id="indexterm-324">
<primary>toolboxes</primary>
<secondary>description</secondary>
</indexterm>Trusted Extensions extends the Solaris Management Console to accommodate labels. A toolbox
whose name includes <literal>Policy=TSOL</literal> recognizes Trusted Extensions features.
The following tools recognize Trusted Extensions features:</para>
<para>
<emphasis role="strong">User Accounts –</emphasis> Part of the
Users tool, for administering users. In Trusted Extensions, the default label
and the clearance of a user can be changed here.</para>
<para>
<emphasis role="strong">Administrative Roles –</emphasis> Part
of the Users tool, for administering roles. In Trusted Extensions, the default
label and the clearance of a role can be changed here.</para>
<para>
<emphasis role="strong">Rights –</emphasis> Part of the Users
tool, for constructing rights profiles.  In Trusted Extensions, actions can be
added to rights profiles.</para>
<para>
<emphasis role="strong">Security Templates –</emphasis> Part of
the Computers and Networks tool. This tool creates remote host templates,
that is, updates the <filename>tnrhtp</filename> database, and assigns hosts
to a template, that is, updates the <filename>tnrhdb</filename> database.</para>
<para>
<emphasis role="strong">Trusted Network Zones –</emphasis> Part
of the Computers and Networks tool. This tool associates zone names with labels,
that is, updates the <filename>tnzonecfg</filename> database.</para>
<para>Other tools in the Solaris Management Console work as they do in the Solaris OS.</para>
<task xml:id="basic-proc-1">
<title>How to Locate a Solaris Management Console Tool for Trusted Extensions</title>
<tasksummary>
<para>
<literal>Scope=Files, Policy=TSOL</literal> tools modify local files. <literal>Scope=LDAP, Policy=TSOL</literal> tools
modify naming service files. Read the online help for what the tool does and
how to use it.</para>
</tasksummary>
<taskprerequisites>

<para>You must be superuser or a role in the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>Launch the Solaris Management Console.</para>
<screen># <userinput>/usr/sbin/smc &amp;</userinput>
</screen>
</step>
<step>
<para>Open a Trusted Extensions toolbox.</para>
<para>Find a toolbox whose
name is similar to the following:</para>
<screen>This Computer (<replaceable>this-host</replaceable>: <literal>Scope=Files, Policy=TSOL</literal>)</screen>
</step>
<step>
<para>Click the key to the left of System Configuration.</para>
<para>In
the <literal>Scope=Files, Policy=TSOL</literal> toolbox, under System Configuration, all Trusted Extensions tools
are available.</para>
<para>In the <literal>Scope=LDAP, Policy=TSOL</literal> toolbox, the Trusted Network
Zones tool is not available. This tool operates on labeled zones on the local
host only, so is not administered by a naming service.</para>
</step>
</procedure>
</task>
</sect2>
<sect2 xml:id="basic-9">
<title>Allocating and Deallocating Devices</title>
<indexterm xml:id="indexterm-325">
<primary>Device Allocation Manager</primary>
<secondary>allocating devices</secondary>
</indexterm>
<para>The Device Allocation Manager enables you to allocate and deallocate
devices. Devices must be allocated before they can be used.</para>
<task xml:id="confsys-15">
<title>How to Allocate a Device</title>
<taskprerequisites>

<para>You must be superuser or a role to allocate a device for use in the
global zone. You allocate the device from the global zone.</para>
</taskprerequisites>
<procedure>
<step>
<para>
<indexterm xml:id="indexterm-326">
<primary>icons</primary>
<secondary>for device allocation</secondary>
</indexterm>
<indexterm xml:id="indexterm-327">
<primary>allocating devices</primary>
<secondary>basic procedure</secondary>
</indexterm>
<indexterm xml:id="indexterm-328">
<primary>devices</primary>
<secondary>names of allocatable</secondary>
</indexterm>Click the Device Allocation icon.</para>
<para>Click the triangle
that is above the Style Manager icon on the Front Panel. Its Tools subpanel
includes the Device Allocation Manager icon.</para>
<mediaobject>
<imageobject>
<imagedata fileref="figures/DevAlloc.gif"/>
</imageobject>
<textobject>
<simpara>Illustration shows the Device Allocation Manager icon.</simpara>
</textobject>
</mediaobject>
</step>
<step>
<para>Double-click the device that you want to allocate.</para>
<itemizedlist>
<listitem>
<para>
<literal>audio</literal>[<replaceable>n</replaceable>] –
Is a microphone and speaker.</para>
</listitem>
<listitem>
<para>
<literal>floppy</literal>[<replaceable>n</replaceable>] –
Is a diskette drive.</para>
</listitem>
<listitem>
<para>
<literal>disk</literal>[<replaceable>n</replaceable>] –
  Is a removable disk, such as a JAZ or ZIP drive.</para>
</listitem>
<listitem>
<para>
<literal>cdrom</literal>[<replaceable>n</replaceable>] –
 Is a CD-ROM drive.</para>
</listitem>
<listitem>
<para>
<literal>tape</literal>[<replaceable>n</replaceable>] –
 Is a tape drive.</para>
</listitem>
</itemizedlist>
</step>
<step>
<para>
<indexterm xml:id="indexterm-329">
<primary>mounting</primary>
<secondary>devices</secondary>
</indexterm>Click Yes to mount the device.</para>
<para>A File Manager pops
up showing the mount point.</para>
</step>
</procedure>
<taskrelated>

<para>
<indexterm xml:id="indexterm-330">
<primary>troubleshooting</primary>
<secondary>File Manager not appearing</secondary>
</indexterm>
<indexterm xml:id="indexterm-331">
<primary>File Manager</primary>
<secondary>troubleshooting when it does not appear</secondary>
</indexterm>If a File Manager does not appear, open a File Manager from the
Front Panel. Navigate to <filename class="directory">/</filename>, and double-click <literal>floppy</literal>.</para>
</taskrelated>
</task>
<task xml:id="confsys-19">
<title>How to Deallocate a Device</title>
<procedure>
<step>
<para>Deallocate the device.</para>
<substeps>
<step>
<para>Find the workspace where the Device Allocation action is displayed</para>
</step>
<step>
<para>Double-click the device to be deallocated from the list of allocated
devices.</para>
</step>
</substeps>
</step>
<step>
<para>Remove the media and click OK in the Deallocation dialog box.</para>
</step>
</procedure>
</task>
</sect2>
</sect1>
<sect1 xml:id="basic-7">
<title>Copying To and From Portable Media</title>
<para>When copying to a portable medium, label the medium with the sensitivity
label of the information.</para>
<note>

<para>During installation, superuser or an equivalent role copies administrative
files to and from portable media. Label the media with <constant>Trusted Path</constant>.</para>
</note>
<sect2>
<title/>
<task id="basic-52">

<title>How to Copy Files to Portable Media</title>
<indexterm xml:id="indexterm-334">
<primary>allocating devices</primary>
<secondary>for copying data</secondary>
</indexterm>
<indexterm xml:id="indexterm-335">
<primary>configuration files</primary>
<secondary>copying</secondary>
</indexterm>
<taskprerequisites>

<para>To copy administrative files, you must be in a role in the global zone.
For this procedure, you are using Solaris Trusted Extensions (CDE).</para>
</taskprerequisites>
<procedure>
<step>
<para>Allocate the appropriate device.</para>
<para>Use the Device Allocation
Manager, and insert clean media.</para>
<para>For details, see <olink remap="internal" targetdoc="chapter-7.xml" targetptr="confsys-15">How to Allocate a Device</olink>. A File Manager displays
the contents of the removable media.</para>
</step>
<step>
<para>Open a second File Manager from the Front Panel.</para>
</step>
<step>
<para>Navigate to the folder that contains the files to be copied</para>
<para>For example, you might have copied files to an <filename class="directory">/export/clientfiles</filename> folder.</para>
</step>
<step>
<para>Highlight the icon for a file and drag the file to the File Manager
for the removable media.</para>
<para>Repeat until all files are copied.</para>
</step>
<step>
<para>Deallocate the device.</para>
<para>For details, see <olink remap="internal" targetdoc="chapter-7.xml" targetptr="confsys-19">How to Deallocate a Device</olink>.</para>
</step>
<step>
<para>On the File Manager for the removable media, choose Eject from
the File menu.</para>
<note>

<para>Remember to physically affix a label to the medium with the sensitivity
label of the copied files.</para>
</note>
</step>
</procedure>
<example xml:id="txconf-copy-1">

<title>Keeping Configuration Files Identical on All Systems</title>
<para>The system administrator wants to ensure that every machine is configured
with the same settings. So, on the first machine that is configured, she creates
a directory that cannot be deleted between reboots. In that directory, the
administrator places the files that should be identical or very similar on
all systems.</para>
<para>For example, she copies the Trusted Extensions toolbox that the Solaris Management Console uses
for the LDAP scope, <filename>/var/sadm/smc/toolboxes/tsol_ldap/tsol_ldap.tbx</filename>.
She has customized remote host templates in the <filename>tnrhtp</filename> file,
has a list of DNS servers, and audit configuration files. She also modified
the <filename>policy.conf</filename> file for her site. So, she copies the
files to the permanent directory.</para>
<screen># <userinput>mkdir /export/commonfiles</userinput>
# <userinput>cp  /etc/security/policy.conf \
/etc/security/audit_control \
/etc/security/audit_startup \
/etc/security/tsol/tnrhtp \
/etc/resolv.conf \
/etc/nsswitch.conf \
/export/commonfiles</userinput>
</screen>
<para>She uses the Device Allocation Manager to allocate a diskette in the
global zone, and transfers the files to the diskette. On a separate diskette,
labeled <constant>ADMIN_HIGH</constant>, she puts the <filename>label_encodings</filename> file
for the site.</para>
<para>When she copies the files onto a system, she modifies the <literal>dir:</literal> entries
in the <filename>/etc/security/audit_control</filename> file for that system.</para>
</example>
</task>
</sect2>
<sect2>
<title/>
<task id="basic-25">

<title>How to Copy Files From Portable Media</title>
<tasksummary>
<para>
<indexterm xml:id="indexterm-336">
<primary>media</primary>
<secondary>copying files from removable</secondary>
</indexterm>
<indexterm xml:id="indexterm-337">
<primary>files</primary>
<secondary>copying from removable media</secondary>
</indexterm>It is safe practice to rename the original Trusted Extensions file
before replacing the file. When configuring a system, the root role renames
and copies administrative files.</para>
</tasksummary>
<taskprerequisites>

<para>To copy administrative files, you must be superuser or in a role in
the global zone. For this procedure, you are using Solaris Trusted Extensions (CDE).</para>
</taskprerequisites>
<procedure>
<step>
<para>Allocate the appropriate device.</para>
<para>For details, see <olink remap="internal" targetdoc="chapter-7.xml" targetptr="confsys-15">How to Allocate a Device</olink>.</para>
</step>
<step>
<para>Insert the media that contains the administrative files.</para>
</step>
<step>
<para>If the system has a file of the same name, copy the original file
to a new name.</para>
<para>For example, add <filename>.orig</filename> to
the end of the original file:</para>
<screen># <userinput>cp /etc/security/tsol/tnrhtp /etc/security/tsol/tnrhtp.orig</userinput>
</screen>
</step>
<step>
<para>Open a File Manager from the Front Panel.</para>
</step>
<step>
<para>Navigate to the desired destination directory, such as <filename>/etc/security/tsol</filename>
</para>
</step>
<step>
<para>In the File Manager for the mounted media, highlight the icon
for the file.</para>
<para>Then drag the file to the destination directory
in the second File Manager.</para>
</step>
<step>
<para>Deallocate the device.</para>
<para>For details, see <olink remap="internal" targetdoc="chapter-7.xml" targetptr="confsys-19">How to Deallocate a Device</olink>.</para>
</step>
<step>
<para>When prompted, eject the media.</para>
<para>Then remove the media.</para>
</step>
</procedure>
</task>
</sect2>
</sect1>
</chapter>
