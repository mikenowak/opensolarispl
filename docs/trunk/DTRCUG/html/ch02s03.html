<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Enabling Probes</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="DTrace User Guide"><link rel="up" href="ch02.html" title="Chapter 2. DTrace Basics"><link rel="prev" href="ch02s02.html" title="Specifying Probes in DTrace"><link rel="next" href="ch02s04.html" title="DTrace Action Basics"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Enabling Probes</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a> </td><th width="60%" align="center">Chapter 2. DTrace Basics</th><td width="20%" align="right"> <a accesskey="n" href="ch02s04.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gcfay"></a>Enabling Probes</h2></div></div></div>

<p>You enable probes with the <span><strong class="command">dtrace</strong></span> command by specifying
the probes without the <code class="option">
l</code> option. Without further directions,
DTrace performs the default action when the specified probe fires. The default
probe action indicates only that the specified probe has fired and does not
record any other data. The following code example enables every probe in the <span><strong class="command">sd</strong></span> module.</p>
<div class="example"><a name="gcfbm"></a><p class="title"><b>Example 2.6. Enabling Probes by Module</b></p>


<pre class="programlisting"># <span class="strong"><strong>dtrace -m sd</strong></span>
CPU     ID                     FUNCTION:NAME
  0  17329           sd_media_watch_cb:entry
  0  17330          sd_media_watch_cb:return
  0  17167                      sdinfo:entry
  0  17168                     sdinfo:return
  0  17151                  sdstrategy:entry
  0  17152                 sdstrategy:return
  0  17661          ddi_xbuf_qstrategy:entry
  0  17662         ddi_xbuf_qstrategy:return
  0  17649                xbuf_iostart:entry
  0  17341            sd_xbuf_strategy:entry
  0  17385                sd_xbuf_init:entry
  0  17386               sd_xbuf_init:return
  0  17342           sd_xbuf_strategy:return
  0  17177     sd_mapblockaddr_iostart:entry
  0  17178    sd_mapblockaddr_iostart:return
  0  17179               sd_pm_iostart:entry
  0  17365                 sd_pm_entry:entry
  0  17366                sd_pm_entry:return
  0  17180              sd_pm_iostart:return
  0  17181             sd_core_iostart:entry
  0  17407         sd_add_buf_to_waitq:entry
...</pre>
<p>The output in this example shows that the default action displays the
CPU where the probe fired, the integer probe ID that is assigned by DTrace,
the function where the probe fired, and the probe name.</p>
</div>
<div class="example"><a name="gcfcx"></a><p class="title"><b>Example 2.7. Enabling Probes by Provider</b></p>


<pre class="programlisting"># <span class="strong"><strong>dtrace -P syscall</strong></span>
dtrace: description 'syscall' matched 452 probes
CPU     ID                     FUNCTION:NAME
  0     99                      ioctl:return
  0     98                       ioctl:entry
  0     99                      ioctl:return
  0     98                       ioctl:entry
  0     99                      ioctl:return
  0    234                   sysconfig:entry
  0    235                  sysconfig:return
  0    234                   sysconfig:entry
  0    235                  sysconfig:return
  0    168                   sigaction:entry
  0    169                  sigaction:return
  0    168                   sigaction:entry
  0    169                  sigaction:return
  0     98                       ioctl:entry
  0     99                      ioctl:return
  0    234                   sysconfig:entry
  0    235                  sysconfig:return
  0     38                         brk:entry
  0     39                        brk:return
...</pre>
</div>
<div class="example"><a name="gcfbu"></a><p class="title"><b>Example 2.8. Enabling Probes by Name</b></p>


<pre class="programlisting"># <span class="strong"><strong>dtrace -n zfod</strong></span>
dtrace: description 'zfod' matched 3 probes
CPU     ID                     FUNCTION:NAME
  0   4080                    anon_zero:zfod
  0   4080                    anon_zero:zfod
<span class="strong"><strong>^C</strong></span>
</pre>
</div>
<div class="example"><a name="gcfcs"></a><p class="title"><b>Example 2.9. Enabling Probes by Fully Specified Name</b></p>


<pre class="programlisting"># <span class="strong"><strong>dtrace -n clock:entry</strong></span>
dtrace: description 'clock:entry' matched 1 probe
CPU     ID                     FUNCTION:NAME
  0   4198                       clock:entry
<span class="strong"><strong>^C</strong></span>
</pre>
</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Specifying Probes in DTrace </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> DTrace Action Basics</td></tr></table></div></body></html>
