<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Interaction With Non-Global Zones - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage> > <a href="p4.html">1.&nbsp;&nbsp;Introduction to Solaris Resource Manager</a> > <a href="p4.html#rmintro-21">Resource Management Overview</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p4.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p6.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="rmintro-38"></a><h4>Interaction With Non-Global Zones</h4>
<p>Resource management features can be used with zones to further
refine the application environment. Interactions between these features and
zones are described in applicable sections in this guide.</p>
<a name="rmintro-2"></a><h3>When to Use Resource Management</h3>
<p>Use resource management to ensure that your applications have the required
response times.</p>
<p>Resource management can also increase resource utilization. By categorizing
and prioritizing usage, you can effectively use reserve capacity during off-peak
periods, often eliminating the need for additional processing power. You can
also ensure that resources are not wasted because of load variability.</p>
<a name="rmintro-13"></a><h4>Server Consolidation</h4>
<p>Resource management is ideal for environments that consolidate a number
of applications on a single server.</p>
<p><a name="indexterm-5"></a>The cost and complexity of managing numerous machines encourages
the consolidation of several applications on larger, more scalable servers.
Instead of running each workload on a separate system, with full access to
that system's resources, you can use resource management software to segregate
workloads within the system. Resource management enables you to lower overall
total cost of ownership by running and controlling several dissimilar applications
on a single Solaris system.</p>
<p>If you are providing Internet and application services, you can use
resource management to do the following:</p>
<ul><li><p>Host multiple web servers on a single machine. You can control
the resource consumption for each web site and you can protect each site from
the potential excesses of other sites.</p>
</li>
<li><p>Prevent a faulty common gateway interface (CGI) script from
exhausting CPU resources.</p>
</li>
<li><p>Stop an incorrectly behaving application from leaking all
available virtual memory.</p>
</li>
<li><p>Ensure that one customer's applications are not affected by
another customer's applications that run at the same site.</p>
</li>
<li><p>Provide differentiated levels or classes of service on the
same machine.</p>
</li>
<li><p>Obtain accounting information for billing purposes.</p>
</li>
</ul>
<a name="rmintro-15"></a><h4>Supporting a Large or Varied User Population</h4>
<p>Use resource management features in any system that has a large, diverse
user base, such as an educational institution. If you have a mix of workloads,
the software can be configured to give priority to specific projects.</p>
<p>For example, in large brokerage firms, traders intermittently require
fast access to execute a query or to perform a calculation. Other system users,
however, have more consistent workloads. If you allocate a proportionately
larger amount of processing power to the traders' projects, the traders have
the responsiveness that they need.</p>
<p>Resource management is also ideal for supporting thin-client systems.
These platforms provide stateless consoles with frame buffers and input devices,
such as smart cards. The actual computation is done on a shared server, resulting
in a timesharing type of environment. Use resource management features to
isolate the users on the server. Then, a user who generates excess load does
not monopolize hardware resources and significantly impact others who use
the system.</p>
<a name="rmintro-29"></a><h3>Setting Up Resource Management (Task Map)</h3>
<p>The following task map provides a high-level overview of the steps that
are involved in setting up resource management on your system.</p>
<table><tr><th><p>Task</p>
</th><th><p>Description</p>
</th><th><p>For Instructions</p>
</th></tr>
<tr><td><p>Identify the workloads on your system and categorize each workload by
project.</p>
</td><td><p>Create project entries in either the <tt>/etc/project</tt> file,
in the NIS map, or in the LDAP directory service.</p>
</td><td><p><a href="p6.html#rmtaskproj-9"><tt>project</tt> Database</a></p>
</td></tr>
<tr><td><p>Prioritize the workloads on your system.</p>
</td><td><p>Determine which applications are critical. These workloads might require
preferential access to resources.</p>
</td><td><p>Refer to your business service goals.</p>
</td></tr>
<tr><td><p>Monitor real-time activity on your system.</p>
</td><td><p>Use performance tools to view the current resource consumption of workloads
that are running on your system. You can then evaluate whether you must restrict
access to a given resource or isolate particular workloads from other workloads.</p>
</td><td><p><a href="p50.html#rmconsole-5">Monitoring by System</a> and <tt>cpustat</tt>(1M), <tt>iostat</tt>(1M), <tt>mpstat</tt>(1M), <tt>prstat</tt>(1M), <tt>sar</tt>(1), and <tt>vmstat</tt>(1M) man
pages</p>
</td></tr>
<tr><td><p>Make temporary modifications to the workloads that are running on your
system.</p>
</td><td><p>To determine which values can be altered, refer to the resource controls
that are available in the Solaris system. You can update the values from the
command line while the task or process is running.</p>
</td><td><p><a href="p16.html#rmctrls-4">Available Resource Controls</a>, <a href="p17.html#rmctrls-7">Global and Local Actions on Resource Control Values</a>, <a href="p18.html#rmctrls-13">Temporarily Updating Resource Control Values on a Running System</a> and <tt>rctladm</tt>(1M) and <tt>prctl</tt>(1) man pages.</p>
</td></tr>
<tr><td><p>Set resource controls and project attributes for every project entry
in the <tt>project</tt> database or naming service project database.</p>
</td><td><p>Each project entry in the <tt>/etc/project</tt> file or
the naming service project database can contain one or more resource controls
or attributes. Resource controls constrain tasks and processes attached to
that project. For each threshold value that is placed on a resource control,
you can associate one or more actions to be taken when that value is reached.</p>
<p>You can set resource controls by using the command-line interface. Certain
configuration parameters can also be set by using the Solaris Management Console.</p>
</td><td><p><a href="p6.html#rmtaskproj-9"><tt>project</tt> Database</a>, <a href="p7.html#rmtaskproj-12">Local <tt>/etc/project</tt> File Format</a>, <a href="p16.html#rmctrls-4">Available Resource Controls</a>, <a href="p17.html#rmctrls-7">Global and Local Actions on Resource Control Values</a>,
and <a href="p22.html">Chapter&nbsp;8, Fair Share Scheduler (Overview)</a></p>
</td></tr>
<tr><td><p>Place an upper bound on the resource consumption of physical memory
by collections of processes attached to a project.</p>
</td><td><p>The resource cap enforcement daemon will enforce the physical memory
resource cap defined for the project's <tt>rcap.max-rss</tt> attribute
in the <tt>/etc/project</tt> file.</p>
</td><td><p><a href="p6.html#rmtaskproj-9"><tt>project</tt> Database</a> and <a href="p27.html">Chapter&nbsp;10, Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p>
</td></tr>
<tr><td><p>Create resource pool configurations.</p>
</td><td><p>Resource pools provide a way to partition system resources, such as
processors, and maintain those partitions across reboots. You can add one <tt>project.pool</tt> attribute to each entry in the <tt>/etc/project</tt> file.</p>
</td><td><p><a href="p6.html#rmtaskproj-9"><tt>project</tt> Database</a> and <a href="p32.html">Chapter&nbsp;12, Resource Pools (Overview)</a></p>
</td></tr>
<tr><td><p>Make the fair share scheduler (FSS) your default system scheduler.</p>
</td><td><p>Ensure that all user processes in either a single CPU system or a processor
set belong to the same scheduling class.</p>
</td><td><p><a href="p25.html#rmfss.task-5">Configuring the FSS</a> and <tt>dispadmin</tt>(1M) man page</p>
</td></tr>
<tr><td><p>Activate the extended accounting facility to monitor and record resource
consumption on a task or process basis.</p>
</td><td><p>Use extended accounting data to assess current resource controls and
to plan capacity requirements for future workloads. Aggregate usage on a system-wide
basis can be tracked. To obtain complete usage statistics for related workloads
that span more than one system, the project name can be shared across several
machines.</p>
</td><td><p><a href="p14.html#rmacct.task-2">How to Activate Extended Accounting for Processes, Tasks, and Flows</a> and <tt>acctadm</tt>(1M) man page</p>
</td></tr>
<tr><td><p>(Optional) If you need to make additional adjustments to your configuration,
you can continue to alter the values from the command line. You can alter
the values while the task or process is running.</p>
</td><td><p>Modifications to existing tasks can be applied on a temporary basis
without restarting the project. Tune the values until you are satisfied with
the performance. Then, update the current values in the <tt>/etc/project</tt> file
or in the naming service project database.</p>
</td><td><p><a href="p18.html#rmctrls-13">Temporarily Updating Resource Control Values on a Running System</a> and <tt>rctladm</tt>(1M) and <tt>prctl</tt>(1) man pages</p>
</td></tr>
<tr><td><p>(Optional) Capture extended accounting data.</p>
</td><td><p>Write extended accounting records for active processes and active tasks.
The files that are produced can be used for planning, chargeback, and billing
purposes. There is also a Practical Extraction and Report Language (Perl)
interface to <tt>libexacct</tt> that enables you to develop customized
reporting and extraction scripts.</p>
</td><td><p><tt>wracct</tt>(1M) man
page and <a href="p13.html#rmacct-7">Perl Interface to <tt>libexacct</tt></a></p>
</td></tr>
</table>
</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p4.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p6.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

