<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@17046-->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Introduction to Solaris Resource Manager - System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >System Administration Guide: Solaris Containers-Resource Management and Solaris Zones<?GenHTML /ReferencePage>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&nbsp;</td>
<td><a href="p3.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p5.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<a name="rmintro-1"></a>Chapter&nbsp;1<h3>Introduction to Solaris Resource Manager</h3><p>Resource management functionality is a component of the Solaris Container
environment. Resource management enables you to control how applications use
available system resources. You can do the following:</p>
<ul><li><p>Allocate computing resources, such as processor time</p>
</li>
<li><p>Monitor how the allocations are being used, then adjust the
allocations as necessary</p>
</li>
<li><p>Generate extended accounting information for analysis, billing,
and capacity planning</p>
</li>
</ul>
<p>This chapter covers the following topics.</p>
<ul><li><p><a href="p4.html#rmintro-21">Resource Management Overview</a></p>
</li>
<li><p><a href="p5.html#rmintro-2">When to Use Resource Management</a></p>
</li>
<li><p><a href="p5.html#rmintro-29">Setting Up Resource Management (Task Map)</a></p>
</li>
</ul>
<a name="rmintro-21"></a><h3>Resource Management Overview</h3>
<p>Modern computing environments have to provide a flexible response to
the varying workloads that are generated by different applications on a system.
A <b>workload</b> is an aggregation of all processes of an application
or group of applications. If resource management features are not used, the
Solaris Operating System responds to workload demands by adapting to new application
requests dynamically. This default response generally means that all activity
on the system is given equal access to resources. Solaris resource management
features enable you to treat workloads individually. You can do the following:</p>
<ul><li><p>Restrict access to a specific resource</p>
</li>
<li><p>Offer resources to workloads on a preferential basis</p>
</li>
<li><p>Isolate workloads from each another</p>
</li>
</ul>
<p><a name="indexterm-1"></a>The ability to minimize cross-workload performance compromises,
along with the facilities that monitor resource usage and utilization, is
referred to as <b>resource management</b>. Resource management
is implemented through a collection of algorithms. The algorithms handle the
series of capability requests that an application presents in the course of
its execution.</p>
<p>Resource management facilities permit you to modify the default behavior
of the operating system with respect to different workloads. <b>Behavior</b> primarily
refers to the set of decisions that are made by operating system algorithms
when an application presents one or more resource requests to the system.
You can use resource management facilities to do the following:</p>
<ul><li><p>Deny resources or prefer one application over another for
a larger set of allocations than otherwise permitted</p>
</li>
<li><p>Treat certain allocations collectively instead of through
isolated mechanisms</p>
</li>
</ul>
<p>The implementation of a system configuration that uses the resource
management facilities can serve several purposes. You can do the following:</p>
<ul><li><p>Prevent an application from consuming resources indiscriminately</p>
</li>
<li><p>Change an application's priority based on external events</p>
</li>
<li><p>Balance resource guarantees to a set of applications against
the goal of maximizing system utilization</p>
</li>
</ul>
<p>When planning a resource-managed configuration, key requirements include
the following:</p>
<ul><li><p>Identifying the competing workloads on the system</p>
</li>
<li><p>Distinguishing those workloads that are not in conflict from
those workloads with performance requirements that compromise the primary
workloads</p>
</li>
</ul>
<p>After you identify cooperating and conflicting workloads, you can create
a resource configuration that presents the least compromise to the service
goals of the business, within the limitations of the system's capabilities.</p>
<p>Effective resource management is enabled in the Solaris system by offering
control mechanisms, notification mechanisms, and monitoring mechanisms. Many
of these capabilities are provided through enhancements to existing mechanisms
such as the <tt>proc</tt>(4) file
system, processor sets, and scheduling classes. Other capabilities are specific
to resource management. These capabilities are described in subsequent chapters.</p>
<a name="rmintro-27"></a><h4>Resource Classifications</h4>
<p>A resource is any aspect of the computing system that can be manipulated
with the intent to change application behavior. Thus, a resource is a capability
that an application implicitly or explicitly requests. If the capability is
denied or constrained, the execution of a robustly written application proceeds
more slowly.</p>
<p>Classification of resources, as opposed to identification of resources,
can be made along a number of axes. The axes could be implicitly requested
as opposed to explicitly requested, time-based, such as CPU time, compared
to time-independent, such as assigned CPU shares, and so forth.</p>
<p>Generally, scheduler-based resource management is applied to resources
that the application can implicitly request. For example, to continue execution,
an application implicitly requests additional CPU time. To write data to a
network socket, an application implicitly requests bandwidth. Constraints
can be placed on the aggregate total use of an implicitly requested resource.</p>
<p>Additional interfaces can be presented so that bandwidth or CPU service
levels can be explicitly negotiated. Resources that are explicitly requested,
such as a request for an additional thread, can be managed by constraint.</p>
<a name="rmintro-23"></a><h4>Resource Management Control Mechanisms</h4>
<p>The three types of control mechanisms that are available in the Solaris
Operating System are constraints, scheduling, and partitioning.</p>
<a name="rmintro-24"></a><h5>Constraint Mechanisms</h5>
<p>Constraints allow the administrator or application developer to set
bounds on the consumption of specific resources for a workload. With known
bounds, modeling resource consumption scenarios becomes a simpler process.
Bounds can also be used to control ill-behaved applications that would otherwise
compromise system performance or availability through unregulated resource
requests.</p>
<p><a name="indexterm-2"></a>Constraints do present complications for the application. The
relationship between the application and the system can be modified to the
point that the application is no longer able to function. One approach that
can mitigate this risk is to gradually narrow the constraints on applications
with unknown resource behavior. The resource controls feature discussed in <a href="p16.html">Chapter&nbsp;6, Resource Controls (Overview)</a> provides
a constraint mechanism. Newer applications can be written to be aware of their
resource constraints, but not all application writers will choose to do this.</p>
<a name="rmintro-25"></a><h5>Scheduling Mechanisms</h5>
<p><a name="indexterm-3"></a>Scheduling refers to making a sequence of allocation decisions
at specific intervals. The decision that is made is based on a predictable
algorithm. An application that does not need its current allocation leaves
the resource available for another application's use. Scheduling-based resource
management enables full utilization of an undercommitted configuration, while
providing controlled allocations in a critically committed or overcommitted
scenario. The underlying algorithm defines how the term &ldquo;controlled&rdquo;
is interpreted. In some instances, the scheduling algorithm might guarantee
that all applications have some access to the resource. The fair share scheduler
(FSS) described in <a href="p22.html">Chapter&nbsp;8, Fair Share Scheduler (Overview)</a> manages application access to CPU resources in a controlled
way.</p>
<a name="rmintro-26"></a><h5>Partitioning Mechanisms</h5>
<p><a name="indexterm-4"></a>Partitioning is used to bind a workload to a subset of the system's
available resources. This binding guarantees that a known amount of resources
is always available to the workload. The resource pools functionality that
is described in <a href="p32.html">Chapter&nbsp;12, Resource Pools (Overview)</a> enables you to limit workloads to specific subsets of the
machine.</p>
<p>Configurations that use partitioning can avoid system-wide overcommitment.
However, in avoiding this overcommitment, the ability to achieve high utilizations
can be reduced. A reserved group of resources, such as processors, is not
available for use by another workload when the workload bound to them is idle.</p>
<a name="rmintro-28"></a><h4>Resource Management Configuration</h4>
<p>Portions of the resource management configuration can be placed in a
network name service. This feature allows the administrator to apply resource
management constraints across a collection of machines, rather than on an
exclusively per-machine basis. Related work can share a common identifier,
and the aggregate usage of that work can be tabulated from accounting data.</p>
<p>Resource management configuration and workload-oriented identifiers
are described more fully in <a href="p6.html">Chapter&nbsp;2, Projects and Tasks (Overview)</a>. The extended accounting facility that
links these identifiers with application resource usage is described in <a href="p12.html">Chapter&nbsp;4, Extended Accounting (Overview)</a>. </p>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p3.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p5.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2007 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

